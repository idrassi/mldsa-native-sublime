/* Copyright (c) 2022 Arm Limited
 * Copyright (c) 2022 Hanno Becker
 * Copyright (c) 2023 Amin Abdulrahman, Matthias Kannwischer
 * Copyright (c) The mlkem-native project authors
 * Copyright (c) The mldsa-native project authors
 * SPDX-License-Identifier: Apache-2.0 OR ISC OR MIT
 */

/* References
 * ==========
 *
 * - [NeonNTT]
 *   Neon NTT: Faster Dilithium, Kyber, and Saber on Cortex-A72 and Apple M1
 *   Becker, Hwang, Kannwischer, Yang, Yang
 *   https://eprint.iacr.org/2021/986
 *
 * - [SLOTHY_Paper]
 *   Fast and Clean: Auditable high-performance assembly via constraint solving
 *   Abdulrahman, Becker, Kannwischer, Klein
 *   https://eprint.iacr.org/2022/1303
 */

/* AArch64 ML-DSA inverse NTT following @[NeonNTT] and @[SLOTHY_Paper] */

#include "../../../common.h"
#if defined(MLD_ARITH_BACKEND_AARCH64) &&  !defined(MLD_CONFIG_MULTILEVEL_NO_SHARED)
/* simpasm: header-end */

.macro mulmodq dst, src, const, idx0, idx1
        // Signed barrett multiplication @[NeonNTT, Section 3.1.2] using
        // round-to-nearest-even-integer approximation. Following loc.cit.,
        // this is functionally the same as a signed Montgomery multiplication
        // with a suitable constant of absolute value < q.
        sqrdmulh t2.4s,      \src\().4s, \const\().s[\idx1\()]
        mul      \dst\().4s, \src\().4s, \const\().s[\idx0\()]
        mls      \dst\().4s, t2.4s,      consts.s[0]
        // Bounds: |dst| < BARMUL_BOUND

        // (See the end of this file for the exact value of BARMUL_BOUND)
.endm

.macro mulmod dst, src, const, const_twisted
        // Same as mulmodq, but with different multiplier across each lanes.
        sqrdmulh t2.4s,      \src\().4s, \const_twisted\().4s
        mul      \dst\().4s, \src\().4s, \const\().4s
        mls      \dst\().4s, t2.4s,      consts.s[0]
        // Bounds: |dst| < BARMUL_BOUND
.endm

.macro gs_butterfly a, b, root, idx0, idx1
        // Compute a' = a + b, b' = barmul(a - b, zeta), commonly known as the
        // Gentleman-Sande butterfly.
        sub tmp.4s,   \a\().4s, \b\().4s
        add \a\().4s, \a\().4s, \b\().4s
        mulmodq  \b, tmp, \root, \idx0, \idx1
        // Bounds: |a'| <= |a| + |b|
        // |b'| < BARMUL_BOUND
.endm

.macro gs_butterfly_v a, b, root, root_twisted
        // Same as cs_butterfly, but with different zetas across each lanes.
        sub tmp.4s,   \a\().4s, \b\().4s
        add \a\().4s, \a\().4s, \b\().4s
        mulmod  \b, tmp, \root, \root_twisted
        // Bounds: |a'| <= |a| + |b|
        // |b'| < BARMUL_BOUND
.endm

.macro mul_ninv dst0, dst1, dst2, dst3, src0, src1, src2, src3
        // Scale by 1/256*R via Barrett multiplication
        mulmod \dst0, \src0, ninv, ninv_tw
        mulmod \dst1, \src1, ninv, ninv_tw
        mulmod \dst2, \src2, ninv, ninv_tw
        mulmod \dst3, \src3, ninv, ninv_tw
        // Bounds: |dst{i}| < BARMUL_BOUND
.endm

.macro load_roots_1234
        ldr q_root0, [r123456_ptr], #(8*16)
        ldr q_root1, [r123456_ptr, #(-8*16 + 1*16)]
        ldr q_root2, [r123456_ptr, #(-8*16 + 2*16)]
        ldr q_root3, [r123456_ptr, #(-8*16 + 3*16)]
        ldr q_root4, [r123456_ptr, #(-8*16 + 4*16)]
        ldr q_root5, [r123456_ptr, #(-8*16 + 5*16)]
        ldr q_root6, [r123456_ptr, #(-8*16 + 6*16)]
        ldr q_root7, [r123456_ptr, #(-8*16 + 7*16)]
.endm

.macro load_next_roots_56
        ldr d_root1, [r123456_ptr], #32
        ldr q_root0, [r123456_ptr, #-16]
.endm

.macro load_next_roots_78
        ldr q_root0,    [r78_ptr], #(6*16)
        ldr q_root0_tw, [r78_ptr, #(-6*16 + 1*16)]
        ldr q_root1,    [r78_ptr, #(-6*16 + 2*16)]
        ldr q_root1_tw, [r78_ptr, #(-6*16 + 3*16)]
        ldr q_root2,    [r78_ptr, #(-6*16 + 4*16)]
        ldr q_root2_tw, [r78_ptr, #(-6*16 + 5*16)]
.endm

.macro transpose4 data0, data1, data2, data3
        trn1 t0.4s, \data0\().4s, \data1\().4s
        trn2 t1.4s, \data0\().4s, \data1\().4s
        trn1 t2.4s, \data2\().4s, \data3\().4s
        trn2 t3.4s, \data2\().4s, \data3\().4s

        trn2 \data2\().2d, t0.2d, t2.2d
        trn2 \data3\().2d, t1.2d, t3.2d
        trn1 \data0\().2d, t0.2d, t2.2d
        trn1 \data1\().2d, t1.2d, t3.2d
.endm

.macro save_vregs
        sub sp, sp, #(16*4)
        stp  d8,  d9, [sp, #16*0]
        stp d10, d11, [sp, #16*1]
        stp d12, d13, [sp, #16*2]
        stp d14, d15, [sp, #16*3]
.endm

.macro restore_vregs
        ldp  d8,  d9, [sp, #16*0]
        ldp d10, d11, [sp, #16*1]
        ldp d12, d13, [sp, #16*2]
        ldp d14, d15, [sp, #16*3]
        add sp, sp, #(16*4)
.endm

.macro push_stack
        save_vregs
.endm

.macro pop_stack
        restore_vregs
.endm

        in          .req x0
        r78_ptr     .req x1
        r123456_ptr .req x2

        inp     .req x3
        count   .req x4
        wtmp    .req w5

        data0  .req v8
        data1  .req v9
        data2  .req v10
        data3  .req v11
        data4  .req v12
        data5  .req v13
        data6  .req v14
        data7  .req v15
        data8  .req v16
        data9  .req v17
        data10 .req v18
        data11 .req v19
        data12 .req v20
        data13 .req v21
        data14 .req v22
        data15 .req v23

        q_data0  .req q8
        q_data1  .req q9
        q_data2  .req q10
        q_data3  .req q11
        q_data4  .req q12
        q_data5  .req q13
        q_data6  .req q14
        q_data7  .req q15
        q_data8  .req q16
        q_data9  .req q17
        q_data10 .req q18
        q_data11 .req q19
        q_data12 .req q20
        q_data13 .req q21
        q_data14 .req q22
        q_data15 .req q23

        root0    .req v0
        root1    .req v1
        root2    .req v2
        root3    .req v3
        root4    .req v4
        root5    .req v5
        root6    .req v6
        root7    .req v7
        root0_tw .req v4
        root1_tw .req v5
        root2_tw .req v6
        root3_tw .req v7

        consts     .req v31
        q_consts   .req q31

        q_root0    .req q0
        q_root1    .req q1
        q_root2    .req q2
        q_root3    .req q3
        q_root4    .req q4
        q_root5    .req q5
        q_root6    .req q6
        q_root7    .req q7
        q_root0_tw .req q4
        q_root1_tw .req q5
        q_root2_tw .req q6
        q_root3_tw .req q7

        d_root1    .req d1

        tmp .req v24
        t0  .req v25
        t1  .req v26
        t2  .req v27
        t3  .req v28

        ninv             .req v29
        ninv_tw          .req v30

        .text
        .global MLD_ASM_NAMESPACE(intt_asm)
        .balign 4
MLD_ASM_FN_SYMBOL(intt_asm)
        push_stack

        // Load MLDSA_Q = 8380417
        movz wtmp, #0xe001
        movk wtmp, #0x7f, lsl #16
        dup consts.4s, wtmp

        mov inp, in
        mov count, #16

        .p2align 2
                                                // Instructions:    99
                                                // Expected cycles: 68
                                                // Expected IPC:    1.46

                                                // Cycle bound:     68.0
                                                // IPC bound:       1.46

                                                // Wall time:     14.57s
                                                // User time:     14.57s

                                                // ------------------------ cycle (expected) ------------------------->
                                                // 0                        25                       50
                                                // |------------------------|------------------------|-----------------
        ldr q27, [x3, #16]                      // *...................................................................
        ldr q18, [x3, #0]                       // *...................................................................
        ldr q3, [x3, #32]                       // .*..................................................................
        ldr q13, [x3, #48]                      // .*..................................................................
        ldr q2, [x1, #48]                       // ..*.................................................................
        ldr q8, [x3, #112]                      // ...*................................................................
        ldr q21, [x3, #96]                      // ...*................................................................
        trn1 v10.4S, v18.4S, v27.4S             // ....*...............................................................
        trn2 v23.4S, v18.4S, v27.4S             // ....*...............................................................
        trn1 v6.4S, v3.4S, v13.4S               // .....*..............................................................
        trn2 v18.4S, v3.4S, v13.4S              // .....*..............................................................
        ldr q12, [x1, #80]                      // ......*.............................................................
        ldr q17, [x1, #64]                      // ......*.............................................................
        trn2 v29.2D, v10.2D, v6.2D              // .......*............................................................
        trn2 v14.2D, v23.2D, v18.2D             // .......*............................................................
        trn1 v10.2D, v10.2D, v6.2D              // ........*...........................................................
        trn1 v26.2D, v23.2D, v18.2D             // ........*...........................................................
        sub v3.4S, v29.4S, v14.4S               // .........*..........................................................
        trn1 v13.4S, v21.4S, v8.4S              // .........*..........................................................
        ldr q6, [x1, #16]                       // ..........*.........................................................
        add v24.4S, v10.4S, v26.4S              // ..........*.........................................................
        sub v30.4S, v10.4S, v26.4S              // ...........*........................................................
        sqrdmulh v12.4S, v3.4S, v12.4S          // ...........*........................................................
        ldr q9, [x1, #32]                       // ............*.......................................................
        sqrdmulh v5.4S, v30.4S, v2.4S           // .............*......................................................
        mul v4.4S, v3.4S, v17.4S                // ...............*....................................................
        ldr q3, [x3, #80]                       // ...............*....................................................
        add v10.4S, v29.4S, v14.4S              // ................*...................................................
        ldr q26, [x3, #64]                      // ................*...................................................
        mul v15.4S, v30.4S, v9.4S               // .................*..................................................
        trn2 v30.4S, v21.4S, v8.4S              // .................*..................................................
        sub v21.4S, v24.4S, v10.4S              // ..................*.................................................
        add v29.4S, v24.4S, v10.4S              // ...................*................................................
        mls v15.4S, v5.4S, v31.S[0]             // ...................*................................................
        ldr q16, [x1], #(6*16)                  // ....................*...............................................
        trn2 v10.4S, v26.4S, v3.4S              // ....................*...............................................
        mls v4.4S, v12.4S, v31.S[0]             // .....................*..............................................
        trn1 v3.4S, v26.4S, v3.4S               // .....................*..............................................
        ldr q0, [x1, #80]                       // ......................*.............................................
        trn2 v25.2D, v10.2D, v30.2D             // ......................*.............................................
        sqrdmulh v12.4S, v21.4S, v6.4S          // .......................*............................................
        trn2 v1.2D, v3.2D, v13.2D               // .......................*............................................
        mul v21.4S, v21.4S, v16.4S              // .........................*..........................................
        sub v23.4S, v1.4S, v25.4S               // .........................*..........................................
        sub v2.4S, v15.4S, v4.4S                // ..........................*.........................................
        add v20.4S, v15.4S, v4.4S               // ...........................*........................................
        sqrdmulh v4.4S, v23.4S, v0.4S           // ...........................*........................................
        trn1 v7.2D, v3.2D, v13.2D               // .............................*......................................
        sqrdmulh v3.4S, v2.4S, v6.4S            // .............................*......................................
        trn1 v15.2D, v10.2D, v30.2D             // ..............................*.....................................
        mls v21.4S, v12.4S, v31.S[0]            // ...............................*....................................
        ldr q12, [x1, #48]                      // ...............................*....................................
        sub v13.4S, v7.4S, v15.4S               // ................................*...................................
        mul v10.4S, v2.4S, v16.4S               // .................................*..................................
        ldr q16, [x1, #64]                      // .................................*..................................
        ldr q5, [x1, #32]                       // ..................................*.................................
        mls v10.4S, v3.4S, v31.S[0]             // ...................................*................................
        trn2 v11.4S, v29.4S, v20.4S             // ...................................*................................
        sqrdmulh v2.4S, v13.4S, v12.4S          // .....................................*..............................
        ldr d9, [x2], #32                       // .....................................*..............................
        mul v17.4S, v13.4S, v5.4S               // .......................................*............................
        trn1 v24.4S, v29.4S, v20.4S             // .......................................*............................
        trn1 v12.4S, v21.4S, v10.4S             // ........................................*...........................
        trn2 v10.4S, v21.4S, v10.4S             // .........................................*..........................
        mul v22.4S, v23.4S, v16.4S              // .........................................*..........................
        ldr q26, [x2, #-16]                     // ..........................................*.........................
        trn1 v13.2D, v24.2D, v12.2D             // ..........................................*.........................
        trn1 v3.2D, v11.2D, v10.2D              // ...........................................*........................
        mls v17.4S, v2.4S, v31.S[0]             // ...........................................*........................
        mls v22.4S, v4.4S, v31.S[0]             // .............................................*......................
        sub v23.4S, v13.4S, v3.4S               // .............................................*......................
        trn2 v10.2D, v11.2D, v10.2D             // ..............................................*.....................
        sqrdmulh v0.4S, v23.4S, v26.S[1]        // ...............................................*....................
        trn2 v21.2D, v24.2D, v12.2D             // ...............................................*....................
        mul v29.4S, v23.4S, v26.S[0]            // .................................................*..................
        sub v23.4S, v21.4S, v10.4S              // .................................................*..................
        sqrdmulh v8.4S, v23.4S, v26.S[3]        // ...................................................*................
        add v6.4S, v1.4S, v25.4S                // ....................................................*...............
        add v11.4S, v21.4S, v10.4S              // .....................................................*..............
        mls v29.4S, v0.4S, v31.S[0]             // .....................................................*..............
        add v30.4S, v13.4S, v3.4S               // ......................................................*.............
        ldr q2, [x1, #16]                       // .......................................................*............
        mul v3.4S, v23.4S, v26.S[2]             // .......................................................*............
        add v12.4S, v7.4S, v15.4S               // ........................................................*...........
        mls v3.4S, v8.4S, v31.S[0]              // .........................................................*..........
        sub v13.4S, v30.4S, v11.4S              // .........................................................*..........
        sub v21.4S, v12.4S, v6.4S               // ..........................................................*.........
        add v26.4S, v17.4S, v22.4S              // ...........................................................*........
        sqrdmulh v28.4S, v13.4S, v9.S[1]        // ...........................................................*........
        mul v18.4S, v13.4S, v9.S[0]             // .............................................................*......
        sub v8.4S, v29.4S, v3.4S                // ..............................................................*.....
        sqrdmulh v24.4S, v21.4S, v2.4S          // ...............................................................*....
        add v15.4S, v30.4S, v11.4S              // ...............................................................*....
        add v10.4S, v29.4S, v3.4S               // ................................................................*...
        add v14.4S, v12.4S, v6.4S               // .................................................................*..
        sqrdmulh v16.4S, v8.4S, v9.S[1]         // .................................................................*..
        sub v3.4S, v17.4S, v22.4S               // ..................................................................*.
        mul v8.4S, v8.4S, v9.S[0]               // ...................................................................*
        ldr q17, [x1], #(6*16)                  // ...................................................................*

                                                 // ------------------------ cycle (expected) ------------------------->
                                                 // 0                        25                       50
                                                 // |------------------------|------------------------|-----------------
        // ldr q7, [x3, #32]                      // .*..................................................................
        // ldr q27, [x3, #48]                     // .*..................................................................
        // ldr q29, [x3, #0]                      // *...................................................................
        // ldr q25, [x3, #16]                     // *...................................................................
        // trn1 v1.4S, v7.4S, v27.4S              // .....*..............................................................
        // ldr q15, [x1, #80]                     // ......*.............................................................
        // trn2 v12.4S, v7.4S, v27.4S             // .....*..............................................................
        // trn1 v21.4S, v29.4S, v25.4S            // ....*...............................................................
        // trn2 v19.4S, v29.4S, v25.4S            // ....*...............................................................
        // ldr q22, [x1, #48]                     // ..*.................................................................
        // trn2 v13.2D, v21.2D, v1.2D             // .......*............................................................
        // trn2 v5.2D, v19.2D, v12.2D             // .......*............................................................
        // trn1 v17.2D, v21.2D, v1.2D             // ........*...........................................................
        // ldr q29, [x1, #64]                     // ......*.............................................................
        // sub v30.4S, v13.4S, v5.4S              // .........*..........................................................
        // trn1 v24.2D, v19.2D, v12.2D            // ........*...........................................................
        // sqrdmulh v16.4S, v30.4S, v15.4S        // ...........*........................................................
        // ldr q10, [x1, #32]                     // ............*.......................................................
        // mul v11.4S, v30.4S, v29.4S             // ...............*....................................................
        // sub v8.4S, v17.4S, v24.4S              // ...........*........................................................
        // ldr q2, [x1, #16]                      // ..........*.........................................................
        // sqrdmulh v19.4S, v8.4S, v22.4S         // .............*......................................................
        // mul v8.4S, v8.4S, v10.4S               // .................*..................................................
        // mls v11.4S, v16.4S, v31.S[0]           // .....................*..............................................
        // add v20.4S, v13.4S, v5.4S              // ................*...................................................
        // add v9.4S, v17.4S, v24.4S              // ..........*.........................................................
        // ldr q17, [x1], #(6*16)                 // ....................*...............................................
        // sub v21.4S, v9.4S, v20.4S              // ..................*.................................................
        // mls v8.4S, v19.4S, v31.S[0]            // ...................*................................................
        // sub v3.4S, v8.4S, v11.4S               // ..........................*.........................................
        // add v26.4S, v8.4S, v11.4S              // ...........................*........................................
        // add v14.4S, v9.4S, v20.4S              // ...................*................................................
        // sqrdmulh v24.4S, v21.4S, v2.4S         // .......................*............................................
        // ldr d4, [x2], #32                      // .....................................*..............................
        // mul v0.4S, v21.4S, v17.4S              // .........................*..........................................
        // ldr q7, [x3, #96]                      // ...*................................................................
        // ldr q27, [x3, #112]                    // ...*................................................................
        // ldr q29, [x3, #64]                     // ................*...................................................
        // trn1 v9.4S, v14.4S, v26.4S             // .......................................*............................
        // ldr q25, [x3, #80]                     // ...............*....................................................
        // mls v0.4S, v24.4S, v31.S[0]            // ...............................*....................................
        // trn1 v1.4S, v7.4S, v27.4S              // .........*..........................................................
        // ldr q15, [x1, #80]                     // ......................*.............................................
        // trn2 v12.4S, v7.4S, v27.4S             // .................*..................................................
        // sqrdmulh v16.4S, v3.4S, v2.4S          // .............................*......................................
        // trn1 v21.4S, v29.4S, v25.4S            // .....................*..............................................
        // trn2 v19.4S, v29.4S, v25.4S            // ....................*...............................................
        // ldr q22, [x1, #48]                     // ...............................*....................................
        // trn2 v13.2D, v21.2D, v1.2D             // .......................*............................................
        // trn2 v5.2D, v19.2D, v12.2D             // ......................*.............................................
        // mul v23.4S, v3.4S, v17.4S              // .................................*..................................
        // trn1 v17.2D, v21.2D, v1.2D             // .............................*......................................
        // ldr q29, [x1, #64]                     // .................................*..................................
        // mls v23.4S, v16.4S, v31.S[0]           // ...................................*................................
        // sub v30.4S, v13.4S, v5.4S              // .........................*..........................................
        // trn1 v24.2D, v19.2D, v12.2D            // ..............................*.....................................
        // sqrdmulh v16.4S, v30.4S, v15.4S        // ...........................*........................................
        // ldr q10, [x1, #32]                     // ..................................*.................................
        // trn2 v12.4S, v14.4S, v26.4S            // ...................................*................................
        // mul v11.4S, v30.4S, v29.4S             // .........................................*..........................
        // sub v8.4S, v17.4S, v24.4S              // ................................*...................................
        // trn1 v20.4S, v0.4S, v23.4S             // ........................................*...........................
        // ldr q2, [x1, #16]                      // .......................................................*............
        // trn2 v26.4S, v0.4S, v23.4S             // .........................................*..........................
        // sqrdmulh v19.4S, v8.4S, v22.4S         // .....................................*..............................
        // ldr q14, [x2, #-16]                    // ..........................................*.........................
        // trn1 v21.2D, v9.2D, v20.2D             // ..........................................*.........................
        // mul v8.4S, v8.4S, v10.4S               // .......................................*............................
        // trn1 v6.2D, v12.2D, v26.2D             // ...........................................*........................
        // trn2 v0.2D, v9.2D, v20.2D              // ...............................................*....................
        // mls v11.4S, v16.4S, v31.S[0]           // .............................................*......................
        // sub v7.4S, v21.4S, v6.4S               // .............................................*......................
        // trn2 v28.2D, v12.2D, v26.2D            // ..............................................*.....................
        // add v10.4S, v21.4S, v6.4S              // ......................................................*.............
        // mul v18.4S, v7.4S, v14.S[0]            // .................................................*..................
        // add v20.4S, v13.4S, v5.4S              // ....................................................*...............
        // sqrdmulh v30.4S, v7.4S, v14.S[1]       // ...............................................*....................
        // sub v21.4S, v0.4S, v28.4S              // .................................................*..................
        // add v13.4S, v0.4S, v28.4S              // .....................................................*..............
        // add v9.4S, v17.4S, v24.4S              // ........................................................*...........
        // sqrdmulh v1.4S, v21.4S, v14.S[3]       // ...................................................*................
        // ldr q17, [x1], #(6*16)                 // ...................................................................*
        // mul v14.4S, v21.4S, v14.S[2]           // .......................................................*............
        // sub v21.4S, v9.4S, v20.4S              // ..........................................................*.........
        // mls v18.4S, v30.4S, v31.S[0]           // .....................................................*..............
        // mls v14.4S, v1.4S, v31.S[0]            // .........................................................*..........
        // mls v8.4S, v19.4S, v31.S[0]            // ...........................................*........................
        // sub v3.4S, v10.4S, v13.4S              // .........................................................*..........
        // add v15.4S, v10.4S, v13.4S             // ...............................................................*....
        // sqrdmulh v28.4S, v3.4S, v4.S[1]        // ...........................................................*........
        // add v10.4S, v18.4S, v14.4S             // ................................................................*...
        // sub v19.4S, v18.4S, v14.4S             // ..............................................................*.....
        // mul v18.4S, v3.4S, v4.S[0]             // .............................................................*......
        // sub v3.4S, v8.4S, v11.4S               // ..................................................................*.
        // add v26.4S, v8.4S, v11.4S              // ...........................................................*........
        // sqrdmulh v16.4S, v19.4S, v4.S[1]       // .................................................................*..
        // add v14.4S, v9.4S, v20.4S              // .................................................................*..
        // mul v8.4S, v19.4S, v4.S[0]             // ...................................................................*
        // sqrdmulh v24.4S, v21.4S, v2.4S         // ...............................................................*....

        sub count, count, #2
intt_layer5678_start:
                                                // Instructions:    72
                                                // Expected cycles: 48
                                                // Expected IPC:    1.50

                                                // Cycle bound:     48.0
                                                // IPC bound:       1.50

                                                // Wall time:     8.79s
                                                // User time:     8.79s

                                                // -------------- cycle (expected) --------------->
                                                // 0                        25
                                                // |------------------------|----------------------
        ldr d4, [x2], #32                       // *...............................................
        mul v0.4S, v21.4S, v17.4S               // *...............................................
        ldr q7, [x3, #160]                      // .e..............................................
        ldr q27, [x3, #176]                     // .e..............................................
        mls v8.4S, v16.4S, v31.S[0]             // ..l.............................................
        ldr q29, [x3, #128]                     // ..e.............................................
        trn1 v9.4S, v14.4S, v26.4S              // ...*............................................
        ldr q25, [x3, #144]                     // ...e............................................
        mls v0.4S, v24.4S, v31.S[0]             // ....*...........................................
        str q15, [x3], #(64)                    // ....l...........................................
        trn1 v1.4S, v7.4S, v27.4S               // .....e..........................................
        ldr q15, [x1, #80]                      // .....e..........................................
        trn2 v12.4S, v7.4S, v27.4S              // ......e.........................................
        sqrdmulh v16.4S, v3.4S, v2.4S           // ......*.........................................
        trn1 v21.4S, v29.4S, v25.4S             // .......e........................................
        str q8, [x3, #-16]                      // .......l........................................
        trn2 v19.4S, v29.4S, v25.4S             // ........e.......................................
        mls v18.4S, v28.4S, v31.S[0]            // ........l.......................................
        ldr q22, [x1, #48]                      // .........e......................................
        trn2 v13.2D, v21.2D, v1.2D              // .........e......................................
        trn2 v5.2D, v19.2D, v12.2D              // ..........e.....................................
        mul v23.4S, v3.4S, v17.4S               // ..........*.....................................
        trn1 v17.2D, v21.2D, v1.2D              // ...........e....................................
        ldr q29, [x1, #64]                      // ...........e....................................
        mls v23.4S, v16.4S, v31.S[0]            // ............*...................................
        sub v30.4S, v13.4S, v5.4S               // ............e...................................
        trn1 v24.2D, v19.2D, v12.2D             // .............e..................................
        str q10, [x3, #-48]                     // .............l..................................
        sqrdmulh v16.4S, v30.4S, v15.4S         // ..............e.................................
        ldr q10, [x1, #32]                      // ..............e.................................
        trn2 v12.4S, v14.4S, v26.4S             // ...............*................................
        str q18, [x3, #-32]                     // ...............l................................
        mul v11.4S, v30.4S, v29.4S              // ................e...............................
        sub v8.4S, v17.4S, v24.4S               // ................e...............................
        trn1 v20.4S, v0.4S, v23.4S              // .................*..............................
        ldr q2, [x1, #16]                       // .................e..............................
        trn2 v26.4S, v0.4S, v23.4S              // ..................*.............................
        sqrdmulh v19.4S, v8.4S, v22.4S          // ..................e.............................
        ldr q14, [x2, #-16]                     // ...................*............................
        trn1 v21.2D, v9.2D, v20.2D              // ...................*............................
        mul v8.4S, v8.4S, v10.4S                // ....................e...........................
        trn1 v6.2D, v12.2D, v26.2D              // ....................*...........................
        trn2 v0.2D, v9.2D, v20.2D               // .....................*..........................
        mls v11.4S, v16.4S, v31.S[0]            // ......................e.........................
        sub v7.4S, v21.4S, v6.4S                // ......................*.........................
        trn2 v28.2D, v12.2D, v26.2D             // .......................*........................
        add v10.4S, v21.4S, v6.4S               // ........................*.......................
        mul v18.4S, v7.4S, v14.S[0]             // ........................*.......................
        add v20.4S, v13.4S, v5.4S               // .........................e......................
        sqrdmulh v30.4S, v7.4S, v14.S[1]        // ..........................*.....................
        sub v21.4S, v0.4S, v28.4S               // ..........................*.....................
        add v13.4S, v0.4S, v28.4S               // ...........................*....................
        add v9.4S, v17.4S, v24.4S               // ............................e...................
        sqrdmulh v1.4S, v21.4S, v14.S[3]        // ............................*...................
        ldr q17, [x1], #(6*16)                  // .............................e..................
        mul v14.4S, v21.4S, v14.S[2]            // ..............................*.................
        sub v21.4S, v9.4S, v20.4S               // ..............................e.................
        mls v18.4S, v30.4S, v31.S[0]            // ................................*...............
        mls v14.4S, v1.4S, v31.S[0]             // ..................................*.............
        mls v8.4S, v19.4S, v31.S[0]             // ....................................e...........
        sub v3.4S, v10.4S, v13.4S               // ....................................*...........
        add v15.4S, v10.4S, v13.4S              // ......................................*.........
        sqrdmulh v28.4S, v3.4S, v4.S[1]         // ......................................*.........
        add v10.4S, v18.4S, v14.4S              // .......................................*........
        sub v19.4S, v18.4S, v14.4S              // ........................................*.......
        mul v18.4S, v3.4S, v4.S[0]              // ........................................*.......
        sub v3.4S, v8.4S, v11.4S                // .........................................e......
        add v26.4S, v8.4S, v11.4S               // ..........................................e.....
        sqrdmulh v16.4S, v19.4S, v4.S[1]        // ..........................................*.....
        add v14.4S, v9.4S, v20.4S               // ...........................................e....
        mul v8.4S, v19.4S, v4.S[0]              // ............................................*...
        sqrdmulh v24.4S, v21.4S, v2.4S          // ..............................................e.

                                                       // ---------------------------------------------- cycle (expected) ---------------------------------------------->
                                                       // 0                        25                       50                       75                       100
                                                       // |------------------------|------------------------|------------------------|------------------------|----------
        // ldr q8, [x3, #(16*0)]                        // .e.............................................'.~.............................................'.~.............
        // ldr q9, [x3, #(16*1)]                        // ..e............................................'..~............................................'..~............
        // ldr q10, [x3, #(16*2)]                       // e..............................................'~..............................................'~..............
        // ldr q11, [x3, #(16*3)]                       // e..............................................'~..............................................'~..............
        // trn1 v25.4s, v8.4s, v9.4s                    // ......e........................................'......~........................................'......~........
        // trn2 v26.4s, v8.4s, v9.4s                    // .......e.......................................'.......~.......................................'.......~.......
        // trn1 v27.4s, v10.4s, v11.4s                  // ....e..........................................'....~..........................................'....~..........
        // trn2 v28.4s, v10.4s, v11.4s                  // .....e.........................................'.....~.........................................'.....~.........
        // trn2 v10.2d, v25.2d, v27.2d                  // ........e......................................'........~......................................'........~......
        // trn2 v11.2d, v26.2d, v28.2d                  // .........e.....................................'.........~.....................................'.........~.....
        // trn1 v8.2d, v25.2d, v27.2d                   // ..........e....................................'..........~....................................'..........~....
        // trn1 v9.2d, v26.2d, v28.2d                   // ............e..................................'............~..................................'............~..
        // ldr q0,    [x1], #(6*16)                     // ............................e..................'............................~..................'...............
        // ldr q4, [x1, #(-6*16 + 1*16)]                // ................e..............................'................~..............................'...............
        // ldr q1,    [x1, #(-6*16 + 2*16)]             // .............e.................................'.............~.................................'.............~.
        // ldr q5, [x1, #(-6*16 + 3*16)]                // ........e......................................'........~......................................'........~......
        // ldr q2,    [x1, #(-6*16 + 4*16)]             // ..........e....................................'..........~....................................'..........~....
        // ldr q6, [x1, #(-6*16 + 5*16)]                // ....e..........................................'....~..........................................'....~..........
        // sub v24.4s,   v8.4s, v9.4s                   // ...............e...............................'...............~...............................'...............
        // add v8.4s, v8.4s, v9.4s                      // ...........................e...................'...........................~...................'...............
        // sqrdmulh v27.4s,      v24.4s, v5.4s          // .................e.............................'.................~.............................'...............
        // mul      v9.4s, v24.4s, v1.4s                // ...................e...........................'...................~...........................'...............
        // mls      v9.4s, v27.4s,      v31.s[0]        // ...................................e...........'...................................~...........'...............
        // sub v24.4s,   v10.4s, v11.4s                 // ...........e...................................'...........~...................................'...........~...
        // add v10.4s, v10.4s, v11.4s                   // ........................e......................'........................~......................'...............
        // sqrdmulh v27.4s,      v24.4s, v6.4s          // .............e.................................'.............~.................................'.............~.
        // mul      v11.4s, v24.4s, v2.4s               // ...............e...............................'...............~...............................'...............
        // mls      v11.4s, v27.4s,      v31.s[0]       // .....................e.........................'.....................~.........................'...............
        // sub v24.4s,   v8.4s, v10.4s                  // .............................e.................'.............................~.................'...............
        // add v8.4s, v8.4s, v10.4s                     // ..........................................e....'..........................................~....'...............
        // sqrdmulh v27.4s,      v24.4s, v4.4s          // .............................................e.'.............................................~.'...............
        // mul      v10.4s, v24.4s, v0.4s               // ...............................................*...............................................~...............
        // mls      v10.4s, v27.4s,      v31.s[0]       // ...~...........................................'...*...........................................'...~...........
        // sub v24.4s,   v9.4s, v11.4s                  // ........................................e......'........................................~......'...............
        // add v9.4s, v9.4s, v11.4s                     // .........................................e.....'.........................................~.....'...............
        // sqrdmulh v27.4s,      v24.4s, v4.4s          // .....~.........................................'.....*.........................................'.....~.........
        // mul      v11.4s, v24.4s, v0.4s               // .........~.....................................'.........*.....................................'.........~.....
        // mls      v11.4s, v27.4s,      v31.s[0]       // ...........~...................................'...........*...................................'...........~...
        // trn1 v25.4s, v8.4s, v9.4s                    // ..~............................................'..*............................................'..~............
        // trn2 v26.4s, v8.4s, v9.4s                    // ..............~................................'..............*................................'...............
        // trn1 v27.4s, v10.4s, v11.4s                  // ................~..............................'................*..............................'...............
        // trn2 v28.4s, v10.4s, v11.4s                  // .................~.............................'.................*.............................'...............
        // trn2 v10.2d, v25.2d, v27.2d                  // ....................~..........................'....................*..........................'...............
        // trn2 v11.2d, v26.2d, v28.2d                  // ......................~........................'......................*........................'...............
        // trn1 v8.2d, v25.2d, v27.2d                   // ..................~............................'..................*............................'...............
        // trn1 v9.2d, v26.2d, v28.2d                   // ...................~...........................'...................*...........................'...............
        // ldr d1, [x2], #32                            // ...............................................*...............................................~...............
        // ldr q0, [x2, #-16]                           // ..................~............................'..................*............................'...............
        // sub v24.4s,   v8.4s, v9.4s                   // .....................~.........................'.....................*.........................'...............
        // add v8.4s, v8.4s, v9.4s                      // .......................~.......................'.......................*.......................'...............
        // sqrdmulh v27.4s,      v24.4s, v0.s[1]        // .........................~.....................'.........................*.....................'...............
        // mul      v9.4s, v24.4s, v0.s[0]              // .......................~.......................'.......................*.......................'...............
        // mls      v9.4s, v27.4s,      v31.s[0]        // ...............................~...............'...............................*...............'...............
        // sub v24.4s,   v10.4s, v11.4s                 // .........................~.....................'.........................*.....................'...............
        // add v10.4s, v10.4s, v11.4s                   // ..........................~....................'..........................*....................'...............
        // sqrdmulh v27.4s,      v24.4s, v0.s[3]        // ...........................~...................'...........................*...................'...............
        // mul      v11.4s, v24.4s, v0.s[2]             // .............................~.................'.............................*.................'...............
        // mls      v11.4s, v27.4s,      v31.s[0]       // .................................~.............'.................................*.............'...............
        // sub v24.4s,   v8.4s, v10.4s                  // ...................................~...........'...................................*...........'...............
        // add v8.4s, v8.4s, v10.4s                     // .....................................~.........'.....................................*.........'...............
        // sqrdmulh v27.4s,      v24.4s, v1.s[1]        // .....................................~.........'.....................................*.........'...............
        // mul      v10.4s, v24.4s, v1.s[0]             // .......................................~.......'.......................................*.......'...............
        // mls      v10.4s, v27.4s,      v31.s[0]       // .......~.......................................'.......~.......................................'.......l.......
        // sub v24.4s,   v9.4s, v11.4s                  // .......................................~.......'.......................................*.......'...............
        // add v9.4s, v9.4s, v11.4s                     // ......................................~........'......................................*........'...............
        // sqrdmulh v27.4s,      v24.4s, v1.s[1]        // .........................................~.....'.........................................*.....'...............
        // mul      v11.4s, v24.4s, v1.s[0]             // ...........................................~...'...........................................*...'...............
        // mls      v11.4s, v27.4s,      v31.s[0]       // .~.............................................'.~.............................................'.l.............
        // str q8, [x3], #(64)                          // ...~...........................................'...~...........................................'...l...........
        // str q9, [x3, #(-64 + 16*1)]                  // ............~..................................'............~..................................'............l..
        // str q10, [x3, #(-64 + 16*2)]                 // ..............~................................'..............~................................'..............l
        // str q11, [x3, #(-64 + 16*3)]                 // ......~........................................'......~........................................'......l........

        subs count, count, 1
        cbnz count, intt_layer5678_start
                                                 // Instructions:    45
                                                 // Expected cycles: 48
                                                 // Expected IPC:    0.94

                                                 // Cycle bound:     48.0
                                                 // IPC bound:       0.94

                                                 // Wall time:     0.38s
                                                 // User time:     0.38s

                                                 // -------------- cycle (expected) --------------->
                                                 // 0                        25
                                                 // |------------------------|----------------------
        sqrdmulh v19.4S, v3.4S, v2.4S            // *...............................................
        trn2 v0.4S, v14.4S, v26.4S               // *...............................................
        str q15, [x3], #(64)                     // .*..............................................
        trn1 v30.4S, v14.4S, v26.4S              // .*..............................................
        mul v26.4S, v21.4S, v17.4S               // ..*.............................................
        str q10, [x3, #-48]                      // ..*.............................................
        ldr d29, [x2], #32                       // ...*............................................
        mls v26.4S, v24.4S, v31.S[0]             // ....*...........................................
        mul v10.4S, v3.4S, v17.4S                // ......*.........................................
        ldr q14, [x2, #-16]                      // .......*........................................
        mls v10.4S, v19.4S, v31.S[0]             // ........*.......................................
        mls v8.4S, v16.4S, v31.S[0]              // ..........*.....................................
        trn2 v22.4S, v26.4S, v10.4S              // .............*..................................
        trn1 v25.4S, v26.4S, v10.4S              // .............*..................................
        trn1 v1.2D, v30.2D, v25.2D               // ...............*................................
        trn1 v2.2D, v0.2D, v22.2D                // ...............*................................
        trn2 v13.2D, v30.2D, v25.2D              // ................*...............................
        trn2 v7.2D, v0.2D, v22.2D                // ................*...............................
        mls v18.4S, v28.4S, v31.S[0]             // .................*..............................
        sub v22.4S, v1.4S, v2.4S                 // .................*..............................
        add v3.4S, v13.4S, v7.4S                 // ..................*.............................
        sqrdmulh v27.4S, v22.4S, v14.S[1]        // ...................*............................
        sub v4.4S, v13.4S, v7.4S                 // ...................*............................
        str q8, [x3, #-16]                       // ....................*...........................
        sqrdmulh v0.4S, v4.4S, v14.S[3]          // .....................*..........................
        add v16.4S, v1.4S, v2.4S                 // ......................*.........................
        str q18, [x3, #-32]                      // ......................*.........................
        mul v23.4S, v4.4S, v14.S[2]              // .......................*........................
        add v4.4S, v16.4S, v3.4S                 // ........................*.......................
        sub v17.4S, v16.4S, v3.4S                // .........................*......................
        mul v14.4S, v22.4S, v14.S[0]             // .........................*......................
        str q4, [x3], #(64)                      // ..........................*.....................
        mls v23.4S, v0.4S, v31.S[0]              // ...........................*....................
        mls v14.4S, v27.4S, v31.S[0]             // .............................*..................
        mul v11.4S, v17.4S, v29.S[0]             // ...............................*................
        sqrdmulh v10.4S, v17.4S, v29.S[1]        // .................................*..............
        sub v0.4S, v14.4S, v23.4S                // ..................................*.............
        add v6.4S, v14.4S, v23.4S                // ...................................*............
        sqrdmulh v12.4S, v0.4S, v29.S[1]         // ....................................*...........
        mul v0.4S, v0.4S, v29.S[0]               // ......................................*.........
        str q6, [x3, #-48]                       // .......................................*........
        mls v11.4S, v10.4S, v31.S[0]             // ........................................*.......
        mls v0.4S, v12.4S, v31.S[0]              // ..........................................*.....
        str q11, [x3, #-32]                      // ...............................................*
        str q0, [x3, #-16]                       // ...............................................*

                                                 // -------------- cycle (expected) --------------->
                                                 // 0                        25
                                                 // |------------------------|----------------------
        // ldr d4, [x2], #32                      // ...*............................................
        // mul v0.4S, v21.4S, v17.4S              // ..*.............................................
        // mls v8.4S, v16.4S, v31.S[0]            // ..........*.....................................
        // trn1 v9.4S, v14.4S, v26.4S             // .*..............................................
        // mls v0.4S, v24.4S, v31.S[0]            // ....*...........................................
        // str q15, [x3], #(64)                   // .*..............................................
        // sqrdmulh v16.4S, v3.4S, v2.4S          // *...............................................
        // str q8, [x3, #-16]                     // ....................*...........................
        // mls v18.4S, v28.4S, v31.S[0]           // .................*..............................
        // mul v23.4S, v3.4S, v17.4S              // ......*.........................................
        // mls v23.4S, v16.4S, v31.S[0]           // ........*.......................................
        // str q10, [x3, #-48]                    // ..*.............................................
        // trn2 v12.4S, v14.4S, v26.4S            // *...............................................
        // str q18, [x3, #-32]                    // ......................*.........................
        // trn1 v20.4S, v0.4S, v23.4S             // .............*..................................
        // trn2 v26.4S, v0.4S, v23.4S             // .............*..................................
        // ldr q14, [x2, #-16]                    // .......*........................................
        // trn1 v21.2D, v9.2D, v20.2D             // ...............*................................
        // trn1 v6.2D, v12.2D, v26.2D             // ...............*................................
        // trn2 v0.2D, v9.2D, v20.2D              // ................*...............................
        // sub v7.4S, v21.4S, v6.4S               // .................*..............................
        // trn2 v28.2D, v12.2D, v26.2D            // ................*...............................
        // add v10.4S, v21.4S, v6.4S              // ......................*.........................
        // mul v18.4S, v7.4S, v14.S[0]            // .........................*......................
        // sqrdmulh v30.4S, v7.4S, v14.S[1]       // ...................*............................
        // sub v21.4S, v0.4S, v28.4S              // ...................*............................
        // add v13.4S, v0.4S, v28.4S              // ..................*.............................
        // sqrdmulh v1.4S, v21.4S, v14.S[3]       // .....................*..........................
        // mul v14.4S, v21.4S, v14.S[2]           // .......................*........................
        // mls v18.4S, v30.4S, v31.S[0]           // .............................*..................
        // mls v14.4S, v1.4S, v31.S[0]            // ...........................*....................
        // sub v3.4S, v10.4S, v13.4S              // .........................*......................
        // add v15.4S, v10.4S, v13.4S             // ........................*.......................
        // sqrdmulh v28.4S, v3.4S, v4.S[1]        // .................................*..............
        // add v10.4S, v18.4S, v14.4S             // ...................................*............
        // sub v19.4S, v18.4S, v14.4S             // ..................................*.............
        // mul v18.4S, v3.4S, v4.S[0]             // ...............................*................
        // sqrdmulh v16.4S, v19.4S, v4.S[1]       // ....................................*...........
        // mul v8.4S, v19.4S, v4.S[0]             // ......................................*.........
        // mls v8.4S, v16.4S, v31.S[0]            // ..........................................*.....
        // str q15, [x3], #(64)                   // ..........................*.....................
        // str q8, [x3, #-16]                     // ...............................................*
        // mls v18.4S, v28.4S, v31.S[0]           // ........................................*.......
        // str q10, [x3, #-48]                    // .......................................*........
        // str q18, [x3, #-32]                    // ...............................................*


        // ---------------------------------------------------------------------

        /* check-magic: 16382 == pow(2, 32-8, MLDSA_Q) */
        // Load scaling factor 1/256*R
        mov wtmp, #16382 // 2^(32 - 8) mod Q
        dup ninv.4s, wtmp

        /* check-magic: 4197891 == round(16382 * 2**31 / MLDSA_Q) */
        // Load Barrett constant for 1/256*R
        movz wtmp, #0x0e03
        movk wtmp, #0x40, lsl #16
        dup ninv_tw.4s, wtmp

        mov count, #4
        load_roots_1234

        .p2align 2

        ldr q8, [x0, #192]                      // *..........................................................................................................................................................................................................................................................
        ldr q27, [x0, #128]                     // *..........................................................................................................................................................................................................................................................
        ldr q20, [x0, #448]                     // .*.........................................................................................................................................................................................................................................................
        ldr q23, [x0, #384]                     // .*.........................................................................................................................................................................................................................................................
        ldr q24, [x0, #960]                     // ..*........................................................................................................................................................................................................................................................
        ldr q28, [x0, #64]                      // ..*........................................................................................................................................................................................................................................................
        ldr q25, [x0, #832]                     // ...*.......................................................................................................................................................................................................................................................
        ldr q10, [x0, #896]                     // ...*.......................................................................................................................................................................................................................................................
        sub v15.4S, v27.4S, v8.4S               // ....*......................................................................................................................................................................................................................................................
        ldr q26, [x0, #0]                       // ....*......................................................................................................................................................................................................................................................
        ldr q18, [x0, #768]                     // .....*.....................................................................................................................................................................................................................................................
        add v9.4S, v23.4S, v20.4S               // .....*.....................................................................................................................................................................................................................................................
        mul v11.4S, v15.4S, v4.S[0]             // ......*....................................................................................................................................................................................................................................................
        sub v19.4S, v23.4S, v20.4S              // ......*....................................................................................................................................................................................................................................................
        sub v22.4S, v10.4S, v24.4S              // .......*...................................................................................................................................................................................................................................................
        ldr q13, [x0, #576]                     // .......*...................................................................................................................................................................................................................................................
        sqrdmulh v12.4S, v15.4S, v4.S[1]        // ........*..................................................................................................................................................................................................................................................
        sub v14.4S, v26.4S, v28.4S              // ........*..................................................................................................................................................................................................................................................
        ldr q17, [x0, #512]                     // .........*.................................................................................................................................................................................................................................................
        add v23.4S, v18.4S, v25.4S              // .........*.................................................................................................................................................................................................................................................
        sqrdmulh v15.4S, v14.4S, v3.S[3]        // ..........*................................................................................................................................................................................................................................................
        sub v18.4S, v18.4S, v25.4S              // ..........*................................................................................................................................................................................................................................................
        mul v25.4S, v14.4S, v3.S[2]             // ............*..............................................................................................................................................................................................................................................
        sub v16.4S, v17.4S, v13.4S              // .............*.............................................................................................................................................................................................................................................
        mls v11.4S, v12.4S, v31.S[0]            // ..............*............................................................................................................................................................................................................................................
        add v21.4S, v10.4S, v24.4S              // ..............*............................................................................................................................................................................................................................................
        mls v25.4S, v15.4S, v31.S[0]            // ................*..........................................................................................................................................................................................................................................
        mul v12.4S, v16.4S, v5.S[2]             // ..................*........................................................................................................................................................................................................................................
        sub v10.4S, v23.4S, v21.4S              // ..................*........................................................................................................................................................................................................................................
        sqrdmulh v14.4S, v10.4S, v3.S[1]        // ....................*......................................................................................................................................................................................................................................
        add v23.4S, v23.4S, v21.4S              // ....................*......................................................................................................................................................................................................................................
        add v27.4S, v27.4S, v8.4S               // .....................*.....................................................................................................................................................................................................................................
        mul v15.4S, v10.4S, v3.S[0]             // ......................*....................................................................................................................................................................................................................................
        add v24.4S, v25.4S, v11.4S              // ......................*....................................................................................................................................................................................................................................
        sub v10.4S, v25.4S, v11.4S              // .......................*...................................................................................................................................................................................................................................
        ldr q25, [x0, #256]                     // .......................*...................................................................................................................................................................................................................................
        sqrdmulh v8.4S, v18.4S, v6.S[3]         // ........................*..................................................................................................................................................................................................................................
        add v21.4S, v26.4S, v28.4S              // ........................*..................................................................................................................................................................................................................................
        ldr q26, [x0, #320]                     // .........................*.................................................................................................................................................................................................................................
        sqrdmulh v20.4S, v16.4S, v5.S[3]        // ..........................*................................................................................................................................................................................................................................
        sqrdmulh v28.4S, v22.4S, v7.S[1]        // ............................*..............................................................................................................................................................................................................................
        add v11.4S, v25.4S, v26.4S              // .............................*.............................................................................................................................................................................................................................
        mls v15.4S, v14.4S, v31.S[0]            // ..............................*............................................................................................................................................................................................................................
        add v17.4S, v17.4S, v13.4S              // ..............................*............................................................................................................................................................................................................................
        mul v13.4S, v22.4S, v7.S[0]             // ................................*..........................................................................................................................................................................................................................
        ldr q14, [x0, #640]                     // ................................*..........................................................................................................................................................................................................................
        ldr q22, [x0, #704]                     // .................................*.........................................................................................................................................................................................................................
        mls v13.4S, v28.4S, v31.S[0]            // ..................................*........................................................................................................................................................................................................................
        sub v16.4S, v25.4S, v26.4S              // ..................................*........................................................................................................................................................................................................................
        sub v28.4S, v21.4S, v27.4S              // ...................................*.......................................................................................................................................................................................................................
        mls v12.4S, v20.4S, v31.S[0]            // ....................................*......................................................................................................................................................................................................................
        add v20.4S, v11.4S, v9.4S               // ....................................*......................................................................................................................................................................................................................
        add v26.4S, v14.4S, v22.4S              // .....................................*.....................................................................................................................................................................................................................
        sub v14.4S, v14.4S, v22.4S              // ......................................*....................................................................................................................................................................................................................
        sqrdmulh v22.4S, v28.4S, v1.S[3]        // ......................................*....................................................................................................................................................................................................................
        sub v9.4S, v11.4S, v9.4S                // .......................................*...................................................................................................................................................................................................................
        mul v25.4S, v14.4S, v6.S[0]             // ........................................*..................................................................................................................................................................................................................
        sub v11.4S, v17.4S, v26.4S              // ........................................*..................................................................................................................................................................................................................
        add v17.4S, v17.4S, v26.4S              // .........................................*.................................................................................................................................................................................................................
        add v26.4S, v21.4S, v27.4S              // ..........................................*................................................................................................................................................................................................................
        sqrdmulh v27.4S, v11.4S, v2.S[3]        // ..........................................*................................................................................................................................................................................................................
        mul v21.4S, v11.4S, v2.S[2]             // ............................................*..............................................................................................................................................................................................................
        mul v11.4S, v18.4S, v6.S[2]             // ..............................................*............................................................................................................................................................................................................
        mls v11.4S, v8.4S, v31.S[0]             // ................................................*..........................................................................................................................................................................................................
        sqrdmulh v8.4S, v14.4S, v6.S[1]         // ..................................................*........................................................................................................................................................................................................
        add v18.4S, v26.4S, v20.4S              // ..................................................*........................................................................................................................................................................................................
        mls v21.4S, v27.4S, v31.S[0]            // ....................................................*......................................................................................................................................................................................................
        sub v27.4S, v17.4S, v23.4S              // ....................................................*......................................................................................................................................................................................................
        mul v14.4S, v28.4S, v1.S[2]             // ......................................................*....................................................................................................................................................................................................
        sub v28.4S, v26.4S, v20.4S              // ......................................................*....................................................................................................................................................................................................
        add v23.4S, v17.4S, v23.4S              // .......................................................*...................................................................................................................................................................................................
        mls v25.4S, v8.4S, v31.S[0]             // ........................................................*..................................................................................................................................................................................................
        add v26.4S, v21.4S, v15.4S              // .........................................................*.................................................................................................................................................................................................
        sub v15.4S, v21.4S, v15.4S              // ..........................................................*................................................................................................................................................................................................
        mul v8.4S, v19.4S, v5.S[0]              // ..........................................................*................................................................................................................................................................................................
        mls v14.4S, v22.4S, v31.S[0]            // ............................................................*..............................................................................................................................................................................................
        sub v22.4S, v11.4S, v13.4S              // ............................................................*..............................................................................................................................................................................................
        sub v20.4S, v12.4S, v25.4S              // .............................................................*.............................................................................................................................................................................................
        add v21.4S, v12.4S, v25.4S              // ..............................................................*............................................................................................................................................................................................
        sqrdmulh v12.4S, v22.4S, v3.S[1]        // ..............................................................*............................................................................................................................................................................................
        mul v17.4S, v16.4S, v4.S[2]             // ................................................................*..........................................................................................................................................................................................
        sqrdmulh v25.4S, v16.4S, v4.S[3]        // ..................................................................*........................................................................................................................................................................................
        add v16.4S, v11.4S, v13.4S              // ..................................................................*........................................................................................................................................................................................
        mul v11.4S, v22.4S, v3.S[0]             // ....................................................................*......................................................................................................................................................................................
        sqrdmulh v19.4S, v19.4S, v5.S[1]        // ......................................................................*....................................................................................................................................................................................
        sqrdmulh v22.4S, v15.4S, v1.S[1]        // ........................................................................*..................................................................................................................................................................................
        sqrdmulh v13.4S, v20.4S, v2.S[3]        // ..........................................................................*................................................................................................................................................................................
        mul v20.4S, v20.4S, v2.S[2]             // ............................................................................*..............................................................................................................................................................................
        mls v11.4S, v12.4S, v31.S[0]            // ..............................................................................*............................................................................................................................................................................
        mls v20.4S, v13.4S, v31.S[0]            // ................................................................................*..........................................................................................................................................................................
        sub v13.4S, v18.4S, v23.4S              // ................................................................................*..........................................................................................................................................................................
        add v23.4S, v18.4S, v23.4S              // .................................................................................*.........................................................................................................................................................................
        mls v17.4S, v25.4S, v31.S[0]            // ..................................................................................*........................................................................................................................................................................
        mls v8.4S, v19.4S, v31.S[0]             // ....................................................................................*......................................................................................................................................................................
        sub v18.4S, v20.4S, v11.4S              // .....................................................................................*.....................................................................................................................................................................
        add v20.4S, v20.4S, v11.4S              // ......................................................................................*....................................................................................................................................................................
        sqrdmulh v12.4S, v9.4S, v2.S[1]         // ......................................................................................*....................................................................................................................................................................
        mul v15.4S, v15.4S, v1.S[0]             // ........................................................................................*..................................................................................................................................................................
        sub v11.4S, v17.4S, v8.4S               // .........................................................................................*.................................................................................................................................................................
        mls v15.4S, v22.4S, v31.S[0]            // ..........................................................................................*................................................................................................................................................................
        add v19.4S, v17.4S, v8.4S               // ..........................................................................................*................................................................................................................................................................
        sqrdmulh v25.4S, v11.4S, v2.S[1]        // ............................................................................................*..............................................................................................................................................................
        add v17.4S, v24.4S, v19.4S              // ............................................................................................*..............................................................................................................................................................
        sub v24.4S, v24.4S, v19.4S              // .............................................................................................*.............................................................................................................................................................
        mul v19.4S, v11.4S, v2.S[0]             // ..............................................................................................*............................................................................................................................................................
        sqrdmulh v8.4S, v24.4S, v0.S[3]         // ................................................................................................*..........................................................................................................................................................
        mls v19.4S, v25.4S, v31.S[0]            // ..................................................................................................*........................................................................................................................................................
        mul v25.4S, v9.4S, v2.S[0]              // ....................................................................................................*......................................................................................................................................................
        sub count, count, #1
intt_layer1234_start:
                                                // Instructions:    216
                                                // Expected cycles: 240
                                                // Expected IPC:    0.90

                                                // -------------------------------------------------------------------------------------------------------------- cycle (expected) --------------------------------------------------------------------------------------------------------------->
                                                // 0                        25                       50                       75                       100                      125                      150                      175                      200                      225
                                                // |------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|--------------
        sub v22.4S, v21.4S, v16.4S              // *...............................................................................................................................................................................................................................................
        mls v25.4S, v12.4S, v31.S[0]            // *...............................................................................................................................................................................................................................................
        add v12.4S, v21.4S, v16.4S              // .*..............................................................................................................................................................................................................................................
        mul v9.4S, v24.4S, v0.S[2]              // ..*.............................................................................................................................................................................................................................................
        mls v9.4S, v8.4S, v31.S[0]              // ....*...........................................................................................................................................................................................................................................
        sub v16.4S, v14.4S, v25.4S              // .....*..........................................................................................................................................................................................................................................
        add v14.4S, v14.4S, v25.4S              // ......*.........................................................................................................................................................................................................................................
        sqrdmulh v24.4S, v22.4S, v1.S[1]        // ......*.........................................................................................................................................................................................................................................
        sub v11.4S, v14.4S, v26.4S              // ........*.......................................................................................................................................................................................................................................
        sqrdmulh v21.4S, v16.4S, v0.S[3]        // ........*.......................................................................................................................................................................................................................................
        add v25.4S, v14.4S, v26.4S              // .........*......................................................................................................................................................................................................................................
        mul v14.4S, v22.4S, v1.S[0]             // ..........*.....................................................................................................................................................................................................................................
        mls v14.4S, v24.4S, v31.S[0]            // ............*...................................................................................................................................................................................................................................
        mul v16.4S, v16.4S, v0.S[2]             // ..............*.................................................................................................................................................................................................................................
        mls v16.4S, v21.4S, v31.S[0]            // ................*...............................................................................................................................................................................................................................
        add v24.4S, v9.4S, v14.4S               // .................*..............................................................................................................................................................................................................................
        sqrdmulh v21.4S, v25.4S, v30.4S         // ..................*.............................................................................................................................................................................................................................
        sqrdmulh v26.4S, v11.4S, v0.S[1]        // ....................*...........................................................................................................................................................................................................................
        mul v8.4S, v25.4S, v29.4S               // ......................*.........................................................................................................................................................................................................................
        mls v8.4S, v21.4S, v31.S[0]             // ........................*.......................................................................................................................................................................................................................
        mul v25.4S, v24.4S, v29.4S              // ..........................*.....................................................................................................................................................................................................................
        mul v22.4S, v11.4S, v0.S[0]             // ............................*...................................................................................................................................................................................................................
        sub v11.4S, v17.4S, v12.4S              // ............................*...................................................................................................................................................................................................................
        str q8, [x0, #128]                      // .............................*..................................................................................................................................................................................................................
        sub v8.4S, v9.4S, v14.4S                // .............................*..................................................................................................................................................................................................................
        add v14.4S, v16.4S, v15.4S              // ..............................*.................................................................................................................................................................................................................
        sqrdmulh v9.4S, v11.4S, v0.S[1]         // ..............................*.................................................................................................................................................................................................................
        sub v21.4S, v16.4S, v15.4S              // ...............................*................................................................................................................................................................................................................
        mls v22.4S, v26.4S, v31.S[0]            // ................................*...............................................................................................................................................................................................................
        mul v15.4S, v11.4S, v0.S[0]             // ..................................*.............................................................................................................................................................................................................
        mls v15.4S, v9.4S, v31.S[0]             // ....................................*...........................................................................................................................................................................................................
        add v11.4S, v17.4S, v12.4S              // ....................................*...........................................................................................................................................................................................................
        mul v16.4S, v10.4S, v1.S[2]             // ......................................*.........................................................................................................................................................................................................
        str q22, [x0, #640]                     // ......................................*.........................................................................................................................................................................................................
        sqrdmulh v26.4S, v10.4S, v1.S[3]        // ........................................*.......................................................................................................................................................................................................
        str q15, [x0, #576]                     // .........................................*......................................................................................................................................................................................................
        sqrdmulh v9.4S, v8.4S, v0.S[1]          // ..........................................*.....................................................................................................................................................................................................
        mul v12.4S, v8.4S, v0.S[0]              // ............................................*...................................................................................................................................................................................................
        mls v16.4S, v26.4S, v31.S[0]            // ..............................................*.................................................................................................................................................................................................
        sqrdmulh v10.4S, v27.4S, v1.S[1]        // ................................................*...............................................................................................................................................................................................
        sqrdmulh v15.4S, v14.4S, v30.4S         // ..................................................*.............................................................................................................................................................................................
        add v22.4S, v16.4S, v19.4S              // ...................................................*............................................................................................................................................................................................
        sub v19.4S, v16.4S, v19.4S              // ....................................................*...........................................................................................................................................................................................
        mls v12.4S, v9.4S, v31.S[0]             // ....................................................*...........................................................................................................................................................................................
        add v8.4S, v22.4S, v20.4S               // .....................................................*..........................................................................................................................................................................................
        sub v26.4S, v22.4S, v20.4S              // ......................................................*.........................................................................................................................................................................................
        mul v27.4S, v27.4S, v1.S[0]             // ......................................................*.........................................................................................................................................................................................
        sqrdmulh v17.4S, v11.4S, v30.4S         // ........................................................*.......................................................................................................................................................................................
        mls v27.4S, v10.4S, v31.S[0]            // ..........................................................*.....................................................................................................................................................................................
        mul v20.4S, v11.4S, v29.4S              // ............................................................*...................................................................................................................................................................................
        sqrdmulh v22.4S, v24.4S, v30.4S         // ..............................................................*.................................................................................................................................................................................
        mls v20.4S, v17.4S, v31.S[0]            // ................................................................*...............................................................................................................................................................................
        mul v14.4S, v14.4S, v29.4S              // ..................................................................*.............................................................................................................................................................................
        sqrdmulh v16.4S, v23.4S, v30.4S         // ....................................................................*...........................................................................................................................................................................
        str q20, [x0, #64]                      // .....................................................................*..........................................................................................................................................................................
        sqrdmulh v11.4S, v21.4S, v0.S[1]        // ......................................................................*.........................................................................................................................................................................
        sqrdmulh v20.4S, v28.4S, v0.S[3]        // ........................................................................*.......................................................................................................................................................................
        mul v17.4S, v23.4S, v29.4S              // ..........................................................................*.....................................................................................................................................................................
        mul v23.4S, v28.4S, v0.S[2]             // ............................................................................*...................................................................................................................................................................
        mls v17.4S, v16.4S, v31.S[0]            // ..............................................................................*.................................................................................................................................................................
        mul v10.4S, v21.4S, v0.S[0]             // ................................................................................*...............................................................................................................................................................
        str q12, [x0, #832]                     // ................................................................................*...............................................................................................................................................................
        mls v25.4S, v22.4S, v31.S[0]            // ..................................................................................*.............................................................................................................................................................
        str q17, [x0], #(16)                    // ...................................................................................*............................................................................................................................................................
        ldr q17, [x0, #704]                     // ....................................................................................*...........................................................................................................................................................
        mls v14.4S, v15.4S, v31.S[0]            // ....................................................................................*...........................................................................................................................................................
        ldr q12, [x0, #512]                     // .....................................................................................*..........................................................................................................................................................
        sqrdmulh v16.4S, v13.4S, v0.S[1]        // ......................................................................................*.........................................................................................................................................................
        str q25, [x0, #304]                     // .......................................................................................*........................................................................................................................................................
        mul v28.4S, v13.4S, v0.S[0]             // ........................................................................................*.......................................................................................................................................................
        ldr q13, [x0, #576]                     // ........................................................................................*.......................................................................................................................................................
        str q14, [x0, #368]                     // .........................................................................................*......................................................................................................................................................
        mul v14.4S, v18.4S, v1.S[0]             // ..........................................................................................*.....................................................................................................................................................
        mls v28.4S, v16.4S, v31.S[0]            // ............................................................................................*...................................................................................................................................................
        ldr q21, [x0, #192]                     // ............................................................................................*...................................................................................................................................................
        mls v10.4S, v11.4S, v31.S[0]            // ..............................................................................................*.................................................................................................................................................
        mls v23.4S, v20.4S, v31.S[0]            // ................................................................................................*...............................................................................................................................................
        str q28, [x0, #496]                     // .................................................................................................*..............................................................................................................................................
        ldr q11, [x0, #768]                     // ..................................................................................................*.............................................................................................................................................
        sqrdmulh v28.4S, v18.4S, v1.S[1]        // ..................................................................................................*.............................................................................................................................................
        str q10, [x0, #880]                     // ...................................................................................................*............................................................................................................................................
        mul v16.4S, v19.4S, v0.S[2]             // ....................................................................................................*...........................................................................................................................................
        sqrdmulh v19.4S, v19.4S, v0.S[3]        // ......................................................................................................*.........................................................................................................................................
        sqrdmulh v10.4S, v26.4S, v0.S[1]        // ........................................................................................................*.......................................................................................................................................
        add v18.4S, v12.4S, v13.4S              // ........................................................................................................*.......................................................................................................................................
        sub v12.4S, v12.4S, v13.4S              // .........................................................................................................*......................................................................................................................................
        mls v16.4S, v19.4S, v31.S[0]            // ...........................................................................................................*....................................................................................................................................
        ldr q9, [x0, #640]                      // ...........................................................................................................*....................................................................................................................................
        ldr q20, [x0, #896]                     // ............................................................................................................*...................................................................................................................................
        add v24.4S, v23.4S, v27.4S              // ............................................................................................................*...................................................................................................................................
        sub v25.4S, v23.4S, v27.4S              // .............................................................................................................*..................................................................................................................................
        mul v19.4S, v26.4S, v0.S[0]             // .............................................................................................................*..................................................................................................................................
        mls v14.4S, v28.4S, v31.S[0]            // ...............................................................................................................*................................................................................................................................
        add v13.4S, v9.4S, v17.4S               // ...............................................................................................................*................................................................................................................................
        sub v28.4S, v18.4S, v13.4S              // .................................................................................................................*..............................................................................................................................
        mls v19.4S, v10.4S, v31.S[0]            // .................................................................................................................*..............................................................................................................................
        sqrdmulh v23.4S, v25.4S, v0.S[1]        // ...................................................................................................................*............................................................................................................................
        mul v15.4S, v25.4S, v0.S[0]             // .....................................................................................................................*..........................................................................................................................
        str q19, [x0, #688]                     // ......................................................................................................................*.........................................................................................................................
        ldr q19, [x0, #128]                     // .......................................................................................................................*........................................................................................................................
        sqrdmulh v22.4S, v8.4S, v30.4S          // .......................................................................................................................*........................................................................................................................
        mls v15.4S, v23.4S, v31.S[0]            // .........................................................................................................................*......................................................................................................................
        add v26.4S, v16.4S, v14.4S              // .........................................................................................................................*......................................................................................................................
        mul v10.4S, v8.4S, v29.4S               // ...........................................................................................................................*....................................................................................................................
        add v8.4S, v18.4S, v13.4S               // ...........................................................................................................................*....................................................................................................................
        sqrdmulh v13.4S, v26.4S, v30.4S         // .............................................................................................................................*..................................................................................................................
        str q15, [x0, #752]                     // ..............................................................................................................................*.................................................................................................................
        sub v18.4S, v9.4S, v17.4S               // ..............................................................................................................................*.................................................................................................................
        mul v27.4S, v26.4S, v29.4S              // ...............................................................................................................................*................................................................................................................
        sqrdmulh v23.4S, v12.4S, v5.S[3]        // .................................................................................................................................*..............................................................................................................
        mls v27.4S, v13.4S, v31.S[0]            // ...................................................................................................................................*............................................................................................................
        mul v25.4S, v18.4S, v6.S[0]             // .....................................................................................................................................*..........................................................................................................
        sqrdmulh v13.4S, v18.4S, v6.S[1]        // .......................................................................................................................................*........................................................................................................
        str q27, [x0, #432]                     // ........................................................................................................................................*.......................................................................................................
        sub v27.4S, v19.4S, v21.4S              // ........................................................................................................................................*.......................................................................................................
        add v21.4S, v19.4S, v21.4S              // .........................................................................................................................................*......................................................................................................
        mul v18.4S, v12.4S, v5.S[2]             // .........................................................................................................................................*......................................................................................................
        sub v9.4S, v16.4S, v14.4S               // ..........................................................................................................................................*.....................................................................................................
        mul v26.4S, v24.4S, v29.4S              // ...........................................................................................................................................*....................................................................................................
        ldr q12, [x0, #960]                     // ...........................................................................................................................................*....................................................................................................
        mls v25.4S, v13.4S, v31.S[0]            // .............................................................................................................................................*..................................................................................................
        sub v16.4S, v20.4S, v12.4S              // ...............................................................................................................................................*................................................................................................
        sqrdmulh v17.4S, v24.4S, v30.4S         // ...............................................................................................................................................*................................................................................................
        mul v13.4S, v16.4S, v7.S[0]             // .................................................................................................................................................*..............................................................................................
        mls v18.4S, v23.4S, v31.S[0]            // ...................................................................................................................................................*............................................................................................
        mls v26.4S, v17.4S, v31.S[0]            // .....................................................................................................................................................*..........................................................................................
        sqrdmulh v17.4S, v9.4S, v0.S[1]         // .......................................................................................................................................................*........................................................................................
        sqrdmulh v24.4S, v16.4S, v7.S[1]        // .........................................................................................................................................................*......................................................................................
        ldr q16, [x0, #832]                     // .........................................................................................................................................................*......................................................................................
        str q26, [x0, #240]                     // ..........................................................................................................................................................*.....................................................................................
        sub v15.4S, v18.4S, v25.4S              // ..........................................................................................................................................................*.....................................................................................
        mul v23.4S, v9.4S, v0.S[0]              // ...........................................................................................................................................................*....................................................................................
        ldr q19, [x0, #384]                     // ...........................................................................................................................................................*....................................................................................
        ldr q14, [x0, #448]                     // ............................................................................................................................................................*...................................................................................
        sqrdmulh v9.4S, v15.4S, v2.S[3]         // .............................................................................................................................................................*..................................................................................
        add v20.4S, v20.4S, v12.4S              // .............................................................................................................................................................*..................................................................................
        add v12.4S, v11.4S, v16.4S              // ..............................................................................................................................................................*.................................................................................
        mul v26.4S, v15.4S, v2.S[2]             // ...............................................................................................................................................................*................................................................................
        sub v16.4S, v11.4S, v16.4S              // ...............................................................................................................................................................*................................................................................
        sub v11.4S, v12.4S, v20.4S              // ................................................................................................................................................................*...............................................................................
        mls v23.4S, v17.4S, v31.S[0]            // .................................................................................................................................................................*..............................................................................
        add v20.4S, v12.4S, v20.4S              // .................................................................................................................................................................*..............................................................................
        sub v12.4S, v19.4S, v14.4S              // ..................................................................................................................................................................*.............................................................................
        mul v17.4S, v27.4S, v4.S[0]             // ...................................................................................................................................................................*............................................................................
        mls v10.4S, v22.4S, v31.S[0]            // .....................................................................................................................................................................*..........................................................................
        add v22.4S, v19.4S, v14.4S              // .....................................................................................................................................................................*..........................................................................
        ldr q14, [x0, #64]                      // ......................................................................................................................................................................*.........................................................................
        str q23, [x0, #944]                     // .......................................................................................................................................................................*........................................................................
        sqrdmulh v23.4S, v27.4S, v4.S[1]        // .......................................................................................................................................................................*........................................................................
        ldr q19, [x0, #256]                     // ........................................................................................................................................................................*.......................................................................
        ldr q15, [x0, #320]                     // .........................................................................................................................................................................*......................................................................
        mls v26.4S, v9.4S, v31.S[0]             // .........................................................................................................................................................................*......................................................................
        str q10, [x0, #176]                     // ..........................................................................................................................................................................*.....................................................................
        sqrdmulh v10.4S, v11.4S, v3.S[1]        // ...........................................................................................................................................................................*....................................................................
        sub v27.4S, v8.4S, v20.4S               // ...........................................................................................................................................................................*....................................................................
        mls v13.4S, v24.4S, v31.S[0]            // .............................................................................................................................................................................*..................................................................
        add v8.4S, v8.4S, v20.4S                // .............................................................................................................................................................................*..................................................................
        sub v20.4S, v19.4S, v15.4S              // ..............................................................................................................................................................................*.................................................................
        sqrdmulh v9.4S, v16.4S, v6.S[3]         // ...............................................................................................................................................................................*................................................................
        add v19.4S, v19.4S, v15.4S              // ...............................................................................................................................................................................*................................................................
        ldr q15, [x0, #0]                       // ................................................................................................................................................................................*...............................................................
        mul v24.4S, v20.4S, v4.S[2]             // .................................................................................................................................................................................*..............................................................
        mls v17.4S, v23.4S, v31.S[0]            // ...................................................................................................................................................................................*............................................................
        add v23.4S, v15.4S, v14.4S              // ....................................................................................................................................................................................*...........................................................
        sub v14.4S, v15.4S, v14.4S              // .....................................................................................................................................................................................*..........................................................
        mul v15.4S, v11.4S, v3.S[0]             // .....................................................................................................................................................................................*..........................................................
        sub v11.4S, v23.4S, v21.4S              // ......................................................................................................................................................................................*.........................................................
        mul v16.4S, v16.4S, v6.S[2]             // .......................................................................................................................................................................................*........................................................
        add v23.4S, v23.4S, v21.4S              // .......................................................................................................................................................................................*........................................................
        add v21.4S, v18.4S, v25.4S              // ........................................................................................................................................................................................*.......................................................
        sqrdmulh v25.4S, v20.4S, v4.S[3]        // .........................................................................................................................................................................................*......................................................
        sqrdmulh v18.4S, v12.4S, v5.S[1]        // ...........................................................................................................................................................................................*....................................................
        sqrdmulh v20.4S, v14.4S, v3.S[3]        // .............................................................................................................................................................................................*..................................................
        mul v12.4S, v12.4S, v5.S[0]             // ...............................................................................................................................................................................................*................................................
        mls v16.4S, v9.4S, v31.S[0]             // .................................................................................................................................................................................................*..............................................
        mls v12.4S, v18.4S, v31.S[0]            // ...................................................................................................................................................................................................*............................................
        mls v24.4S, v25.4S, v31.S[0]            // .....................................................................................................................................................................................................*..........................................
        sub v25.4S, v16.4S, v13.4S              // ......................................................................................................................................................................................................*.........................................
        add v16.4S, v16.4S, v13.4S              // .......................................................................................................................................................................................................*........................................
        mul v13.4S, v28.4S, v2.S[2]             // .......................................................................................................................................................................................................*........................................
        sqrdmulh v9.4S, v25.4S, v3.S[1]         // .........................................................................................................................................................................................................*......................................
        mul v18.4S, v25.4S, v3.S[0]             // ...........................................................................................................................................................................................................*....................................
        sqrdmulh v25.4S, v28.4S, v2.S[3]        // .............................................................................................................................................................................................................*..................................
        mls v18.4S, v9.4S, v31.S[0]             // ...............................................................................................................................................................................................................*................................
        mls v15.4S, v10.4S, v31.S[0]            // .................................................................................................................................................................................................................*..............................
        sub v9.4S, v24.4S, v12.4S               // .................................................................................................................................................................................................................*..............................
        mul v28.4S, v14.4S, v3.S[2]             // ...................................................................................................................................................................................................................*............................
        add v12.4S, v24.4S, v12.4S              // ...................................................................................................................................................................................................................*............................
        mls v28.4S, v20.4S, v31.S[0]            // .....................................................................................................................................................................................................................*..........................
        add v20.4S, v26.4S, v18.4S              // .....................................................................................................................................................................................................................*..........................
        add v24.4S, v19.4S, v22.4S              // ......................................................................................................................................................................................................................*.........................
        mls v13.4S, v25.4S, v31.S[0]            // .......................................................................................................................................................................................................................*........................
        sub v18.4S, v26.4S, v18.4S              // .......................................................................................................................................................................................................................*........................
        sqrdmulh v26.4S, v11.4S, v1.S[3]        // .........................................................................................................................................................................................................................*......................
        add v25.4S, v23.4S, v24.4S              // .........................................................................................................................................................................................................................*......................
        mul v14.4S, v11.4S, v1.S[2]             // ...........................................................................................................................................................................................................................*....................
        sub v10.4S, v28.4S, v17.4S              // ...........................................................................................................................................................................................................................*....................
        add v17.4S, v28.4S, v17.4S              // ............................................................................................................................................................................................................................*...................
        sub v28.4S, v23.4S, v24.4S              // .............................................................................................................................................................................................................................*..................
        sqrdmulh v11.4S, v9.4S, v2.S[1]         // .............................................................................................................................................................................................................................*..................
        sub v22.4S, v19.4S, v22.4S              // ..............................................................................................................................................................................................................................*.................
        sub v24.4S, v17.4S, v12.4S              // ...............................................................................................................................................................................................................................*................
        mls v14.4S, v26.4S, v31.S[0]            // ...............................................................................................................................................................................................................................*................
        add v17.4S, v17.4S, v12.4S              // ................................................................................................................................................................................................................................*...............
        sqrdmulh v12.4S, v22.4S, v2.S[1]        // .................................................................................................................................................................................................................................*..............
        sub v23.4S, v13.4S, v15.4S              // .................................................................................................................................................................................................................................*..............
        add v26.4S, v13.4S, v15.4S              // ..................................................................................................................................................................................................................................*.............
        mul v19.4S, v9.4S, v2.S[0]              // ...................................................................................................................................................................................................................................*............
        sqrdmulh v9.4S, v23.4S, v1.S[1]         // .....................................................................................................................................................................................................................................*..........
        mul v15.4S, v23.4S, v1.S[0]             // .......................................................................................................................................................................................................................................*........
        mls v19.4S, v11.4S, v31.S[0]            // .........................................................................................................................................................................................................................................*......
        sub v13.4S, v25.4S, v8.4S               // .........................................................................................................................................................................................................................................*......
        mls v15.4S, v9.4S, v31.S[0]             // ...........................................................................................................................................................................................................................................*....
        add v23.4S, v25.4S, v8.4S               // ...........................................................................................................................................................................................................................................*....
        sqrdmulh v8.4S, v24.4S, v0.S[3]         // .............................................................................................................................................................................................................................................*..
        mul v25.4S, v22.4S, v2.S[0]             // ...............................................................................................................................................................................................................................................*

                                                 // -------------------------------------------------------------------------------------------------------------- cycle (expected) --------------------------------------------------------------------------------------------------------------->
                                                 // 0                        25                       50                       75                       100                      125                      150                      175                      200                      225
                                                 // |------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|--------------
        // mul v22.4S, v24.4S, v0.S[2]           // ..*.............................................................................................................................................................................................................................................
        // sqrdmulh v9.4S, v23.4S, v30.4S        // ....................................................................*...........................................................................................................................................................................
        // mls v25.4S, v12.4S, v31.S[0]          // *...............................................................................................................................................................................................................................................
        // mul v23.4S, v23.4S, v29.4S            // ..........................................................................*.....................................................................................................................................................................
        // mls v23.4S, v9.4S, v31.S[0]           // ..............................................................................*.................................................................................................................................................................
        // mls v22.4S, v8.4S, v31.S[0]           // ....*...........................................................................................................................................................................................................................................
        // sqrdmulh v11.4S, v10.4S, v1.S[3]      // ........................................*.......................................................................................................................................................................................................
        // sub v9.4S, v14.4S, v25.4S             // .....*..........................................................................................................................................................................................................................................
        // str q23, [x0], #(16)                  // ...................................................................................*............................................................................................................................................................
        // mul v23.4S, v10.4S, v1.S[2]           // ......................................*.........................................................................................................................................................................................................
        // sqrdmulh v24.4S, v9.4S, v0.S[3]       // ........*.......................................................................................................................................................................................................................................
        // mls v23.4S, v11.4S, v31.S[0]          // ..............................................*.................................................................................................................................................................................................
        // mul v9.4S, v9.4S, v0.S[2]             // ..............*.................................................................................................................................................................................................................................
        // mls v9.4S, v24.4S, v31.S[0]           // ................*...............................................................................................................................................................................................................................
        // sub v24.4S, v23.4S, v19.4S            // ....................................................*...........................................................................................................................................................................................
        // add v19.4S, v23.4S, v19.4S            // ...................................................*............................................................................................................................................................................................
        // mul v8.4S, v28.4S, v0.S[2]            // ............................................................................*...................................................................................................................................................................
        // add v23.4S, v14.4S, v25.4S            // ......*.........................................................................................................................................................................................................................................
        // mul v11.4S, v13.4S, v0.S[0]           // ........................................................................................*.......................................................................................................................................................
        // sub v25.4S, v21.4S, v16.4S            // *...............................................................................................................................................................................................................................................
        // sub v10.4S, v9.4S, v15.4S             // ...............................*................................................................................................................................................................................................................
        // add v15.4S, v9.4S, v15.4S             // ..............................*.................................................................................................................................................................................................................
        // add v16.4S, v21.4S, v16.4S            // .*..............................................................................................................................................................................................................................................
        // sqrdmulh v28.4S, v28.4S, v0.S[3]      // ........................................................................*.......................................................................................................................................................................
        // add v9.4S, v23.4S, v26.4S             // .........*......................................................................................................................................................................................................................................
        // add v14.4S, v17.4S, v16.4S            // ....................................*...........................................................................................................................................................................................................
        // sqrdmulh v21.4S, v13.4S, v0.S[1]      // ......................................................................................*.........................................................................................................................................................
        // sub v13.4S, v17.4S, v16.4S            // ............................*...................................................................................................................................................................................................................
        // mul v16.4S, v14.4S, v29.4S            // ............................................................*...................................................................................................................................................................................
        // sub v12.4S, v23.4S, v26.4S            // ........*.......................................................................................................................................................................................................................................
        // mul v17.4S, v13.4S, v0.S[0]           // ..................................*.............................................................................................................................................................................................................
        // mls v8.4S, v28.4S, v31.S[0]           // ................................................................................................*...............................................................................................................................................
        // sqrdmulh v28.4S, v14.4S, v30.4S       // ........................................................*.......................................................................................................................................................................................
        // sub v14.4S, v19.4S, v20.4S            // ......................................................*.........................................................................................................................................................................................
        // add v20.4S, v19.4S, v20.4S            // .....................................................*..........................................................................................................................................................................................
        // sqrdmulh v19.4S, v13.4S, v0.S[1]      // ..............................*.................................................................................................................................................................................................................
        // sqrdmulh v26.4S, v27.4S, v1.S[1]      // ................................................*...............................................................................................................................................................................................
        // mls v16.4S, v28.4S, v31.S[0]          // ................................................................*...............................................................................................................................................................................
        // sqrdmulh v28.4S, v12.4S, v0.S[1]      // ....................*...........................................................................................................................................................................................................................
        // mul v27.4S, v27.4S, v1.S[0]           // ......................................................*.........................................................................................................................................................................................
        // str q16, [x0, #48]                    // .....................................................................*..........................................................................................................................................................................
        // mul v12.4S, v12.4S, v0.S[0]           // ............................*...................................................................................................................................................................................................................
        // mls v12.4S, v28.4S, v31.S[0]          // ................................*...............................................................................................................................................................................................................
        // mls v27.4S, v26.4S, v31.S[0]          // ..........................................................*.....................................................................................................................................................................................
        // sqrdmulh v26.4S, v25.4S, v1.S[1]      // ......*.........................................................................................................................................................................................................................................
        // str q12, [x0, #624]                   // ......................................*.........................................................................................................................................................................................................
        // sqrdmulh v12.4S, v14.4S, v0.S[1]      // ........................................................................................................*.......................................................................................................................................
        // sub v13.4S, v8.4S, v27.4S             // .............................................................................................................*..................................................................................................................................
        // add v27.4S, v8.4S, v27.4S             // ............................................................................................................*...................................................................................................................................
        // mul v16.4S, v14.4S, v0.S[0]           // .............................................................................................................*..................................................................................................................................
        // mul v8.4S, v20.4S, v29.4S             // ...........................................................................................................................*....................................................................................................................
        // mls v16.4S, v12.4S, v31.S[0]          // .................................................................................................................*..............................................................................................................................
        // mul v12.4S, v18.4S, v1.S[0]           // ..........................................................................................*.....................................................................................................................................................
        // sqrdmulh v14.4S, v20.4S, v30.4S       // .......................................................................................................................*........................................................................................................................
        // str q16, [x0, #688]                   // ......................................................................................................................*.........................................................................................................................
        // sqrdmulh v20.4S, v18.4S, v1.S[1]      // ..................................................................................................*.............................................................................................................................................
        // mul v25.4S, v25.4S, v1.S[0]           // ..........*.....................................................................................................................................................................................................................................
        // mls v25.4S, v26.4S, v31.S[0]          // ............*...................................................................................................................................................................................................................................
        // mls v17.4S, v19.4S, v31.S[0]          // ....................................*...........................................................................................................................................................................................................
        // mul v18.4S, v9.4S, v29.4S             // ......................*.........................................................................................................................................................................................................................
        // add v28.4S, v22.4S, v25.4S            // .................*..............................................................................................................................................................................................................................
        // sqrdmulh v9.4S, v9.4S, v30.4S         // ..................*.............................................................................................................................................................................................................................
        // sub v23.4S, v22.4S, v25.4S            // .............................*..................................................................................................................................................................................................................
        // str q17, [x0, #560]                   // .........................................*......................................................................................................................................................................................................
        // mls v11.4S, v21.4S, v31.S[0]          // ............................................................................................*...................................................................................................................................................
        // mls v8.4S, v14.4S, v31.S[0]           // .....................................................................................................................................................................*..........................................................................
        // sqrdmulh v21.4S, v28.4S, v30.4S       // ..............................................................*.................................................................................................................................................................................
        // str q11, [x0, #496]                   // .................................................................................................*..............................................................................................................................................
        // mul v17.4S, v28.4S, v29.4S            // ..........................*.....................................................................................................................................................................................................................
        // str q8, [x0, #176]                    // ..........................................................................................................................................................................*.....................................................................
        // mul v28.4S, v10.4S, v0.S[0]           // ................................................................................*...............................................................................................................................................................
        // mls v17.4S, v21.4S, v31.S[0]          // ..................................................................................*.............................................................................................................................................................
        // sqrdmulh v21.4S, v10.4S, v0.S[1]      // ......................................................................*.........................................................................................................................................................................
        // mul v8.4S, v15.4S, v29.4S             // ..................................................................*.............................................................................................................................................................................
        // str q17, [x0, #304]                   // .......................................................................................*........................................................................................................................................................
        // sqrdmulh v15.4S, v15.4S, v30.4S       // ..................................................*.............................................................................................................................................................................................
        // mul v10.4S, v24.4S, v0.S[2]           // ....................................................................................................*...........................................................................................................................................
        // sqrdmulh v24.4S, v24.4S, v0.S[3]      // ......................................................................................................*.........................................................................................................................................
        // mls v12.4S, v20.4S, v31.S[0]          // ...............................................................................................................*................................................................................................................................
        // mls v8.4S, v15.4S, v31.S[0]           // ....................................................................................*...........................................................................................................................................................
        // mls v10.4S, v24.4S, v31.S[0]          // ...........................................................................................................*....................................................................................................................................
        // sqrdmulh v24.4S, v27.4S, v30.4S       // ...............................................................................................................................................*................................................................................................
        // str q8, [x0, #368]                    // .........................................................................................*......................................................................................................................................................
        // mul v14.4S, v13.4S, v0.S[0]           // .....................................................................................................................*..........................................................................................................................
        // sub v16.4S, v10.4S, v12.4S            // ..........................................................................................................................................*.....................................................................................................
        // sqrdmulh v17.4S, v13.4S, v0.S[1]      // ...................................................................................................................*............................................................................................................................
        // add v10.4S, v10.4S, v12.4S            // .........................................................................................................................*......................................................................................................................
        // mul v13.4S, v27.4S, v29.4S            // ...........................................................................................................................................*....................................................................................................
        // sqrdmulh v20.4S, v10.4S, v30.4S       // .............................................................................................................................*..................................................................................................................
        // mls v14.4S, v17.4S, v31.S[0]          // .........................................................................................................................*......................................................................................................................
        // mls v13.4S, v24.4S, v31.S[0]          // .....................................................................................................................................................*..........................................................................................
        // sqrdmulh v24.4S, v23.4S, v0.S[1]      // ..........................................*.....................................................................................................................................................................................................
        // str q14, [x0, #752]                   // ..............................................................................................................................*.................................................................................................................
        // sqrdmulh v8.4S, v16.4S, v0.S[1]       // .......................................................................................................................................................*........................................................................................
        // str q13, [x0, #240]                   // ..........................................................................................................................................................*.....................................................................................
        // mls v18.4S, v9.4S, v31.S[0]           // ........................*.......................................................................................................................................................................................................................
        // mul v9.4S, v23.4S, v0.S[0]            // ............................................*...................................................................................................................................................................................................
        // mul v14.4S, v16.4S, v0.S[0]           // ...........................................................................................................................................................*....................................................................................
        // str q18, [x0, #112]                   // .............................*..................................................................................................................................................................................................................
        // mul v27.4S, v10.4S, v29.4S            // ...............................................................................................................................*................................................................................................................
        // mls v28.4S, v21.4S, v31.S[0]          // ..............................................................................................*.................................................................................................................................................
        // mls v14.4S, v8.4S, v31.S[0]           // .................................................................................................................................................................*..............................................................................
        // mls v27.4S, v20.4S, v31.S[0]          // ...................................................................................................................................*............................................................................................................
        // str q28, [x0, #880]                   // ...................................................................................................*............................................................................................................................................
        // mls v9.4S, v24.4S, v31.S[0]           // ....................................................*...........................................................................................................................................................................................
        // str q14, [x0, #944]                   // .......................................................................................................................................................................*........................................................................
        // str q27, [x0, #432]                   // ........................................................................................................................................*.......................................................................................................
        // str q9, [x0, #816]                    // ................................................................................*...............................................................................................................................................................
        // ldr q8, [x0, #192]                    // ............................................................................................*...................................................................................................................................................
        // ldr q27, [x0, #128]                   // .......................................................................................................................*........................................................................................................................
        // ldr q20, [x0, #448]                   // ............................................................................................................................................................*...................................................................................
        // ldr q23, [x0, #384]                   // ...........................................................................................................................................................*....................................................................................
        // ldr q24, [x0, #960]                   // ...........................................................................................................................................*....................................................................................................
        // ldr q28, [x0, #64]                    // ......................................................................................................................................................................*.........................................................................
        // ldr q25, [x0, #832]                   // .........................................................................................................................................................*......................................................................................
        // ldr q10, [x0, #896]                   // ............................................................................................................*...................................................................................................................................
        // sub v15.4S, v27.4S, v8.4S             // ........................................................................................................................................*.......................................................................................................
        // ldr q26, [x0, #0]                     // ................................................................................................................................................................................*...............................................................
        // ldr q18, [x0, #768]                   // ..................................................................................................*.............................................................................................................................................
        // add v9.4S, v23.4S, v20.4S             // .....................................................................................................................................................................*..........................................................................
        // mul v11.4S, v15.4S, v4.S[0]           // ...................................................................................................................................................................*............................................................................
        // sub v19.4S, v23.4S, v20.4S            // ..................................................................................................................................................................*.............................................................................
        // sub v22.4S, v10.4S, v24.4S            // ...............................................................................................................................................*................................................................................................
        // ldr q13, [x0, #576]                   // ........................................................................................*.......................................................................................................................................................
        // sqrdmulh v12.4S, v15.4S, v4.S[1]      // .......................................................................................................................................................................*........................................................................
        // sub v14.4S, v26.4S, v28.4S            // .....................................................................................................................................................................................*..........................................................
        // ldr q17, [x0, #512]                   // .....................................................................................*..........................................................................................................................................................
        // add v23.4S, v18.4S, v25.4S            // ..............................................................................................................................................................*.................................................................................
        // sqrdmulh v15.4S, v14.4S, v3.S[3]      // .............................................................................................................................................................................................*..................................................
        // sub v18.4S, v18.4S, v25.4S            // ...............................................................................................................................................................*................................................................................
        // mul v25.4S, v14.4S, v3.S[2]           // ...................................................................................................................................................................................................................*............................
        // sub v16.4S, v17.4S, v13.4S            // .........................................................................................................*......................................................................................................................................
        // mls v11.4S, v12.4S, v31.S[0]          // ...................................................................................................................................................................................*............................................................
        // add v21.4S, v10.4S, v24.4S            // .............................................................................................................................................................*..................................................................................
        // mls v25.4S, v15.4S, v31.S[0]          // .....................................................................................................................................................................................................................*..........................
        // mul v12.4S, v16.4S, v5.S[2]           // .........................................................................................................................................*......................................................................................................
        // sub v10.4S, v23.4S, v21.4S            // ................................................................................................................................................................*...............................................................................
        // sqrdmulh v14.4S, v10.4S, v3.S[1]      // ...........................................................................................................................................................................*....................................................................
        // add v23.4S, v23.4S, v21.4S            // .................................................................................................................................................................*..............................................................................
        // add v27.4S, v27.4S, v8.4S             // .........................................................................................................................................*......................................................................................................
        // mul v15.4S, v10.4S, v3.S[0]           // .....................................................................................................................................................................................*..........................................................
        // add v24.4S, v25.4S, v11.4S            // ............................................................................................................................................................................................................................*...................
        // sub v10.4S, v25.4S, v11.4S            // ...........................................................................................................................................................................................................................*....................
        // ldr q25, [x0, #256]                   // ........................................................................................................................................................................*.......................................................................
        // sqrdmulh v8.4S, v18.4S, v6.S[3]       // ...............................................................................................................................................................................*................................................................
        // add v21.4S, v26.4S, v28.4S            // ....................................................................................................................................................................................*...........................................................
        // ldr q26, [x0, #320]                   // .........................................................................................................................................................................*......................................................................
        // sqrdmulh v20.4S, v16.4S, v5.S[3]      // .................................................................................................................................*..............................................................................................................
        // sqrdmulh v28.4S, v22.4S, v7.S[1]      // .........................................................................................................................................................*......................................................................................
        // add v11.4S, v25.4S, v26.4S            // ...............................................................................................................................................................................*................................................................
        // mls v15.4S, v14.4S, v31.S[0]          // .................................................................................................................................................................................................................*..............................
        // add v17.4S, v17.4S, v13.4S            // ........................................................................................................*.......................................................................................................................................
        // mul v13.4S, v22.4S, v7.S[0]           // .................................................................................................................................................*..............................................................................................
        // ldr q14, [x0, #640]                   // ...........................................................................................................*....................................................................................................................................
        // ldr q22, [x0, #704]                   // ....................................................................................*...........................................................................................................................................................
        // mls v13.4S, v28.4S, v31.S[0]          // .............................................................................................................................................................................*..................................................................
        // sub v16.4S, v25.4S, v26.4S            // ..............................................................................................................................................................................*.................................................................
        // sub v28.4S, v21.4S, v27.4S            // ......................................................................................................................................................................................*.........................................................
        // mls v12.4S, v20.4S, v31.S[0]          // ...................................................................................................................................................*............................................................................................
        // add v20.4S, v11.4S, v9.4S             // ......................................................................................................................................................................................................................*.........................
        // add v26.4S, v14.4S, v22.4S            // ...............................................................................................................*................................................................................................................................
        // sub v14.4S, v14.4S, v22.4S            // ..............................................................................................................................*.................................................................................................................
        // sqrdmulh v22.4S, v28.4S, v1.S[3]      // .........................................................................................................................................................................................................................*......................
        // sub v9.4S, v11.4S, v9.4S              // ..............................................................................................................................................................................................................................*.................
        // mul v25.4S, v14.4S, v6.S[0]           // .....................................................................................................................................*..........................................................................................................
        // sub v11.4S, v17.4S, v26.4S            // .................................................................................................................*..............................................................................................................................
        // add v17.4S, v17.4S, v26.4S            // ...........................................................................................................................*....................................................................................................................
        // add v26.4S, v21.4S, v27.4S            // .......................................................................................................................................................................................*........................................................
        // sqrdmulh v27.4S, v11.4S, v2.S[3]      // .............................................................................................................................................................................................................*..................................
        // mul v21.4S, v11.4S, v2.S[2]           // .......................................................................................................................................................................................................*........................................
        // mul v11.4S, v18.4S, v6.S[2]           // .......................................................................................................................................................................................*........................................................
        // mls v11.4S, v8.4S, v31.S[0]           // .................................................................................................................................................................................................*..............................................
        // sqrdmulh v8.4S, v14.4S, v6.S[1]       // .......................................................................................................................................*........................................................................................................
        // add v18.4S, v26.4S, v20.4S            // .........................................................................................................................................................................................................................*......................
        // mls v21.4S, v27.4S, v31.S[0]          // .......................................................................................................................................................................................................................*........................
        // sub v27.4S, v17.4S, v23.4S            // ...........................................................................................................................................................................*....................................................................
        // mul v14.4S, v28.4S, v1.S[2]           // ...........................................................................................................................................................................................................................*....................
        // sub v28.4S, v26.4S, v20.4S            // .............................................................................................................................................................................................................................*..................
        // add v23.4S, v17.4S, v23.4S            // .............................................................................................................................................................................*..................................................................
        // mls v25.4S, v8.4S, v31.S[0]           // .............................................................................................................................................*..................................................................................................
        // add v26.4S, v21.4S, v15.4S            // ..................................................................................................................................................................................................................................*.............
        // sub v15.4S, v21.4S, v15.4S            // .................................................................................................................................................................................................................................*..............
        // mul v8.4S, v19.4S, v5.S[0]            // ...............................................................................................................................................................................................*................................................
        // mls v14.4S, v22.4S, v31.S[0]          // ...............................................................................................................................................................................................................................*................
        // sub v22.4S, v11.4S, v13.4S            // ......................................................................................................................................................................................................*.........................................
        // sub v20.4S, v12.4S, v25.4S            // ..........................................................................................................................................................*.....................................................................................
        // add v21.4S, v12.4S, v25.4S            // ........................................................................................................................................................................................*.......................................................
        // sqrdmulh v12.4S, v22.4S, v3.S[1]      // .........................................................................................................................................................................................................*......................................
        // mul v17.4S, v16.4S, v4.S[2]           // .................................................................................................................................................................................*..............................................................
        // sqrdmulh v25.4S, v16.4S, v4.S[3]      // .........................................................................................................................................................................................*......................................................
        // add v16.4S, v11.4S, v13.4S            // .......................................................................................................................................................................................................*........................................
        // mul v11.4S, v22.4S, v3.S[0]           // ...........................................................................................................................................................................................................*....................................
        // sqrdmulh v19.4S, v19.4S, v5.S[1]      // ...........................................................................................................................................................................................*....................................................
        // sqrdmulh v22.4S, v15.4S, v1.S[1]      // .....................................................................................................................................................................................................................................*..........
        // sqrdmulh v13.4S, v20.4S, v2.S[3]      // .............................................................................................................................................................*..................................................................................
        // mul v20.4S, v20.4S, v2.S[2]           // ...............................................................................................................................................................*................................................................................
        // mls v11.4S, v12.4S, v31.S[0]          // ...............................................................................................................................................................................................................*................................
        // mls v20.4S, v13.4S, v31.S[0]          // .........................................................................................................................................................................*......................................................................
        // sub v13.4S, v18.4S, v23.4S            // .........................................................................................................................................................................................................................................*......
        // add v23.4S, v18.4S, v23.4S            // ...........................................................................................................................................................................................................................................*....
        // mls v17.4S, v25.4S, v31.S[0]          // .....................................................................................................................................................................................................*..........................................
        // mls v8.4S, v19.4S, v31.S[0]           // ...................................................................................................................................................................................................*............................................
        // sub v18.4S, v20.4S, v11.4S            // .......................................................................................................................................................................................................................*........................
        // add v20.4S, v20.4S, v11.4S            // .....................................................................................................................................................................................................................*..........................
        // sqrdmulh v12.4S, v9.4S, v2.S[1]       // .................................................................................................................................................................................................................................*..............
        // mul v15.4S, v15.4S, v1.S[0]           // .......................................................................................................................................................................................................................................*........
        // sub v11.4S, v17.4S, v8.4S             // .................................................................................................................................................................................................................*..............................
        // mls v15.4S, v22.4S, v31.S[0]          // ...........................................................................................................................................................................................................................................*....
        // add v19.4S, v17.4S, v8.4S             // ...................................................................................................................................................................................................................*............................
        // sqrdmulh v25.4S, v11.4S, v2.S[1]      // .............................................................................................................................................................................................................................*..................
        // add v17.4S, v24.4S, v19.4S            // ................................................................................................................................................................................................................................*...............
        // sub v24.4S, v24.4S, v19.4S            // ...............................................................................................................................................................................................................................*................
        // mul v19.4S, v11.4S, v2.S[0]           // ...................................................................................................................................................................................................................................*............
        // sqrdmulh v8.4S, v24.4S, v0.S[3]       // .............................................................................................................................................................................................................................................*..
        // mls v19.4S, v25.4S, v31.S[0]          // .........................................................................................................................................................................................................................................*......
        // mul v25.4S, v9.4S, v2.S[0]            // ...............................................................................................................................................................................................................................................*

        subs count, count, 1
        cbnz count, intt_layer1234_start
        mul v22.4S, v24.4S, v0.S[2]             // ......................................................................................................*....................................................................................................................................................
        sqrdmulh v9.4S, v23.4S, v30.4S          // ........................................................................................................*..................................................................................................................................................
        mls v25.4S, v12.4S, v31.S[0]            // ..........................................................................................................*................................................................................................................................................
        mul v23.4S, v23.4S, v29.4S              // ............................................................................................................*..............................................................................................................................................
        mls v23.4S, v9.4S, v31.S[0]             // ..............................................................................................................*............................................................................................................................................
        mls v22.4S, v8.4S, v31.S[0]             // ................................................................................................................*..........................................................................................................................................
        sqrdmulh v11.4S, v10.4S, v1.S[3]        // ..................................................................................................................*........................................................................................................................................
        sub v9.4S, v14.4S, v25.4S               // ..................................................................................................................*........................................................................................................................................
        str q23, [x0], #(16)                    // ...................................................................................................................*.......................................................................................................................................
        mul v23.4S, v10.4S, v1.S[2]             // ....................................................................................................................*......................................................................................................................................
        sqrdmulh v24.4S, v9.4S, v0.S[3]         // ......................................................................................................................*....................................................................................................................................
        mls v23.4S, v11.4S, v31.S[0]            // ........................................................................................................................*..................................................................................................................................
        mul v9.4S, v9.4S, v0.S[2]               // ..........................................................................................................................*................................................................................................................................
        mls v9.4S, v24.4S, v31.S[0]             // ............................................................................................................................*..............................................................................................................................
        sub v24.4S, v23.4S, v19.4S              // .............................................................................................................................*.............................................................................................................................
        add v19.4S, v23.4S, v19.4S              // ..............................................................................................................................*............................................................................................................................
        mul v8.4S, v28.4S, v0.S[2]              // ..............................................................................................................................*............................................................................................................................
        add v23.4S, v14.4S, v25.4S              // ...............................................................................................................................*...........................................................................................................................
        mul v11.4S, v13.4S, v0.S[0]             // ................................................................................................................................*..........................................................................................................................
        sub v25.4S, v21.4S, v16.4S              // ................................................................................................................................*..........................................................................................................................
        sub v10.4S, v9.4S, v15.4S               // .................................................................................................................................*.........................................................................................................................
        add v15.4S, v9.4S, v15.4S               // ..................................................................................................................................*........................................................................................................................
        add v16.4S, v21.4S, v16.4S              // ..................................................................................................................................*........................................................................................................................
        sqrdmulh v28.4S, v28.4S, v0.S[3]        // ...................................................................................................................................*.......................................................................................................................
        add v9.4S, v23.4S, v26.4S               // ...................................................................................................................................*.......................................................................................................................
        add v14.4S, v17.4S, v16.4S              // ....................................................................................................................................*......................................................................................................................
        sqrdmulh v21.4S, v13.4S, v0.S[1]        // .....................................................................................................................................*.....................................................................................................................
        sub v13.4S, v17.4S, v16.4S              // .....................................................................................................................................*.....................................................................................................................
        mul v16.4S, v14.4S, v29.4S              // .......................................................................................................................................*...................................................................................................................
        sub v12.4S, v23.4S, v26.4S              // .......................................................................................................................................*...................................................................................................................
        mul v17.4S, v13.4S, v0.S[0]             // .........................................................................................................................................*.................................................................................................................
        mls v8.4S, v28.4S, v31.S[0]             // ...........................................................................................................................................*...............................................................................................................
        sqrdmulh v28.4S, v14.4S, v30.4S         // .............................................................................................................................................*.............................................................................................................
        sub v14.4S, v19.4S, v20.4S              // .............................................................................................................................................*.............................................................................................................
        add v20.4S, v19.4S, v20.4S              // ..............................................................................................................................................*............................................................................................................
        sqrdmulh v19.4S, v13.4S, v0.S[1]        // ...............................................................................................................................................*...........................................................................................................
        sqrdmulh v26.4S, v27.4S, v1.S[1]        // .................................................................................................................................................*.........................................................................................................
        mls v16.4S, v28.4S, v31.S[0]            // ...................................................................................................................................................*.......................................................................................................
        sqrdmulh v28.4S, v12.4S, v0.S[1]        // .....................................................................................................................................................*.....................................................................................................
        mul v27.4S, v27.4S, v1.S[0]             // .......................................................................................................................................................*...................................................................................................
        str q16, [x0, #48]                      // ........................................................................................................................................................*..................................................................................................
        mul v12.4S, v12.4S, v0.S[0]             // .........................................................................................................................................................*.................................................................................................
        mls v12.4S, v28.4S, v31.S[0]            // ...........................................................................................................................................................*...............................................................................................
        mls v27.4S, v26.4S, v31.S[0]            // .............................................................................................................................................................*.............................................................................................
        sqrdmulh v26.4S, v25.4S, v1.S[1]        // ...............................................................................................................................................................*...........................................................................................
        str q12, [x0, #624]                     // ................................................................................................................................................................*..........................................................................................
        sqrdmulh v12.4S, v14.4S, v0.S[1]        // .................................................................................................................................................................*.........................................................................................
        sub v13.4S, v8.4S, v27.4S               // ..................................................................................................................................................................*........................................................................................
        add v27.4S, v8.4S, v27.4S               // ...................................................................................................................................................................*.......................................................................................
        mul v16.4S, v14.4S, v0.S[0]             // ...................................................................................................................................................................*.......................................................................................
        mul v8.4S, v20.4S, v29.4S               // .....................................................................................................................................................................*.....................................................................................
        mls v16.4S, v12.4S, v31.S[0]            // .......................................................................................................................................................................*...................................................................................
        mul v12.4S, v18.4S, v1.S[0]             // .........................................................................................................................................................................*.................................................................................
        sqrdmulh v14.4S, v20.4S, v30.4S         // ...........................................................................................................................................................................*...............................................................................
        str q16, [x0, #688]                     // ............................................................................................................................................................................*..............................................................................
        sqrdmulh v20.4S, v18.4S, v1.S[1]        // .............................................................................................................................................................................*.............................................................................
        mul v25.4S, v25.4S, v1.S[0]             // ...............................................................................................................................................................................*...........................................................................
        mls v25.4S, v26.4S, v31.S[0]            // .................................................................................................................................................................................*.........................................................................
        mls v17.4S, v19.4S, v31.S[0]            // ...................................................................................................................................................................................*.......................................................................
        mul v18.4S, v9.4S, v29.4S               // .....................................................................................................................................................................................*.....................................................................
        add v28.4S, v22.4S, v25.4S              // ......................................................................................................................................................................................*....................................................................
        sqrdmulh v9.4S, v9.4S, v30.4S           // .......................................................................................................................................................................................*...................................................................
        sub v23.4S, v22.4S, v25.4S              // .......................................................................................................................................................................................*...................................................................
        str q17, [x0, #560]                     // ........................................................................................................................................................................................*..................................................................
        mls v11.4S, v21.4S, v31.S[0]            // .........................................................................................................................................................................................*.................................................................
        mls v8.4S, v14.4S, v31.S[0]             // ...........................................................................................................................................................................................*...............................................................
        sqrdmulh v21.4S, v28.4S, v30.4S         // .............................................................................................................................................................................................*.............................................................
        str q11, [x0, #496]                     // ..............................................................................................................................................................................................*............................................................
        mul v17.4S, v28.4S, v29.4S              // ...............................................................................................................................................................................................*...........................................................
        str q8, [x0, #176]                      // ................................................................................................................................................................................................*..........................................................
        mul v28.4S, v10.4S, v0.S[0]             // .................................................................................................................................................................................................*.........................................................
        mls v17.4S, v21.4S, v31.S[0]            // ...................................................................................................................................................................................................*.......................................................
        sqrdmulh v21.4S, v10.4S, v0.S[1]        // .....................................................................................................................................................................................................*.....................................................
        mul v8.4S, v15.4S, v29.4S               // .......................................................................................................................................................................................................*...................................................
        str q17, [x0, #304]                     // ........................................................................................................................................................................................................*..................................................
        sqrdmulh v15.4S, v15.4S, v30.4S         // .........................................................................................................................................................................................................*.................................................
        mul v10.4S, v24.4S, v0.S[2]             // ...........................................................................................................................................................................................................*...............................................
        sqrdmulh v24.4S, v24.4S, v0.S[3]        // .............................................................................................................................................................................................................*.............................................
        mls v12.4S, v20.4S, v31.S[0]            // ...............................................................................................................................................................................................................*...........................................
        mls v8.4S, v15.4S, v31.S[0]             // .................................................................................................................................................................................................................*.........................................
        mls v10.4S, v24.4S, v31.S[0]            // ...................................................................................................................................................................................................................*.......................................
        sqrdmulh v24.4S, v27.4S, v30.4S         // .....................................................................................................................................................................................................................*.....................................
        str q8, [x0, #368]                      // ......................................................................................................................................................................................................................*....................................
        mul v14.4S, v13.4S, v0.S[0]             // .......................................................................................................................................................................................................................*...................................
        sub v16.4S, v10.4S, v12.4S              // ........................................................................................................................................................................................................................*..................................
        sqrdmulh v17.4S, v13.4S, v0.S[1]        // .........................................................................................................................................................................................................................*.................................
        add v10.4S, v10.4S, v12.4S              // .........................................................................................................................................................................................................................*.................................
        mul v13.4S, v27.4S, v29.4S              // ...........................................................................................................................................................................................................................*...............................
        sqrdmulh v20.4S, v10.4S, v30.4S         // .............................................................................................................................................................................................................................*.............................
        mls v14.4S, v17.4S, v31.S[0]            // ...............................................................................................................................................................................................................................*...........................
        mls v13.4S, v24.4S, v31.S[0]            // .................................................................................................................................................................................................................................*.........................
        sqrdmulh v24.4S, v23.4S, v0.S[1]        // ...................................................................................................................................................................................................................................*.......................
        str q14, [x0, #752]                     // ....................................................................................................................................................................................................................................*......................
        sqrdmulh v8.4S, v16.4S, v0.S[1]         // .....................................................................................................................................................................................................................................*.....................
        str q13, [x0, #240]                     // ......................................................................................................................................................................................................................................*....................
        mls v18.4S, v9.4S, v31.S[0]             // .......................................................................................................................................................................................................................................*...................
        mul v9.4S, v23.4S, v0.S[0]              // .........................................................................................................................................................................................................................................*.................
        mul v14.4S, v16.4S, v0.S[0]             // ...........................................................................................................................................................................................................................................*...............
        str q18, [x0, #112]                     // ............................................................................................................................................................................................................................................*..............
        mul v27.4S, v10.4S, v29.4S              // .............................................................................................................................................................................................................................................*.............
        mls v28.4S, v21.4S, v31.S[0]            // ...............................................................................................................................................................................................................................................*...........
        mls v14.4S, v8.4S, v31.S[0]             // .................................................................................................................................................................................................................................................*.........
        mls v27.4S, v20.4S, v31.S[0]            // ...................................................................................................................................................................................................................................................*.......
        str q28, [x0, #880]                     // ....................................................................................................................................................................................................................................................*......
        mls v9.4S, v24.4S, v31.S[0]             // .....................................................................................................................................................................................................................................................*.....
        str q14, [x0, #944]                     // ......................................................................................................................................................................................................................................................*....
        str q27, [x0, #432]                     // ........................................................................................................................................................................................................................................................*..
        str q9, [x0, #816]                      // ..........................................................................................................................................................................................................................................................*

        pop_stack
        ret

/* ***************** REGISTER DEALLOCATIONS ****************** */
    .unreq in
    .unreq r78_ptr
    .unreq r123456_ptr
    .unreq inp
    .unreq count
    .unreq wtmp
    .unreq data0
    .unreq data1
    .unreq data2
    .unreq data3
    .unreq data4
    .unreq data5
    .unreq data6
    .unreq data7
    .unreq data8
    .unreq data9
    .unreq data10
    .unreq data11
    .unreq data12
    .unreq data13
    .unreq data14
    .unreq data15
    .unreq q_data0
    .unreq q_data1
    .unreq q_data2
    .unreq q_data3
    .unreq q_data4
    .unreq q_data5
    .unreq q_data6
    .unreq q_data7
    .unreq q_data8
    .unreq q_data9
    .unreq q_data10
    .unreq q_data11
    .unreq q_data12
    .unreq q_data13
    .unreq q_data14
    .unreq q_data15
    .unreq root0
    .unreq root1
    .unreq root2
    .unreq root3
    .unreq root4
    .unreq root5
    .unreq root6
    .unreq root7
    .unreq root0_tw
    .unreq root1_tw
    .unreq root2_tw
    .unreq root3_tw
    .unreq consts
    .unreq q_consts
    .unreq q_root0
    .unreq q_root1
    .unreq q_root2
    .unreq q_root3
    .unreq q_root4
    .unreq q_root5
    .unreq q_root6
    .unreq q_root7
    .unreq q_root0_tw
    .unreq q_root1_tw
    .unreq q_root2_tw
    .unreq q_root3_tw
    .unreq d_root1
    .unreq tmp
    .unreq t0
    .unreq t1
    .unreq t2
    .unreq t3
    .unreq ninv
    .unreq ninv_tw

/* simpasm: footer-start */
#endif /* MLD_ARITH_BACKEND_AARCH64 && !MLD_CONFIG_MULTILEVEL_NO_SHARED */
