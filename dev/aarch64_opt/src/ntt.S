/* Copyright (c) 2022 Arm Limited
 * Copyright (c) 2022 Hanno Becker
 * Copyright (c) 2023 Amin Abdulrahman, Matthias Kannwischer
 * Copyright (c) The mlkem-native project authors
 * Copyright (c) The mldsa-native project authors
 * SPDX-License-Identifier: Apache-2.0 OR ISC OR MIT
 */

/* References
 * ==========
 *
 * - [NeonNTT]
 *   Neon NTT: Faster Dilithium, Kyber, and Saber on Cortex-A72 and Apple M1
 *   Becker, Hwang, Kannwischer, Yang, Yang
 *   https://eprint.iacr.org/2021/986
 *
 * - [SLOTHY_Paper]
 *   Fast and Clean: Auditable high-performance assembly via constraint solving
 *   Abdulrahman, Becker, Kannwischer, Klein
 *   https://eprint.iacr.org/2022/1303
 */

/* AArch64 ML-DSA forward NTT following @[NeonNTT] and @[SLOTHY_Paper] */

#include "../../../common.h"
#if defined(MLD_ARITH_BACKEND_AARCH64) &&  !defined(MLD_CONFIG_MULTILEVEL_NO_SHARED)
/* simpasm: header-end */

.macro mulmodq dst, src, const, idx0, idx1
        // Signed barrett multiplication @[NeonNTT, Section 3.1.2] using
        // round-to-nearest-even-integer approximation. Following loc.cit.,
        // this is functionally the same as a signed Montgomery multiplication
        // with a suitable constant of absolute value < q.
        sqrdmulh t2.4s,      \src\().4s, \const\().s[\idx1\()]
        mul      \dst\().4s, \src\().4s, \const\().s[\idx0\()]
        mls      \dst\().4s, t2.4s,      consts.s[0]
        // Bounds: |dst| < BARMUL_BOUND

        // (See the end of dev/aarch64_clean/src/intt.S for the exact value of
        // BARMUL_BOUND)
.endm

.macro mulmod dst, src, const, const_twisted
        // Same as mulmodq, but with different multiplier across each lanes.
        sqrdmulh t2.4s,   \src\().4s, \const_twisted\().4s
        mul      \dst\().4s, \src\().4s, \const\().4s
        mls      \dst\().4s, t2.4s,   consts.s[0]
        // Bounds: |dst| < BARMUL_BOUND
.endm

.macro ct_butterfly a, b, root, idx0, idx1
        // Compute a' = a + barmul(b, zeta), b' = a - barmul(b, zeta), commonly
        // known as the Cooley-Tukey butterfly.
        mulmodq tmp, \b, \root, \idx0, \idx1
        sub \b\().4s, \a\().4s, tmp.4s
        add \a\().4s, \a\().4s, tmp.4s
        // Bounds: |a'|, |b'| < |a| + BARMUL_BOUND <= |a| + q

        // In conclusion, the magnitudes of all coefficients grow by at most q
        // after each layer.
.endm

.macro ct_butterfly_v a, b, root, root_twisted
        // Same as ct_butterfly, but with different zetas across each lanes.
        mulmod tmp, \b, \root, \root_twisted
        sub \b\().4s, \a\().4s, tmp.4s
        add \a\().4s, \a\().4s, tmp.4s
        // Bounds: |a'|, |b'| < |a| + BARMUL_BOUND <= |a| + q
.endm

.macro load_roots_123
        ldr q_root0, [r012345_ptr], #(4*16)
        ldr q_root1, [r012345_ptr, #(-4*16 + 1*16)]
        ldr q_root2, [r012345_ptr, #(-4*16 + 2*16)]
        ldr q_root3, [r012345_ptr, #(-4*16 + 3*16)]
.endm

.macro load_next_roots_456
       ldr q_root0, [r012345_ptr], #(4*16)
       ldr q_root1, [r012345_ptr, #(-4*16 + 1*16)]
       ldr q_root2, [r012345_ptr, #(-4*16 + 2*16)]
       ldr q_root3, [r012345_ptr, #(-4*16 + 3*16)]
.endm

.macro load_next_roots_78_1
        ldr q_root0,    [r67_ptr], #(12*16)
        ldr q_root0_tw, [r67_ptr, #(-12*16 + 1*16)]
        ldr q_root1,    [r67_ptr, #(-12*16 + 2*16)]
        ldr q_root1_tw, [r67_ptr, #(-12*16 + 3*16)]
        ldr q_root2,    [r67_ptr, #(-12*16 + 4*16)]
        ldr q_root2_tw, [r67_ptr, #(-12*16 + 5*16)]
.endm

.macro load_next_roots_78_2
        ldr q_root0,    [r67_ptr, #(-12*16 + 6*16)]
        ldr q_root0_tw, [r67_ptr, #(-12*16 + 7*16)]
        ldr q_root1,    [r67_ptr, #(-12*16 + 8*16)]
        ldr q_root1_tw, [r67_ptr, #(-12*16 + 9*16)]
        ldr q_root2,    [r67_ptr, #(-12*16 + 10*16)]
        ldr q_root2_tw, [r67_ptr, #(-12*16 + 11*16)]
.endm

.macro transpose4 data0, data1, data2, data3
        trn1 t0.4s, \data0\().4s, \data1\().4s
        trn2 t1.4s, \data0\().4s, \data1\().4s
        trn1 t2.4s, \data2\().4s, \data3\().4s
        trn2 t3.4s, \data2\().4s, \data3\().4s

        trn2 \data2\().2d, t0.2d, t2.2d
        trn2 \data3\().2d, t1.2d, t3.2d
        trn1 \data0\().2d, t0.2d, t2.2d
        trn1 \data1\().2d, t1.2d, t3.2d
.endm

.macro save_vregs
        sub sp, sp, #(16*4)
        stp  d8,  d9, [sp, #16*0]
        stp d10, d11, [sp, #16*1]
        stp d12, d13, [sp, #16*2]
        stp d14, d15, [sp, #16*3]
.endm

.macro restore_vregs
        ldp  d8,  d9, [sp, #16*0]
        ldp d10, d11, [sp, #16*1]
        ldp d12, d13, [sp, #16*2]
        ldp d14, d15, [sp, #16*3]
        add sp, sp, #(16*4)
.endm

.macro push_stack
        save_vregs
.endm

.macro pop_stack
        restore_vregs
.endm

        // Arguments
        in          .req x0  // Input/output buffer
        r012345_ptr .req x1  // twiddles for layer 0,1,2,3,4,5
        r67_ptr     .req x2  // twiddles for layer 6,7

        inp     .req x3
        count   .req x4
        wtmp    .req w5

        data0  .req v8
        data1  .req v9
        data2  .req v10
        data3  .req v11
        data4  .req v12
        data5  .req v13
        data6  .req v14
        data7  .req v15

        q_data0  .req q8
        q_data1  .req q9
        q_data2  .req q10
        q_data3  .req q11
        q_data4  .req q12
        q_data5  .req q13
        q_data6  .req q14
        q_data7  .req q15

        root0    .req v0
        root1    .req v1
        root2    .req v2
        root3    .req v3
        root0_tw .req v4
        root1_tw .req v5
        root2_tw .req v6

        q_root0    .req q0
        q_root1    .req q1
        q_root2    .req q2
        q_root3    .req q3
        q_root0_tw .req q4
        q_root1_tw .req q5
        q_root2_tw .req q6

        consts    .req v7

        tmp .req v24
        t0  .req v25
        t1  .req v26
        t2  .req v27
        t3  .req v28

        .text
        .global MLD_ASM_NAMESPACE(ntt_asm)
        .balign 4
MLD_ASM_FN_SYMBOL(ntt_asm)
        push_stack

        // Load MLDSA_Q = 8380417
        movz wtmp, #0xe001
        movk wtmp, #0x7f, lsl #16
        dup consts.4s, wtmp

        mov inp, in
        mov count, #8

        load_roots_123

        .p2align 2

                                                // Instructions:    133
                                                // Expected cycles: 149
                                                // Expected IPC:    0.89

                                                // Cycle bound:     149.0
                                                // IPC bound:       0.89

                                                // Wall time:     1.44s
                                                // User time:     1.44s

                                                // ----------------------------------------------------------------- cycle (expected) ----------------------------------------------------------------->
                                                // 0                        25                       50                       75                       100                      125
                                                // |------------------------|------------------------|------------------------|------------------------|------------------------|-----------------------
        ldr q20, [x0, #912]                     // *....................................................................................................................................................
        ldr q21, [x0, #896]                     // ..*..................................................................................................................................................
        mul v30.4S, v20.4S, v0.S[0]             // ....*................................................................................................................................................
        sqrdmulh v18.4S, v20.4S, v0.S[1]        // .....*...............................................................................................................................................
        sqrdmulh v14.4S, v21.4S, v0.S[1]        // ......*..............................................................................................................................................
        mul v4.4S, v21.4S, v0.S[0]              // .......*.............................................................................................................................................
        ldr q29, [x0, #640]                     // ........*............................................................................................................................................
        ldr q6, [x0, #384]                      // ..........*..........................................................................................................................................
        mls v4.4S, v14.4S, v7.S[0]              // ............*........................................................................................................................................
        ldr q12, [x0, #768]                     // .............*.......................................................................................................................................
        sqrdmulh v25.4S, v29.4S, v0.S[1]        // ...............*.....................................................................................................................................
        mul v21.4S, v29.4S, v0.S[0]             // ................*....................................................................................................................................
        sqrdmulh v11.4S, v12.4S, v0.S[1]        // .................*...................................................................................................................................
        add v8.4S, v6.4S, v4.4S                 // ..................*..................................................................................................................................
        sub v27.4S, v6.4S, v4.4S                // ...................*.................................................................................................................................
        mls v21.4S, v25.4S, v7.S[0]             // ....................*................................................................................................................................
        ldr q15, [x0, #128]                     // .....................*...............................................................................................................................
        mul v17.4S, v12.4S, v0.S[0]             // .......................*.............................................................................................................................
        mls v30.4S, v18.4S, v7.S[0]             // ........................*............................................................................................................................
        add v19.4S, v15.4S, v21.4S              // .........................*...........................................................................................................................
        sub v20.4S, v15.4S, v21.4S              // ..........................*..........................................................................................................................
        mls v17.4S, v11.4S, v7.S[0]             // ...........................*.........................................................................................................................
        ldr q13, [x0, #256]                     // ............................*........................................................................................................................
        ldr q22, [x0, #512]                     // ..............................*......................................................................................................................
        ldr q26, [x0, #656]                     // ................................*....................................................................................................................
        mul v18.4S, v8.4S, v0.S[2]              // ..................................*..................................................................................................................
        ldr q24, [x0, #784]                     // ...................................*.................................................................................................................
        sqrdmulh v11.4S, v8.4S, v0.S[3]         // .....................................*...............................................................................................................
        mul v12.4S, v26.4S, v0.S[0]             // ......................................*..............................................................................................................
        mul v5.4S, v27.4S, v1.S[0]              // .......................................*.............................................................................................................
        sqrdmulh v21.4S, v27.4S, v1.S[1]        // ........................................*............................................................................................................
        ldr q28, [x0, #400]                     // .........................................*...........................................................................................................
        mul v6.4S, v22.4S, v0.S[0]              // ...........................................*.........................................................................................................
        sqrdmulh v23.4S, v22.4S, v0.S[1]        // ............................................*........................................................................................................
        add v22.4S, v28.4S, v30.4S              // .............................................*.......................................................................................................
        sub v30.4S, v28.4S, v30.4S              // ..............................................*......................................................................................................
        sqrdmulh v9.4S, v26.4S, v0.S[1]         // ...............................................*.....................................................................................................
        sqrdmulh v29.4S, v24.4S, v0.S[1]        // ................................................*....................................................................................................
        mul v27.4S, v24.4S, v0.S[0]             // .................................................*...................................................................................................
        mls v18.4S, v11.4S, v7.S[0]             // ..................................................*..................................................................................................
        sqrdmulh v24.4S, v22.4S, v0.S[3]        // ...................................................*.................................................................................................
        mls v5.4S, v21.4S, v7.S[0]              // ....................................................*................................................................................................
        mls v6.4S, v23.4S, v7.S[0]              // .....................................................*...............................................................................................
        mls v12.4S, v9.4S, v7.S[0]              // ......................................................*..............................................................................................
        sub v10.4S, v19.4S, v18.4S              // .......................................................*.............................................................................................
        add v21.4S, v20.4S, v5.4S               // ........................................................*............................................................................................
        sub v28.4S, v20.4S, v5.4S               // .........................................................*...........................................................................................
        sub v16.4S, v13.4S, v17.4S              // ..........................................................*..........................................................................................
        add v20.4S, v13.4S, v17.4S              // ...........................................................*.........................................................................................
        add v19.4S, v19.4S, v18.4S              // ............................................................*........................................................................................
        mul v11.4S, v22.4S, v0.S[2]             // .............................................................*.......................................................................................
        ldr q31, [x0, #144]                     // ..............................................................*......................................................................................
        mul v13.4S, v30.4S, v1.S[0]             // ................................................................*....................................................................................
        mls v11.4S, v24.4S, v7.S[0]             // .................................................................*...................................................................................
        add v8.4S, v31.4S, v12.4S               // ..................................................................*..................................................................................
        ldr q23, [x0, #528]                     // ...................................................................*.................................................................................
        mls v27.4S, v29.4S, v7.S[0]             // .....................................................................*...............................................................................
        ldr q24, [x0, #272]                     // ......................................................................*..............................................................................
        add v29.4S, v8.4S, v11.4S               // ........................................................................*............................................................................
        sqrdmulh v9.4S, v30.4S, v1.S[1]         // .........................................................................*...........................................................................
        add v15.4S, v24.4S, v27.4S              // ..........................................................................*..........................................................................
        mul v17.4S, v20.4S, v0.S[2]             // ...........................................................................*.........................................................................
        sqrdmulh v22.4S, v20.4S, v0.S[3]        // ............................................................................*........................................................................
        sub v5.4S, v24.4S, v27.4S               // .............................................................................*.......................................................................
        mul v20.4S, v23.4S, v0.S[0]             // ..............................................................................*......................................................................
        sqrdmulh v24.4S, v29.4S, v1.S[3]        // ...............................................................................*.....................................................................
        sqrdmulh v26.4S, v23.4S, v0.S[1]        // ................................................................................*....................................................................
        mls v13.4S, v9.4S, v7.S[0]              // .................................................................................*...................................................................
        sqrdmulh v14.4S, v16.4S, v1.S[1]        // ..................................................................................*..................................................................
        mul v27.4S, v29.4S, v1.S[2]             // ...................................................................................*.................................................................
        mul v16.4S, v16.4S, v1.S[0]             // ....................................................................................*................................................................
        ldr q25, [x0, #0]                       // .....................................................................................*...............................................................
        mls v27.4S, v24.4S, v7.S[0]             // .......................................................................................*.............................................................
        sqrdmulh v29.4S, v15.4S, v0.S[3]        // ........................................................................................*............................................................
        mul v4.4S, v15.4S, v0.S[2]              // .........................................................................................*...........................................................
        sqrdmulh v30.4S, v19.4S, v1.S[3]        // ..........................................................................................*..........................................................
        mls v17.4S, v22.4S, v7.S[0]             // ...........................................................................................*.........................................................
        mls v20.4S, v26.4S, v7.S[0]             // ............................................................................................*........................................................
        ldr q26, [x0, #16]                      // .............................................................................................*.......................................................
        mls v4.4S, v29.4S, v7.S[0]              // ...............................................................................................*.....................................................
        add v24.4S, v25.4S, v6.4S               // ................................................................................................*....................................................
        mul v23.4S, v5.4S, v1.S[0]              // .................................................................................................*...................................................
        mls v16.4S, v14.4S, v7.S[0]             // ..................................................................................................*..................................................
        sqrdmulh v29.4S, v21.4S, v2.S[3]        // ...................................................................................................*.................................................
        mul v15.4S, v21.4S, v2.S[2]             // ....................................................................................................*................................................
        mul v9.4S, v19.4S, v1.S[2]              // .....................................................................................................*...............................................
        mul v19.4S, v10.4S, v2.S[0]             // ......................................................................................................*..............................................
        sub v31.4S, v31.4S, v12.4S              // .......................................................................................................*.............................................
        sqrdmulh v10.4S, v10.4S, v2.S[1]        // ........................................................................................................*............................................
        sqrdmulh v12.4S, v28.4S, v3.S[1]        // .........................................................................................................*...........................................
        sub v6.4S, v25.4S, v6.4S                // ..........................................................................................................*..........................................
        mul v14.4S, v28.4S, v3.S[0]             // ...........................................................................................................*.........................................
        add v18.4S, v31.4S, v13.4S              // ............................................................................................................*........................................
        mls v9.4S, v30.4S, v7.S[0]              // .............................................................................................................*.......................................
        sqrdmulh v22.4S, v5.4S, v1.S[1]         // ..............................................................................................................*......................................
        add v25.4S, v24.4S, v17.4S              // ...............................................................................................................*.....................................
        mul v30.4S, v18.4S, v2.S[2]             // ................................................................................................................*....................................
        add v5.4S, v26.4S, v20.4S               // .................................................................................................................*...................................
        sqrdmulh v18.4S, v18.4S, v2.S[3]        // ..................................................................................................................*..................................
        mls v23.4S, v22.4S, v7.S[0]             // ...................................................................................................................*.................................
        sub v28.4S, v26.4S, v20.4S              // ....................................................................................................................*................................
        mls v19.4S, v10.4S, v7.S[0]             // .....................................................................................................................*...............................
        mls v14.4S, v12.4S, v7.S[0]             // ......................................................................................................................*..............................
        sub v12.4S, v25.4S, v9.4S               // .......................................................................................................................*.............................
        add v26.4S, v28.4S, v23.4S              // ........................................................................................................................*............................
        add v10.4S, v6.4S, v16.4S               // .........................................................................................................................*...........................
        sub v21.4S, v24.4S, v17.4S              // ..........................................................................................................................*..........................
        mls v15.4S, v29.4S, v7.S[0]             // ...........................................................................................................................*.........................
        sub v29.4S, v6.4S, v16.4S               // ............................................................................................................................*........................
        mls v30.4S, v18.4S, v7.S[0]             // .............................................................................................................................*.......................
        add v20.4S, v25.4S, v9.4S               // ..............................................................................................................................*......................
        add v24.4S, v5.4S, v4.4S                // ...............................................................................................................................*.....................
        sub v6.4S, v10.4S, v15.4S               // ................................................................................................................................*....................
        str q20, [x0], #(16)                    // .................................................................................................................................*...................
        sub v20.4S, v5.4S, v4.4S                // ..................................................................................................................................*..................
        sub v4.4S, v31.4S, v13.4S               // ...................................................................................................................................*.................
        sub v17.4S, v8.4S, v11.4S               // ....................................................................................................................................*................
        add v31.4S, v21.4S, v19.4S              // .....................................................................................................................................*...............
        add v9.4S, v24.4S, v27.4S               // ......................................................................................................................................*..............
        add v22.4S, v10.4S, v15.4S              // .......................................................................................................................................*.............
        sub v13.4S, v26.4S, v30.4S              // ........................................................................................................................................*............
        str q9, [x0], #(16)                     // .........................................................................................................................................*...........
        sub v11.4S, v29.4S, v14.4S              // ..........................................................................................................................................*..........
        str q31, [x0, #224]                     // ...........................................................................................................................................*.........
        sub v15.4S, v24.4S, v27.4S              // ............................................................................................................................................*........
        str q6, [x0, #608]                      // .............................................................................................................................................*.......
        sqrdmulh v6.4S, v17.4S, v2.S[1]         // ..............................................................................................................................................*......
        sub v27.4S, v21.4S, v19.4S              // ...............................................................................................................................................*.....
        str q11, [x0, #864]                     // ................................................................................................................................................*....
        sqrdmulh v10.4S, v4.4S, v3.S[1]         // .................................................................................................................................................*...
        str q12, [x0, #96]                      // ..................................................................................................................................................*..
        add v5.4S, v26.4S, v30.4S               // ...................................................................................................................................................*.
        str q22, [x0, #480]                     // ....................................................................................................................................................*

                                                 // ----------------------------------------------------------------- cycle (expected) ----------------------------------------------------------------->
                                                 // 0                        25                       50                       75                       100                      125
                                                 // |------------------------|------------------------|------------------------|------------------------|------------------------|-----------------------
        // ldr q18, [x0, #256]                    // ............................*........................................................................................................................
        // ldr q28, [x0, #768]                    // .............*.......................................................................................................................................
        // ldr q27, [x0, #512]                    // ..............................*......................................................................................................................
        // sqrdmulh v8.4S, v28.4S, v0.S[1]        // .................*...................................................................................................................................
        // mul v23.4S, v28.4S, v0.S[0]            // .......................*.............................................................................................................................
        // mul v26.4S, v27.4S, v0.S[0]            // ...........................................*.........................................................................................................
        // sqrdmulh v22.4S, v27.4S, v0.S[1]       // ............................................*........................................................................................................
        // mls v23.4S, v8.4S, v7.S[0]             // ...........................*.........................................................................................................................
        // ldr q27, [x0, #896]                    // ..*..................................................................................................................................................
        // mls v26.4S, v22.4S, v7.S[0]            // .....................................................*...............................................................................................
        // add v19.4S, v18.4S, v23.4S             // ...........................................................*.........................................................................................
        // sub v12.4S, v18.4S, v23.4S             // ..........................................................*..........................................................................................
        // sqrdmulh v30.4S, v27.4S, v0.S[1]       // ......*..............................................................................................................................................
        // mul v8.4S, v27.4S, v0.S[0]             // .......*.............................................................................................................................................
        // ldr q11, [x0, #640]                    // ........*............................................................................................................................................
        // ldr q31, [x0, #384]                    // ..........*..........................................................................................................................................
        // mls v8.4S, v30.4S, v7.S[0]             // ............*........................................................................................................................................
        // mul v18.4S, v11.4S, v0.S[0]            // ................*....................................................................................................................................
        // sqrdmulh v25.4S, v11.4S, v0.S[1]       // ...............*.....................................................................................................................................
        // ldr q22, [x0, #128]                    // .....................*...............................................................................................................................
        // sub v24.4S, v31.4S, v8.4S              // ...................*.................................................................................................................................
        // mls v18.4S, v25.4S, v7.S[0]            // ....................*................................................................................................................................
        // ldr q4, [x0, #0]                       // .....................................................................................*...............................................................
        // sqrdmulh v10.4S, v19.4S, v0.S[3]       // ............................................................................*........................................................................
        // mul v11.4S, v19.4S, v0.S[2]            // ...........................................................................*.........................................................................
        // add v9.4S, v4.4S, v26.4S               // ................................................................................................*....................................................
        // sub v28.4S, v4.4S, v26.4S              // ..........................................................................................................*..........................................
        // sqrdmulh v16.4S, v12.4S, v1.S[1]       // ..................................................................................*..................................................................
        // mul v23.4S, v12.4S, v1.S[0]            // ....................................................................................*................................................................
        // sqrdmulh v27.4S, v24.4S, v1.S[1]       // ........................................*............................................................................................................
        // add v4.4S, v31.4S, v8.4S               // ..................*..................................................................................................................................
        // mul v8.4S, v24.4S, v1.S[0]             // .......................................*.............................................................................................................
        // sub v12.4S, v22.4S, v18.4S             // ..........................*..........................................................................................................................
        // mls v23.4S, v16.4S, v7.S[0]            // ..................................................................................................*..................................................
        // sqrdmulh v17.4S, v4.4S, v0.S[3]        // .....................................*...............................................................................................................
        // mul v16.4S, v4.4S, v0.S[2]             // ..................................*..................................................................................................................
        // mls v8.4S, v27.4S, v7.S[0]             // ....................................................*................................................................................................
        // add v24.4S, v22.4S, v18.4S             // .........................*...........................................................................................................................
        // mls v16.4S, v17.4S, v7.S[0]            // ..................................................*..................................................................................................
        // mls v11.4S, v10.4S, v7.S[0]            // ...........................................................................................*.........................................................
        // sub v4.4S, v12.4S, v8.4S               // .........................................................*...........................................................................................
        // sub v17.4S, v24.4S, v16.4S             // .......................................................*.............................................................................................
        // sqrdmulh v10.4S, v4.4S, v3.S[1]        // .........................................................................................................*...........................................
        // sqrdmulh v6.4S, v17.4S, v2.S[1]        // ........................................................................................................*............................................
        // add v26.4S, v28.4S, v23.4S             // .........................................................................................................................*...........................
        // add v19.4S, v12.4S, v8.4S              // ........................................................*............................................................................................
        // sub v20.4S, v9.4S, v11.4S              // ..........................................................................................................................*..........................
        // add v25.4S, v24.4S, v16.4S             // ............................................................*........................................................................................
        // add v15.4S, v9.4S, v11.4S              // ...............................................................................................................*.....................................
        // mul v16.4S, v19.4S, v2.S[2]            // ....................................................................................................*................................................
        // mul v18.4S, v25.4S, v1.S[2]            // .....................................................................................................*...............................................
        // sqrdmulh v31.4S, v25.4S, v1.S[3]       // ..........................................................................................*..........................................................
        // sqrdmulh v8.4S, v19.4S, v2.S[3]        // ...................................................................................................*.................................................
        // mls v18.4S, v31.4S, v7.S[0]            // .............................................................................................................*.......................................
        // mls v16.4S, v8.4S, v7.S[0]             // ...........................................................................................................................*.........................
        // add v5.4S, v15.4S, v18.4S              // ..............................................................................................................................*......................
        // sub v15.4S, v15.4S, v18.4S             // .......................................................................................................................*.............................
        // sub v13.4S, v26.4S, v16.4S             // ................................................................................................................................*....................
        // str q5, [x0], #(16)                    // .................................................................................................................................*...................
        // add v5.4S, v26.4S, v16.4S              // .......................................................................................................................................*.............
        // sub v29.4S, v28.4S, v23.4S             // ............................................................................................................................*........................
        // ldr q18, [x0, #256]                    // ......................................................................*..............................................................................
        // ldr q28, [x0, #768]                    // ...................................*.................................................................................................................
        // ldr q27, [x0, #512]                    // ...................................................................*.................................................................................
        // sqrdmulh v8.4S, v28.4S, v0.S[1]        // ................................................*....................................................................................................
        // mul v23.4S, v28.4S, v0.S[0]            // .................................................*...................................................................................................
        // mul v26.4S, v27.4S, v0.S[0]            // ..............................................................................*......................................................................
        // sqrdmulh v22.4S, v27.4S, v0.S[1]       // ................................................................................*....................................................................
        // mul v14.4S, v4.4S, v3.S[0]             // ...........................................................................................................*.........................................
        // mls v23.4S, v8.4S, v7.S[0]             // .....................................................................*...............................................................................
        // ldr q27, [x0, #896]                    // *....................................................................................................................................................
        // mls v26.4S, v22.4S, v7.S[0]            // ............................................................................................*........................................................
        // add v19.4S, v18.4S, v23.4S             // ..........................................................................*..........................................................................
        // sub v12.4S, v18.4S, v23.4S             // .............................................................................*.......................................................................
        // sqrdmulh v30.4S, v27.4S, v0.S[1]       // .....*...............................................................................................................................................
        // mul v8.4S, v27.4S, v0.S[0]             // ....*................................................................................................................................................
        // ldr q11, [x0, #640]                    // ................................*....................................................................................................................
        // ldr q31, [x0, #384]                    // .........................................*...........................................................................................................
        // mls v14.4S, v10.4S, v7.S[0]            // ......................................................................................................................*..............................
        // mls v8.4S, v30.4S, v7.S[0]             // ........................*............................................................................................................................
        // mul v18.4S, v11.4S, v0.S[0]            // ......................................*..............................................................................................................
        // sqrdmulh v25.4S, v11.4S, v0.S[1]       // ...............................................*.....................................................................................................
        // ldr q22, [x0, #128]                    // ..............................................................*......................................................................................
        // sub v24.4S, v31.4S, v8.4S              // ..............................................*......................................................................................................
        // mls v18.4S, v25.4S, v7.S[0]            // ......................................................*..............................................................................................
        // ldr q4, [x0, #0]                       // .............................................................................................*.......................................................
        // sqrdmulh v10.4S, v19.4S, v0.S[3]       // ........................................................................................*............................................................
        // mul v11.4S, v19.4S, v0.S[2]            // .........................................................................................*...........................................................
        // add v9.4S, v4.4S, v26.4S               // .................................................................................................................*...................................
        // sub v28.4S, v4.4S, v26.4S              // ....................................................................................................................*................................
        // sqrdmulh v16.4S, v12.4S, v1.S[1]       // ..............................................................................................................*......................................
        // mul v23.4S, v12.4S, v1.S[0]            // .................................................................................................*...................................................
        // sqrdmulh v27.4S, v24.4S, v1.S[1]       // .........................................................................*...........................................................................
        // add v4.4S, v31.4S, v8.4S               // .............................................*.......................................................................................................
        // mul v8.4S, v24.4S, v1.S[0]             // ................................................................*....................................................................................
        // sub v12.4S, v22.4S, v18.4S             // .......................................................................................................*.............................................
        // mls v23.4S, v16.4S, v7.S[0]            // ...................................................................................................................*.................................
        // mul v26.4S, v17.4S, v2.S[0]            // ......................................................................................................*..............................................
        // sqrdmulh v17.4S, v4.4S, v0.S[3]        // ...................................................*.................................................................................................
        // mul v16.4S, v4.4S, v0.S[2]             // .............................................................*.......................................................................................
        // mls v8.4S, v27.4S, v7.S[0]             // .................................................................................*...................................................................
        // mls v26.4S, v6.4S, v7.S[0]             // .....................................................................................................................*...............................
        // add v24.4S, v22.4S, v18.4S             // ..................................................................*..................................................................................
        // mls v16.4S, v17.4S, v7.S[0]            // .................................................................*...................................................................................
        // mls v11.4S, v10.4S, v7.S[0]            // ...............................................................................................*.....................................................
        // sub v27.4S, v20.4S, v26.4S             // ...............................................................................................................................................*.....
        // sub v4.4S, v12.4S, v8.4S               // ...................................................................................................................................*.................
        // sub v17.4S, v24.4S, v16.4S             // ....................................................................................................................................*................
        // sub v30.4S, v29.4S, v14.4S             // ..........................................................................................................................................*..........
        // sqrdmulh v10.4S, v4.4S, v3.S[1]        // .................................................................................................................................................*...
        // add v22.4S, v20.4S, v26.4S             // .....................................................................................................................................*...............
        // sqrdmulh v6.4S, v17.4S, v2.S[1]        // ..............................................................................................................................................*......
        // add v26.4S, v28.4S, v23.4S             // ........................................................................................................................*............................
        // add v19.4S, v12.4S, v8.4S              // ............................................................................................................*........................................
        // sub v20.4S, v9.4S, v11.4S              // ..................................................................................................................................*..................
        // str q15, [x0, #112]                    // ..................................................................................................................................................*..
        // add v25.4S, v24.4S, v16.4S             // ........................................................................*............................................................................
        // add v15.4S, v9.4S, v11.4S              // ...............................................................................................................................*.....................
        // mul v16.4S, v19.4S, v2.S[2]            // ................................................................................................................*....................................
        // mul v18.4S, v25.4S, v1.S[2]            // ...................................................................................*.................................................................
        // sqrdmulh v31.4S, v25.4S, v1.S[3]       // ...............................................................................*.....................................................................
        // str q5, [x0, #496]                     // ....................................................................................................................................................*
        // sqrdmulh v8.4S, v19.4S, v2.S[3]        // ..................................................................................................................*..................................
        // str q22, [x0, #240]                    // ...........................................................................................................................................*.........
        // mls v18.4S, v31.4S, v7.S[0]            // .......................................................................................*.............................................................
        // str q13, [x0, #624]                    // .............................................................................................................................................*.......
        // mls v16.4S, v8.4S, v7.S[0]             // .............................................................................................................................*.......................
        // str q30, [x0, #880]                    // ................................................................................................................................................*....
        // add v5.4S, v15.4S, v18.4S              // ......................................................................................................................................*..............
        // sub v15.4S, v15.4S, v18.4S             // ............................................................................................................................................*........
        // sub v13.4S, v26.4S, v16.4S             // ........................................................................................................................................*............
        // str q5, [x0], #(16)                    // .........................................................................................................................................*...........
        // add v5.4S, v26.4S, v16.4S              // ...................................................................................................................................................*.

        sub count, count, #2
ntt_layer123_start:
                                                // Instructions:    76
                                                // Expected cycles: 84
                                                // Expected IPC:    0.90

                                                // Cycle bound:     84.0
                                                // IPC bound:       0.90

                                                // Wall time:     3.55s
                                                // User time:     3.55s

                                                // -------------------------------- cycle (expected) --------------------------------->
                                                // 0                        25                       50                       75
                                                // |------------------------|------------------------|------------------------|--------
        str q27, [x0, #352]                     // l...................................................................................
        add v21.4S, v29.4S, v14.4S              // .l..................................................................................
        sub v29.4S, v28.4S, v23.4S              // ..*.................................................................................
        ldr q18, [x0, #256]                     // ...e................................................................................
        ldr q28, [x0, #768]                     // .....e..............................................................................
        ldr q27, [x0, #512]                     // .......e............................................................................
        sqrdmulh v8.4S, v28.4S, v0.S[1]         // .........e..........................................................................
        mul v23.4S, v28.4S, v0.S[0]             // ..........e.........................................................................
        mul v26.4S, v27.4S, v0.S[0]             // ...........e........................................................................
        sqrdmulh v22.4S, v27.4S, v0.S[1]        // ............e.......................................................................
        mul v14.4S, v4.4S, v3.S[0]              // .............*......................................................................
        mls v23.4S, v8.4S, v7.S[0]              // ..............e.....................................................................
        ldr q27, [x0, #896]                     // ...............e....................................................................
        mls v26.4S, v22.4S, v7.S[0]             // .................e..................................................................
        add v19.4S, v18.4S, v23.4S              // ..................e.................................................................
        sub v12.4S, v18.4S, v23.4S              // ...................e................................................................
        sqrdmulh v30.4S, v27.4S, v0.S[1]        // ....................e...............................................................
        mul v8.4S, v27.4S, v0.S[0]              // .....................e..............................................................
        ldr q11, [x0, #640]                     // ......................e.............................................................
        ldr q31, [x0, #384]                     // ........................e...........................................................
        mls v14.4S, v10.4S, v7.S[0]             // ..........................*.........................................................
        mls v8.4S, v30.4S, v7.S[0]              // ...........................e........................................................
        mul v18.4S, v11.4S, v0.S[0]             // ............................e.......................................................
        sqrdmulh v25.4S, v11.4S, v0.S[1]        // .............................e......................................................
        ldr q22, [x0, #128]                     // ..............................e.....................................................
        sub v24.4S, v31.4S, v8.4S               // ................................e...................................................
        mls v18.4S, v25.4S, v7.S[0]             // .................................e..................................................
        ldr q4, [x0, #0]                        // ..................................e.................................................
        sqrdmulh v10.4S, v19.4S, v0.S[3]        // ....................................e...............................................
        mul v11.4S, v19.4S, v0.S[2]             // .....................................e..............................................
        add v9.4S, v4.4S, v26.4S                // ......................................e.............................................
        sub v28.4S, v4.4S, v26.4S               // .......................................e............................................
        sqrdmulh v16.4S, v12.4S, v1.S[1]        // ........................................e...........................................
        mul v23.4S, v12.4S, v1.S[0]             // .........................................e..........................................
        sqrdmulh v27.4S, v24.4S, v1.S[1]        // ..........................................e.........................................
        add v4.4S, v31.4S, v8.4S                // ...........................................e........................................
        mul v8.4S, v24.4S, v1.S[0]              // ............................................e.......................................
        sub v12.4S, v22.4S, v18.4S              // .............................................e......................................
        mls v23.4S, v16.4S, v7.S[0]             // ..............................................e.....................................
        str q21, [x0, #736]                     // ...............................................l....................................
        mul v26.4S, v17.4S, v2.S[0]             // ................................................*...................................
        sqrdmulh v17.4S, v4.4S, v0.S[3]         // .................................................e..................................
        mul v16.4S, v4.4S, v0.S[2]              // ..................................................e.................................
        mls v8.4S, v27.4S, v7.S[0]              // ...................................................e................................
        mls v26.4S, v6.4S, v7.S[0]              // ....................................................*...............................
        add v24.4S, v22.4S, v18.4S              // .....................................................e..............................
        mls v16.4S, v17.4S, v7.S[0]             // ......................................................e.............................
        mls v11.4S, v10.4S, v7.S[0]             // .......................................................e............................
        sub v27.4S, v20.4S, v26.4S              // ........................................................*...........................
        sub v4.4S, v12.4S, v8.4S                // .........................................................e..........................
        sub v17.4S, v24.4S, v16.4S              // ..........................................................e.........................
        sub v30.4S, v29.4S, v14.4S              // ...........................................................*........................
        sqrdmulh v10.4S, v4.4S, v3.S[1]         // ............................................................e.......................
        add v22.4S, v20.4S, v26.4S              // .............................................................*......................
        sqrdmulh v6.4S, v17.4S, v2.S[1]         // ..............................................................e.....................
        add v26.4S, v28.4S, v23.4S              // ...............................................................e....................
        add v19.4S, v12.4S, v8.4S               // ................................................................e...................
        sub v20.4S, v9.4S, v11.4S               // .................................................................e..................
        str q15, [x0, #112]                     // ..................................................................*.................
        add v25.4S, v24.4S, v16.4S              // ...................................................................e................
        add v15.4S, v9.4S, v11.4S               // ....................................................................e...............
        mul v16.4S, v19.4S, v2.S[2]             // .....................................................................e..............
        mul v18.4S, v25.4S, v1.S[2]             // ......................................................................e.............
        sqrdmulh v31.4S, v25.4S, v1.S[3]        // .......................................................................e............
        str q5, [x0, #496]                      // ........................................................................*...........
        sqrdmulh v8.4S, v19.4S, v2.S[3]         // .........................................................................e..........
        str q22, [x0, #240]                     // ..........................................................................*.........
        mls v18.4S, v31.4S, v7.S[0]             // ...........................................................................e........
        str q13, [x0, #624]                     // ............................................................................*.......
        mls v16.4S, v8.4S, v7.S[0]              // .............................................................................e......
        str q30, [x0, #880]                     // ..............................................................................*.....
        add v5.4S, v15.4S, v18.4S               // ...............................................................................e....
        sub v15.4S, v15.4S, v18.4S              // ................................................................................e...
        sub v13.4S, v26.4S, v16.4S              // .................................................................................e..
        str q5, [x0], #(16)                     // ..................................................................................e.
        add v5.4S, v26.4S, v16.4S               // ...................................................................................e

                                                      // ------------------------------------------------------------------------------------------------- cycle (expected) ------------------------------------------------------------------------------------------------->
                                                      // 0                        25                       50                       75                       100                      125                      150                      175                      200
                                                      // |------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------
        // ldr q8, [x0, #0]                            // ...............................e.................................................'.................................~.................................................'.................................~.............
        // ldr q9, [x0, #(1*(1024/8))]                 // ...........................e.....................................................'.............................~.....................................................'.............................~.................
        // ldr q10, [x0, #(2*(1024/8))]                // e................................................................................'..~................................................................................'..~............................................
        // ldr q11, [x0, #(3*(1024/8))]                // .....................e...........................................................'.......................~...........................................................'.......................~.......................
        // ldr q12, [x0, #(4*(1024/8))]                // ....e............................................................................'......~............................................................................'......~........................................
        // ldr q13, [x0, #(5*(1024/8))]                // ...................e.............................................................'.....................~.............................................................'.....................~.........................
        // ldr q14, [x0, #(6*(1024/8))]                // ..e..............................................................................'....~..............................................................................'....~..........................................
        // ldr q15, [x0, #(7*(1024/8))]                // ............e....................................................................'..............~....................................................................'..............~................................
        // sqrdmulh v27.4s,      v12.4s, v0.s[1]       // .........e.......................................................................'...........~.......................................................................'...........~...................................
        // mul      v24.4s, v12.4s, v0.s[0]            // ........e........................................................................'..........~........................................................................'..........~....................................
        // mls      v24.4s, v27.4s,      v7.s[0]       // ..............e..................................................................'................~..................................................................'................~..............................
        // sub v12.4s, v8.4s, v24.4s                   // ....................................e............................................'......................................~............................................'......................................~........
        // add v8.4s, v8.4s, v24.4s                    // ...................................e.............................................'.....................................~.............................................'.....................................~.........
        // sqrdmulh v27.4s,      v13.4s, v0.s[1]       // ..........................e......................................................'............................~......................................................'............................~..................
        // mul      v24.4s, v13.4s, v0.s[0]            // .........................e.......................................................'...........................~.......................................................'...........................~...................
        // mls      v24.4s, v27.4s,      v7.s[0]       // ..............................e..................................................'................................~..................................................'................................~..............
        // sub v13.4s, v9.4s, v24.4s                   // ..........................................e......................................'............................................~......................................'............................................~..
        // add v9.4s, v9.4s, v24.4s                    // ..................................................e..............................'....................................................~..............................'...............................................
        // sqrdmulh v27.4s,      v14.4s, v0.s[1]       // ......e..........................................................................'........~..........................................................................'........~......................................
        // mul      v24.4s, v14.4s, v0.s[0]            // .......e.........................................................................'.........~.........................................................................'.........~.....................................
        // mls      v24.4s, v27.4s,      v7.s[0]       // ...........e.....................................................................'.............~.....................................................................'.............~.................................
        // sub v14.4s, v10.4s, v24.4s                  // ................e................................................................'..................~................................................................'..................~............................
        // add v10.4s, v10.4s, v24.4s                  // ...............e.................................................................'.................~.................................................................'.................~.............................
        // sqrdmulh v27.4s,      v15.4s, v0.s[1]       // .................e...............................................................'...................~...............................................................'...................~...........................
        // mul      v24.4s, v15.4s, v0.s[0]            // ..................e..............................................................'....................~..............................................................'....................~..........................
        // mls      v24.4s, v27.4s,      v7.s[0]       // ........................e........................................................'..........................~........................................................'..........................~....................
        // sub v15.4s, v11.4s, v24.4s                  // .............................e...................................................'...............................~...................................................'...............................~...............
        // add v11.4s, v11.4s, v24.4s                  // ........................................e........................................'..........................................~........................................'..........................................~....
        // sqrdmulh v27.4s,      v10.4s, v0.s[3]       // .................................e...............................................'...................................~...............................................'...................................~...........
        // mul      v24.4s, v10.4s, v0.s[2]            // ..................................e..............................................'....................................~..............................................'....................................~..........
        // mls      v24.4s, v27.4s,      v7.s[0]       // ....................................................e............................'......................................................~............................'...............................................
        // sub v10.4s, v8.4s, v24.4s                   // ..............................................................e..................'................................................................~..................'...............................................
        // add v8.4s, v8.4s, v24.4s                    // .................................................................e...............'...................................................................~...............'...............................................
        // sqrdmulh v27.4s,      v11.4s, v0.s[3]       // ..............................................e..................................'................................................~..................................'...............................................
        // mul      v24.4s, v11.4s, v0.s[2]            // ...............................................e.................................'.................................................~.................................'...............................................
        // mls      v24.4s, v27.4s,      v7.s[0]       // ...................................................e.............................'.....................................................~.............................'...............................................
        // sub v11.4s, v9.4s, v24.4s                   // .......................................................e.........................'.........................................................~.........................'...............................................
        // add v9.4s, v9.4s, v24.4s                    // ................................................................e................'..................................................................~................'...............................................
        // sqrdmulh v27.4s,      v14.4s, v1.s[1]       // .....................................e...........................................'.......................................~...........................................'.......................................~.......
        // mul      v24.4s, v14.4s, v1.s[0]            // ......................................e..........................................'........................................~..........................................'........................................~......
        // mls      v24.4s, v27.4s,      v7.s[0]       // ...........................................e.....................................'.............................................~.....................................'.............................................~.
        // sub v14.4s, v12.4s, v24.4s                  // .................................................................................'.*.................................................................................'.~.............................................
        // add v12.4s, v12.4s, v24.4s                  // ............................................................e....................'..............................................................~....................'...............................................
        // sqrdmulh v27.4s,      v15.4s, v1.s[1]       // .......................................e.........................................'.........................................~.........................................'.........................................~.....
        // mul      v24.4s, v15.4s, v1.s[0]            // .........................................e.......................................'...........................................~.......................................'...........................................~...
        // mls      v24.4s, v27.4s,      v7.s[0]       // ................................................e................................'..................................................~................................'...............................................
        // sub v15.4s, v13.4s, v24.4s                  // ......................................................e..........................'........................................................~..........................'...............................................
        // add v13.4s, v13.4s, v24.4s                  // .............................................................e...................'...............................................................~...................'...............................................
        // sqrdmulh v27.4s,      v9.4s, v1.s[3]        // ....................................................................e............'......................................................................~............'...............................................
        // mul      v24.4s, v9.4s, v1.s[2]             // ...................................................................e.............'.....................................................................~.............'...............................................
        // mls      v24.4s, v27.4s,      v7.s[0]       // ........................................................................e........'..........................................................................~........'...............................................
        // sub v9.4s, v8.4s, v24.4s                    // .............................................................................e...'...............................................................................~...'...............................................
        // add v8.4s, v8.4s, v24.4s                    // ............................................................................e....'..............................................................................~....'...............................................
        // sqrdmulh v27.4s,      v11.4s, v2.s[1]       // ...........................................................e.....................'.............................................................~.....................'...............................................
        // mul      v24.4s, v11.4s, v2.s[0]            // .............................................~...................................'...............................................*...................................'...............................................
        // mls      v24.4s, v27.4s,      v7.s[0]       // .................................................~...............................'...................................................*...............................'...............................................
        // sub v11.4s, v10.4s, v24.4s                  // .....................................................~...........................'.......................................................*...........................'...............................................
        // add v10.4s, v10.4s, v24.4s                  // ..........................................................~......................'............................................................*......................'...............................................
        // sqrdmulh v27.4s,      v13.4s, v2.s[3]       // ......................................................................e..........'........................................................................~..........'...............................................
        // mul      v24.4s, v13.4s, v2.s[2]            // ..................................................................e..............'....................................................................~..............'...............................................
        // mls      v24.4s, v27.4s,      v7.s[0]       // ..........................................................................e......'............................................................................~......'...............................................
        // sub v13.4s, v12.4s, v24.4s                  // ..............................................................................e..'................................................................................~..'...............................................
        // add v12.4s, v12.4s, v24.4s                  // ................................................................................e'..................................................................................~'...............................................
        // sqrdmulh v27.4s,      v15.4s, v3.s[1]       // .........................................................e.......................'...........................................................~.......................'...............................................
        // mul      v24.4s, v15.4s, v3.s[0]            // ..........~......................................................................'............*......................................................................'............~..................................
        // mls      v24.4s, v27.4s,      v7.s[0]       // .......................~.........................................................'.........................*.........................................................'.........................~.....................
        // sub v15.4s, v14.4s, v24.4s                  // ........................................................~........................'..........................................................*........................'...............................................
        // add v14.4s, v14.4s, v24.4s                  // .................................................................................'~..................................................................................'l..............................................
        // str q8, [x0], #(16)                         // ...............................................................................e.'.................................................................................~.'...............................................
        // str q9, [x0, #(-16 + 1*(1024/8))]           // ...............................................................~.................'.................................................................*.................'...............................................
        // str q10, [x0, #(-16 + 2*(1024/8))]          // .......................................................................~.........'.........................................................................*.........'...............................................
        // str q11, [x0, #(-16 + 3*(1024/8))]          // .................................................................................~...................................................................................l...............................................
        // str q12, [x0, #(-16 + 4*(1024/8))]          // .....................................................................~...........'.......................................................................*...........'...............................................
        // str q13, [x0, #(-16 + 5*(1024/8))]          // .........................................................................~.......'...........................................................................*.......'...............................................
        // str q14, [x0, #(-16 + 6*(1024/8))]          // ............................................~....................................'..............................................~....................................'..............................................l
        // str q15, [x0, #(-16 + 7*(1024/8))]          // ...........................................................................~.....'.............................................................................*.....'...............................................

        subs count, count, 1
        cbnz count, ntt_layer123_start
                                          // Instructions:    19
                                          // Expected cycles: 20
                                          // Expected IPC:    0.95

                                          // Cycle bound:     20.0
                                          // IPC bound:       0.95

                                          // Wall time:     0.07s
                                          // User time:     0.07s

                                          // ----- cycle (expected) ------>
                                          // 0                        25
                                          // |------------------------|----
        mul v8.4S, v17.4S, v2.S[0]        // *.............................
        str q13, [x0, #624]               // .*............................
        mul v4.4S, v4.4S, v3.S[0]         // ..*...........................
        str q5, [x0, #496]                // ...*..........................
        mls v8.4S, v6.4S, v7.S[0]         // ....*.........................
        str q27, [x0, #352]               // .....*........................
        sub v13.4S, v28.4S, v23.4S        // ......*.......................
        str q15, [x0, #112]               // .......*......................
        add v18.4S, v29.4S, v14.4S        // ........*.....................
        mls v4.4S, v10.4S, v7.S[0]        // .........*....................
        add v5.4S, v20.4S, v8.4S          // ..........*...................
        str q18, [x0, #736]               // ...........*..................
        sub v8.4S, v20.4S, v8.4S          // ............*.................
        str q5, [x0, #240]                // .............*................
        sub v17.4S, v13.4S, v4.4S         // ..............*...............
        str q8, [x0, #368]                // ...............*..............
        add v18.4S, v13.4S, v4.4S         // ................*.............
        str q17, [x0, #880]               // .................*............
        str q18, [x0, #752]               // ...................*..........

                                            // ------ cycle (expected) ------>
                                            // 0                        25
                                            // |------------------------|-----
        // str q27, [x0, #352]               // .....*.........................
        // add v21.4S, v29.4S, v14.4S        // ........*......................
        // sub v29.4S, v28.4S, v23.4S        // ......*........................
        // mul v14.4S, v4.4S, v3.S[0]        // ..*............................
        // mls v14.4S, v10.4S, v7.S[0]       // .........*.....................
        // str q21, [x0, #736]               // ...........*...................
        // mul v26.4S, v17.4S, v2.S[0]       // *..............................
        // mls v26.4S, v6.4S, v7.S[0]        // ....*..........................
        // sub v27.4S, v20.4S, v26.4S        // ............*..................
        // sub v30.4S, v29.4S, v14.4S        // ..............*................
        // add v22.4S, v20.4S, v26.4S        // ..........*....................
        // str q15, [x0, #112]               // .......*.......................
        // str q5, [x0, #496]                // ...*...........................
        // str q22, [x0, #240]               // .............*.................
        // str q13, [x0, #624]               // .*.............................
        // str q30, [x0, #880]               // .................*.............
        // str q27, [x0, #368]               // ...............*...............
        // add v21.4S, v29.4S, v14.4S        // ................*..............
        // str q21, [x0, #752]               // ...................*...........


        mov in, inp
        mov count, #8

        .p2align 2
        ldr q4, [x0, #112]                       // *............................................................................................................................................................................................
        ldr q26, [x1], #(4*16)                   // ..*..........................................................................................................................................................................................
        ldr q21, [x0, #96]                       // ....*........................................................................................................................................................................................
        mul v13.4S, v4.4S, v26.S[0]              // ......*......................................................................................................................................................................................
        sqrdmulh v31.4S, v4.4S, v26.S[1]         // .......*.....................................................................................................................................................................................
        mul v2.4S, v21.4S, v26.S[0]              // ........*....................................................................................................................................................................................
        sqrdmulh v24.4S, v21.4S, v26.S[1]        // .........*...................................................................................................................................................................................
        ldr q1, [x0, #48]                        // ..........*..................................................................................................................................................................................
        mls v13.4S, v31.4S, v7.S[0]              // ............*................................................................................................................................................................................
        mls v2.4S, v24.4S, v7.S[0]               // .............*...............................................................................................................................................................................
        ldr q12, [x0, #32]                       // ..............*..............................................................................................................................................................................
        ldr q21, [x0, #80]                       // ................*............................................................................................................................................................................
        ldr q23, [x0, #64]                       // ..................*..........................................................................................................................................................................
        add v15.4S, v1.4S, v13.4S                // ....................*........................................................................................................................................................................
        add v5.4S, v12.4S, v2.4S                 // .....................*.......................................................................................................................................................................
        sqrdmulh v28.4S, v23.4S, v26.S[1]        // ......................*......................................................................................................................................................................
        mul v16.4S, v15.4S, v26.S[2]             // .......................*.....................................................................................................................................................................
        sqrdmulh v6.4S, v5.4S, v26.S[3]          // ........................*....................................................................................................................................................................
        mul v3.4S, v5.4S, v26.S[2]               // .........................*...................................................................................................................................................................
        sqrdmulh v31.4S, v15.4S, v26.S[3]        // ..........................*..................................................................................................................................................................
        mul v29.4S, v21.4S, v26.S[0]             // ...........................*.................................................................................................................................................................
        sqrdmulh v14.4S, v21.4S, v26.S[1]        // ............................*................................................................................................................................................................
        mul v23.4S, v23.4S, v26.S[0]             // .............................*...............................................................................................................................................................
        sub v24.4S, v1.4S, v13.4S                // ..............................*..............................................................................................................................................................
        sub v13.4S, v12.4S, v2.4S                // ...............................*.............................................................................................................................................................
        mls v29.4S, v14.4S, v7.S[0]              // ................................*............................................................................................................................................................
        ldr q9, [x0, #16]                        // .................................*...........................................................................................................................................................
        ldr q18, [x1, #-48]                      // ...................................*.........................................................................................................................................................
        mls v23.4S, v28.4S, v7.S[0]              // .....................................*.......................................................................................................................................................
        ldr q15, [x0, #0]                        // ......................................*......................................................................................................................................................
        mls v16.4S, v31.4S, v7.S[0]              // ........................................*....................................................................................................................................................
        ldr q31, [x1, #-32]                      // .........................................*...................................................................................................................................................
        add v11.4S, v9.4S, v29.4S                // ...........................................*.................................................................................................................................................
        sqrdmulh v22.4S, v24.4S, v18.S[1]        // ............................................*................................................................................................................................................
        mul v4.4S, v24.4S, v18.S[0]              // .............................................*...............................................................................................................................................
        add v1.4S, v11.4S, v16.4S                // ..............................................*..............................................................................................................................................
        sub v2.4S, v11.4S, v16.4S                // ...............................................*.............................................................................................................................................
        mls v3.4S, v6.4S, v7.S[0]                // ................................................*............................................................................................................................................
        mls v4.4S, v22.4S, v7.S[0]               // .................................................*...........................................................................................................................................
        sub v17.4S, v9.4S, v29.4S                // ..................................................*..........................................................................................................................................
        mul v20.4S, v1.4S, v18.S[2]              // ...................................................*.........................................................................................................................................
        sqrdmulh v6.4S, v1.4S, v18.S[3]          // ....................................................*........................................................................................................................................
        mul v22.4S, v2.4S, v31.S[0]              // .....................................................*.......................................................................................................................................
        sqrdmulh v30.4S, v2.4S, v31.S[1]         // ......................................................*......................................................................................................................................
        add v0.4S, v15.4S, v23.4S                // .......................................................*.....................................................................................................................................
        mul v16.4S, v13.4S, v18.S[0]             // ........................................................*....................................................................................................................................
        sqrdmulh v13.4S, v13.4S, v18.S[1]        // .........................................................*...................................................................................................................................
        ldr q24, [x1, #-16]                      // ..........................................................*..................................................................................................................................
        sub v10.4S, v17.4S, v4.4S                // ............................................................*................................................................................................................................
        add v18.4S, v17.4S, v4.4S                // .............................................................*...............................................................................................................................
        mls v22.4S, v30.4S, v7.S[0]              // ..............................................................*..............................................................................................................................
        mls v20.4S, v6.4S, v7.S[0]               // ...............................................................*.............................................................................................................................
        sub v30.4S, v0.4S, v3.4S                 // ................................................................*............................................................................................................................
        add v26.4S, v0.4S, v3.4S                 // .................................................................*...........................................................................................................................
        mls v16.4S, v13.4S, v7.S[0]              // ..................................................................*..........................................................................................................................
        add v12.4S, v30.4S, v22.4S               // ...................................................................*.........................................................................................................................
        sub v5.4S, v30.4S, v22.4S                // ....................................................................*........................................................................................................................
        mul v8.4S, v18.4S, v31.S[2]              // .....................................................................*.......................................................................................................................
        sqrdmulh v22.4S, v18.4S, v31.S[3]        // ......................................................................*......................................................................................................................
        sqrdmulh v28.4S, v10.4S, v24.S[1]        // .......................................................................*.....................................................................................................................
        mul v24.4S, v10.4S, v24.S[0]             // ........................................................................*....................................................................................................................
        sub v31.4S, v15.4S, v23.4S               // .........................................................................*...................................................................................................................
        add v29.4S, v26.4S, v20.4S               // ..........................................................................*..................................................................................................................
        sub v4.4S, v26.4S, v20.4S                // ...........................................................................*.................................................................................................................
        add v23.4S, v31.4S, v16.4S               // ............................................................................*................................................................................................................
        sub v15.4S, v31.4S, v16.4S               // .............................................................................*...............................................................................................................
        trn1 v13.4S, v12.4S, v5.4S               // ..............................................................................*..............................................................................................................
        trn2 v1.4S, v12.4S, v5.4S                // ...............................................................................*.............................................................................................................
        mls v8.4S, v22.4S, v7.S[0]               // ................................................................................*............................................................................................................
        mls v24.4S, v28.4S, v7.S[0]              // .................................................................................*...........................................................................................................
        trn1 v5.4S, v29.4S, v4.4S                // ..................................................................................*..........................................................................................................
        trn2 v6.4S, v29.4S, v4.4S                // ...................................................................................*.........................................................................................................
        add v25.4S, v23.4S, v8.4S                // ....................................................................................*........................................................................................................
        sub v19.4S, v23.4S, v8.4S                // .....................................................................................*.......................................................................................................
        add v20.4S, v15.4S, v24.4S               // ......................................................................................*......................................................................................................
        sub v4.4S, v15.4S, v24.4S                // .......................................................................................*.....................................................................................................
        trn2 v10.4S, v25.4S, v19.4S              // ........................................................................................*....................................................................................................
        trn1 v29.2D, v5.2D, v13.2D               // .........................................................................................*...................................................................................................
        trn2 v22.2D, v5.2D, v13.2D               // ..........................................................................................*..................................................................................................
        trn1 v17.2D, v6.2D, v1.2D                // ...........................................................................................*.................................................................................................
        trn2 v23.2D, v6.2D, v1.2D                // ............................................................................................*................................................................................................
        trn2 v24.4S, v20.4S, v4.4S               // .............................................................................................*...............................................................................................
        sub count, count, #1
ntt_layer45678_start:
                                                 // Instructions:    164
                                                 // Expected cycles: 188
                                                 // Expected IPC:    0.87

                                                 // ------------------------------------------------------------------------------------ cycle (expected) ------------------------------------------------------------------------------------->
                                                 // 0                        25                       50                       75                       100                      125                      150                      175
                                                 // |------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------
        trn1 v26.4S, v20.4S, v4.4S               // *...........................................................................................................................................................................................
        trn1 v13.2D, v10.2D, v24.2D              // .*..........................................................................................................................................................................................
        trn2 v8.2D, v10.2D, v24.2D               // ..*.........................................................................................................................................................................................
        trn1 v1.4S, v25.4S, v19.4S               // ...*........................................................................................................................................................................................
        ldr q21, [x2], #(12*16)                  // ....*.......................................................................................................................................................................................
        ldr q18, [x2, #-176]                     // ......*.....................................................................................................................................................................................
        mul v24.4S, v22.4S, v21.4S               // ........*...................................................................................................................................................................................
        mul v20.4S, v23.4S, v21.4S               // .........*..................................................................................................................................................................................
        sqrdmulh v0.4S, v23.4S, v18.4S           // ..........*.................................................................................................................................................................................
        sqrdmulh v27.4S, v22.4S, v18.4S          // ...........*................................................................................................................................................................................
        trn2 v10.2D, v1.2D, v26.2D               // ............*...............................................................................................................................................................................
        trn1 v19.2D, v1.2D, v26.2D               // .............*..............................................................................................................................................................................
        mls v20.4S, v0.4S, v7.S[0]               // ..............*.............................................................................................................................................................................
        mls v24.4S, v27.4S, v7.S[0]              // ...............*............................................................................................................................................................................
        ldr q4, [x2, #-96]                       // ................*...........................................................................................................................................................................
        sub v18.4S, v17.4S, v20.4S               // ..................*.........................................................................................................................................................................
        add v0.4S, v17.4S, v20.4S                // ...................*........................................................................................................................................................................
        add v14.4S, v29.4S, v24.4S               // ....................*.......................................................................................................................................................................
        sub v17.4S, v29.4S, v24.4S               // .....................*......................................................................................................................................................................
        ldr q2, [x2, #-80]                       // ......................*.....................................................................................................................................................................
        mul v31.4S, v8.4S, v4.4S                 // ........................*...................................................................................................................................................................
        mul v1.4S, v10.4S, v4.4S                 // .........................*..................................................................................................................................................................
        sqrdmulh v4.4S, v8.4S, v2.4S             // ..........................*.................................................................................................................................................................
        sqrdmulh v22.4S, v10.4S, v2.4S           // ...........................*................................................................................................................................................................
        ldr q3, [x1], #(4*16)                    // ............................*...............................................................................................................................................................
        mls v31.4S, v4.4S, v7.S[0]               // ..............................*.............................................................................................................................................................
        mls v1.4S, v22.4S, v7.S[0]               // ...............................*............................................................................................................................................................
        ldr q16, [x0, #240]                      // ................................*...........................................................................................................................................................
        sub v9.4S, v13.4S, v31.4S                // ..................................*.........................................................................................................................................................
        add v30.4S, v13.4S, v31.4S               // ...................................*........................................................................................................................................................
        sub v10.4S, v19.4S, v1.4S                // ....................................*.......................................................................................................................................................
        add v6.4S, v19.4S, v1.4S                 // .....................................*......................................................................................................................................................
        ldr q24, [x2, #-128]                     // ......................................*.....................................................................................................................................................
        ldr q13, [x2, #-112]                     // ........................................*...................................................................................................................................................
        mul v2.4S, v18.4S, v24.4S                // ..........................................*.................................................................................................................................................
        sqrdmulh v23.4S, v16.4S, v3.S[1]         // ...........................................*................................................................................................................................................
        sqrdmulh v12.4S, v18.4S, v13.4S          // ............................................*...............................................................................................................................................
        ldr q20, [x2, #-160]                     // .............................................*..............................................................................................................................................
        ldr q1, [x2, #-144]                      // ...............................................*............................................................................................................................................
        mls v2.4S, v12.4S, v7.S[0]               // .................................................*..........................................................................................................................................
        mul v15.4S, v0.4S, v20.4S                // ..................................................*.........................................................................................................................................
        sqrdmulh v31.4S, v0.4S, v1.4S            // ...................................................*........................................................................................................................................
        mul v25.4S, v16.4S, v3.S[0]              // ....................................................*.......................................................................................................................................
        add v0.4S, v17.4S, v2.4S                 // .....................................................*......................................................................................................................................
        sub v17.4S, v17.4S, v2.4S                // ......................................................*.....................................................................................................................................
        mls v15.4S, v31.4S, v7.S[0]              // .......................................................*....................................................................................................................................
        ldr q16, [x0, #224]                      // ........................................................*...................................................................................................................................
        mls v25.4S, v23.4S, v7.S[0]              // ..........................................................*.................................................................................................................................
        add v23.4S, v14.4S, v15.4S               // ...........................................................*................................................................................................................................
        sub v27.4S, v14.4S, v15.4S               // ............................................................*...............................................................................................................................
        mul v12.4S, v16.4S, v3.S[0]              // .............................................................*..............................................................................................................................
        sqrdmulh v15.4S, v16.4S, v3.S[1]         // ..............................................................*.............................................................................................................................
        ldr q29, [x0, #160]                      // ...............................................................*............................................................................................................................
        ldr q21, [x0, #176]                      // .................................................................*..........................................................................................................................
        mls v12.4S, v15.4S, v7.S[0]              // ...................................................................*........................................................................................................................
        trn1 v8.4S, v0.4S, v17.4S                // ....................................................................*.......................................................................................................................
        trn2 v16.4S, v0.4S, v17.4S               // .....................................................................*......................................................................................................................
        trn1 v24.4S, v23.4S, v27.4S              // ......................................................................*.....................................................................................................................
        trn2 v14.4S, v23.4S, v27.4S              // .......................................................................*....................................................................................................................
        sub v15.4S, v21.4S, v25.4S               // ........................................................................*...................................................................................................................
        add v25.4S, v21.4S, v25.4S               // .........................................................................*..................................................................................................................
        add v0.4S, v29.4S, v12.4S                // ..........................................................................*.................................................................................................................
        sub v4.4S, v29.4S, v12.4S                // ...........................................................................*................................................................................................................
        ldr q28, [x2, #-48]                      // ............................................................................*...............................................................................................................
        ldr q18, [x2, #-64]                      // ..............................................................................*.............................................................................................................
        sqrdmulh v31.4S, v30.4S, v28.4S          // ................................................................................*...........................................................................................................
        mul v21.4S, v25.4S, v3.S[2]              // .................................................................................*..........................................................................................................
        mul v27.4S, v30.4S, v18.4S               // ..................................................................................*.........................................................................................................
        sqrdmulh v2.4S, v25.4S, v3.S[3]          // ...................................................................................*........................................................................................................
        ldr q26, [x2, #-32]                      // ....................................................................................*.......................................................................................................
        mls v27.4S, v31.4S, v7.S[0]              // ......................................................................................*.....................................................................................................
        ldr q5, [x2, #-16]                       // .......................................................................................*....................................................................................................
        mul v12.4S, v9.4S, v26.4S                // .........................................................................................*..................................................................................................
        sub v29.4S, v6.4S, v27.4S                // ..........................................................................................*.................................................................................................
        add v27.4S, v6.4S, v27.4S                // ...........................................................................................*................................................................................................
        sqrdmulh v20.4S, v9.4S, v5.4S            // ............................................................................................*...............................................................................................
        mul v26.4S, v0.4S, v3.S[2]               // .............................................................................................*..............................................................................................
        sqrdmulh v23.4S, v0.4S, v3.S[3]          // ..............................................................................................*.............................................................................................
        ldr q18, [x0, #208]                      // ...............................................................................................*............................................................................................
        ldr q13, [x0, #192]                      // .................................................................................................*..........................................................................................
        mul v17.4S, v18.4S, v3.S[0]              // ...................................................................................................*........................................................................................
        sqrdmulh v19.4S, v18.4S, v3.S[1]         // ....................................................................................................*.......................................................................................
        sqrdmulh v6.4S, v13.4S, v3.S[1]          // .....................................................................................................*......................................................................................
        mul v18.4S, v13.4S, v3.S[0]              // ......................................................................................................*.....................................................................................
        mls v12.4S, v20.4S, v7.S[0]              // .......................................................................................................*....................................................................................
        trn1 v3.2D, v24.2D, v8.2D                // ........................................................................................................*...................................................................................
        trn2 v13.2D, v24.2D, v8.2D               // .........................................................................................................*..................................................................................
        trn2 v9.2D, v14.2D, v16.2D               // ..........................................................................................................*.................................................................................
        add v31.4S, v10.4S, v12.4S               // ...........................................................................................................*................................................................................
        sub v11.4S, v10.4S, v12.4S               // ............................................................................................................*...............................................................................
        trn1 v28.2D, v14.2D, v16.2D              // .............................................................................................................*..............................................................................
        ldr q20, [x1, #-48]                      // ..............................................................................................................*.............................................................................
        mls v21.4S, v2.4S, v7.S[0]               // ................................................................................................................*...........................................................................
        trn1 v25.4S, v27.4S, v29.4S              // .................................................................................................................*..........................................................................
        sqrdmulh v2.4S, v15.4S, v20.S[1]         // ..................................................................................................................*.........................................................................
        mul v14.4S, v15.4S, v20.S[0]             // ...................................................................................................................*........................................................................
        mul v8.4S, v4.4S, v20.S[0]               // ....................................................................................................................*.......................................................................
        sqrdmulh v0.4S, v4.4S, v20.S[1]          // .....................................................................................................................*......................................................................
        trn2 v15.4S, v27.4S, v29.4S              // ......................................................................................................................*.....................................................................
        mls v26.4S, v23.4S, v7.S[0]              // .......................................................................................................................*....................................................................
        mls v17.4S, v19.4S, v7.S[0]              // ........................................................................................................................*...................................................................
        ldr q30, [x0, #144]                      // .........................................................................................................................*..................................................................
        mls v18.4S, v6.4S, v7.S[0]               // ...........................................................................................................................*................................................................
        ldr q22, [x0, #128]                      // ............................................................................................................................*...............................................................
        add v29.4S, v30.4S, v17.4S               // ..............................................................................................................................*.............................................................
        ldr q10, [x1, #-32]                      // ...............................................................................................................................*............................................................
        add v1.4S, v29.4S, v21.4S                // .................................................................................................................................*..........................................................
        mls v14.4S, v2.4S, v7.S[0]               // ..................................................................................................................................*.........................................................
        sub v19.4S, v29.4S, v21.4S               // ...................................................................................................................................*........................................................
        sub v30.4S, v30.4S, v17.4S               // ....................................................................................................................................*.......................................................
        sqrdmulh v21.4S, v1.4S, v20.S[3]         // .....................................................................................................................................*......................................................
        add v6.4S, v22.4S, v18.4S                // ......................................................................................................................................*.....................................................
        mul v23.4S, v1.4S, v20.S[2]              // .......................................................................................................................................*....................................................
        sqrdmulh v20.4S, v19.4S, v10.S[1]        // ........................................................................................................................................*...................................................
        mul v24.4S, v19.4S, v10.S[0]             // .........................................................................................................................................*..................................................
        ldr q29, [x1, #-16]                      // ..........................................................................................................................................*.................................................
        str q3, [x0], #(16*8)                    // ............................................................................................................................................*...............................................
        sub v4.4S, v30.4S, v14.4S                // .............................................................................................................................................*..............................................
        str q13, [x0, #-96]                      // ..............................................................................................................................................*.............................................
        add v5.4S, v30.4S, v14.4S                // ...............................................................................................................................................*............................................
        str q9, [x0, #-80]                       // ................................................................................................................................................*...........................................
        mls v23.4S, v21.4S, v7.S[0]              // .................................................................................................................................................*..........................................
        trn2 v30.4S, v31.4S, v11.4S              // ..................................................................................................................................................*.........................................
        trn1 v19.4S, v31.4S, v11.4S              // ...................................................................................................................................................*........................................
        mls v24.4S, v20.4S, v7.S[0]              // ....................................................................................................................................................*.......................................
        sub v3.4S, v6.4S, v26.4S                 // .....................................................................................................................................................*......................................
        str q28, [x0, #-112]                     // ......................................................................................................................................................*.....................................
        add v2.4S, v6.4S, v26.4S                 // .......................................................................................................................................................*....................................
        mls v8.4S, v0.4S, v7.S[0]                // ........................................................................................................................................................*...................................
        sqrdmulh v1.4S, v4.4S, v29.S[1]          // .........................................................................................................................................................*..................................
        mul v29.4S, v4.4S, v29.S[0]              // ..........................................................................................................................................................*.................................
        sub v27.4S, v22.4S, v18.4S               // ...........................................................................................................................................................*................................
        sqrdmulh v26.4S, v5.4S, v10.S[3]         // ............................................................................................................................................................*...............................
        mul v9.4S, v5.4S, v10.S[2]               // .............................................................................................................................................................*..............................
        trn2 v31.2D, v25.2D, v19.2D              // ..............................................................................................................................................................*.............................
        trn1 v21.2D, v25.2D, v19.2D              // ...............................................................................................................................................................*............................
        add v18.4S, v2.4S, v23.4S                // ................................................................................................................................................................*...........................
        sub v6.4S, v2.4S, v23.4S                 // .................................................................................................................................................................*..........................
        add v0.4S, v3.4S, v24.4S                 // ..................................................................................................................................................................*.........................
        sub v24.4S, v3.4S, v24.4S                // ...................................................................................................................................................................*........................
        mls v29.4S, v1.4S, v7.S[0]               // ....................................................................................................................................................................*.......................
        mls v9.4S, v26.4S, v7.S[0]               // .....................................................................................................................................................................*......................
        sub v14.4S, v27.4S, v8.4S                // ......................................................................................................................................................................*.....................
        add v11.4S, v27.4S, v8.4S                // .......................................................................................................................................................................*....................
        trn2 v2.2D, v15.2D, v30.2D               // ........................................................................................................................................................................*...................
        trn1 v16.2D, v15.2D, v30.2D              // .........................................................................................................................................................................*..................
        trn1 v12.4S, v0.4S, v24.4S               // ..........................................................................................................................................................................*.................
        trn1 v28.4S, v18.4S, v6.4S               // ...........................................................................................................................................................................*................
        trn2 v8.4S, v0.4S, v24.4S                // ............................................................................................................................................................................*...............
        trn2 v13.4S, v18.4S, v6.4S               // .............................................................................................................................................................................*..............
        add v20.4S, v14.4S, v29.4S               // ..............................................................................................................................................................................*.............
        sub v19.4S, v11.4S, v9.4S                // ...............................................................................................................................................................................*............
        add v25.4S, v11.4S, v9.4S                // ................................................................................................................................................................................*...........
        sub v4.4S, v14.4S, v29.4S                // .................................................................................................................................................................................*..........
        trn2 v22.2D, v28.2D, v12.2D              // ..................................................................................................................................................................................*.........
        trn2 v10.4S, v25.4S, v19.4S              // ...................................................................................................................................................................................*........
        str q16, [x0, #-48]                      // ....................................................................................................................................................................................*.......
        trn2 v23.2D, v13.2D, v8.2D               // .....................................................................................................................................................................................*......
        str q21, [x0, #-64]                      // ......................................................................................................................................................................................*.....
        trn2 v24.4S, v20.4S, v4.4S               // .......................................................................................................................................................................................*....
        str q2, [x0, #-16]                       // ........................................................................................................................................................................................*...
        trn1 v29.2D, v28.2D, v12.2D              // .........................................................................................................................................................................................*..
        str q31, [x0, #-32]                      // ..........................................................................................................................................................................................*.
        trn1 v17.2D, v13.2D, v8.2D               // ...........................................................................................................................................................................................*

                                                  // ------------------------------------------------------------------------------------ cycle (expected) ------------------------------------------------------------------------------------->
                                                  // 0                        25                       50                       75                       100                      125                      150                      175
                                                  // |------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------
        // ldr q3, [x2, #96]                      // ................*...........................................................................................................................................................................
        // ldr q13, [x2, #16]                     // ......*.....................................................................................................................................................................................
        // ldr q8, [x2], #(12*16)                 // ....*.......................................................................................................................................................................................
        // ldr q27, [x2, #-80]                    // ......................*.....................................................................................................................................................................
        // trn1 v26.4S, v25.4S, v19.4S            // ...*........................................................................................................................................................................................
        // trn2 v16.2D, v10.2D, v24.2D            // ..*.........................................................................................................................................................................................
        // mul v15.4S, v23.4S, v8.4S              // .........*..................................................................................................................................................................................
        // trn1 v9.4S, v20.4S, v4.4S              // *...........................................................................................................................................................................................
        // mul v11.4S, v16.4S, v3.4S              // ........................*...................................................................................................................................................................
        // sqrdmulh v31.4S, v23.4S, v13.4S        // ..........*.................................................................................................................................................................................
        // sqrdmulh v21.4S, v16.4S, v27.4S        // ..........................*.................................................................................................................................................................
        // trn1 v28.2D, v10.2D, v24.2D            // .*..........................................................................................................................................................................................
        // trn2 v4.2D, v26.2D, v9.2D              // ............*...............................................................................................................................................................................
        // mul v20.4S, v22.4S, v8.4S              // ........*...................................................................................................................................................................................
        // sqrdmulh v13.4S, v22.4S, v13.4S        // ...........*................................................................................................................................................................................
        // mls v15.4S, v31.4S, v7.S[0]            // ..............*.............................................................................................................................................................................
        // mls v11.4S, v21.4S, v7.S[0]            // ..............................*.............................................................................................................................................................
        // sqrdmulh v24.4S, v4.4S, v27.4S         // ...........................*................................................................................................................................................................
        // mls v20.4S, v13.4S, v7.S[0]            // ...............*............................................................................................................................................................................
        // add v1.4S, v17.4S, v15.4S              // ...................*........................................................................................................................................................................
        // sub v21.4S, v17.4S, v15.4S             // ..................*.........................................................................................................................................................................
        // mul v10.4S, v4.4S, v3.4S               // .........................*..................................................................................................................................................................
        // add v6.4S, v29.4S, v20.4S              // ....................*.......................................................................................................................................................................
        // sub v19.4S, v29.4S, v20.4S             // .....................*......................................................................................................................................................................
        // add v0.4S, v28.4S, v11.4S              // ...................................*........................................................................................................................................................
        // sub v8.4S, v28.4S, v11.4S              // ..................................*.........................................................................................................................................................
        // ldr q4, [x2, #-160]                    // .............................................*..............................................................................................................................................
        // ldr q16, [x2, #-16]                    // .......................................................................................*....................................................................................................
        // ldr q12, [x2, #-64]                    // ..............................................................................*.............................................................................................................
        // ldr q3, [x2, #-144]                    // ...............................................*............................................................................................................................................
        // ldr q11, [x2, #-128]                   // ......................................*.....................................................................................................................................................
        // ldr q28, [x2, #-112]                   // ........................................*...................................................................................................................................................
        // ldr q25, [x2, #-48]                    // ............................................................................*...............................................................................................................
        // trn1 v20.2D, v26.2D, v9.2D             // .............*..............................................................................................................................................................................
        // ldr q18, [x2, #-32]                    // ....................................................................................*.......................................................................................................
        // mls v10.4S, v24.4S, v7.S[0]            // ...............................*............................................................................................................................................................
        // mul v26.4S, v0.4S, v12.4S              // ..................................................................................*.........................................................................................................
        // sqrdmulh v30.4S, v0.4S, v25.4S         // ................................................................................*...........................................................................................................
        // sqrdmulh v14.4S, v1.4S, v3.4S          // ...................................................*........................................................................................................................................
        // mul v17.4S, v21.4S, v11.4S             // ..........................................*.................................................................................................................................................
        // sqrdmulh v3.4S, v21.4S, v28.4S         // ............................................*...............................................................................................................................................
        // mul v31.4S, v1.4S, v4.4S               // ..................................................*.........................................................................................................................................
        // mul v22.4S, v8.4S, v18.4S              // .........................................................................................*..................................................................................................
        // sqrdmulh v24.4S, v8.4S, v16.4S         // ............................................................................................*...............................................................................................
        // mls v26.4S, v30.4S, v7.S[0]            // ......................................................................................*.....................................................................................................
        // mls v31.4S, v14.4S, v7.S[0]            // .......................................................*....................................................................................................................................
        // mls v17.4S, v3.4S, v7.S[0]             // .................................................*..........................................................................................................................................
        // mls v22.4S, v24.4S, v7.S[0]            // .......................................................................................................*....................................................................................
        // sub v14.4S, v20.4S, v10.4S             // ....................................*.......................................................................................................................................................
        // add v23.4S, v20.4S, v10.4S             // .....................................*......................................................................................................................................................
        // add v18.4S, v6.4S, v31.4S              // ...........................................................*................................................................................................................................
        // sub v0.4S, v19.4S, v17.4S              // ......................................................*.....................................................................................................................................
        // add v29.4S, v19.4S, v17.4S             // .....................................................*......................................................................................................................................
        // add v5.4S, v14.4S, v22.4S              // ...........................................................................................................*................................................................................
        // sub v15.4S, v23.4S, v26.4S             // ..........................................................................................*.................................................................................................
        // sub v27.4S, v6.4S, v31.4S              // ............................................................*...............................................................................................................................
        // add v12.4S, v23.4S, v26.4S             // ...........................................................................................*................................................................................................
        // sub v1.4S, v14.4S, v22.4S              // ............................................................................................................*...............................................................................
        // trn1 v4.4S, v18.4S, v27.4S             // ......................................................................*.....................................................................................................................
        // trn1 v24.4S, v12.4S, v15.4S            // .................................................................................................................*..........................................................................
        // trn2 v8.4S, v12.4S, v15.4S             // ......................................................................................................................*.....................................................................
        // trn2 v28.4S, v5.4S, v1.4S              // ..................................................................................................................................................*.........................................
        // trn1 v25.4S, v5.4S, v1.4S              // ...................................................................................................................................................*........................................
        // trn2 v13.4S, v29.4S, v0.4S             // .....................................................................*......................................................................................................................
        // trn2 v2.4S, v18.4S, v27.4S             // .......................................................................*....................................................................................................................
        // trn1 v15.2D, v8.2D, v28.2D             // .........................................................................................................................................................................*..................
        // trn1 v26.2D, v24.2D, v25.2D            // ...............................................................................................................................................................*............................
        // str q15, [x0, #80]                     // ....................................................................................................................................................................................*.......
        // trn1 v10.2D, v2.2D, v13.2D             // .............................................................................................................*..............................................................................
        // trn1 v6.4S, v29.4S, v0.4S              // ....................................................................*.......................................................................................................................
        // str q10, [x0, #16]                     // ......................................................................................................................................................*.....................................
        // trn2 v27.2D, v24.2D, v25.2D            // ..............................................................................................................................................................*.............................
        // str q26, [x0, #64]                     // ......................................................................................................................................................................................*.....
        // trn2 v3.2D, v4.2D, v6.2D               // .........................................................................................................*..................................................................................
        // str q27, [x0, #96]                     // ..........................................................................................................................................................................................*.
        // trn2 v30.2D, v2.2D, v13.2D             // ..........................................................................................................*.................................................................................
        // str q3, [x0, #32]                      // ..............................................................................................................................................*.............................................
        // trn2 v12.2D, v8.2D, v28.2D             // ........................................................................................................................................................................*...................
        // str q30, [x0, #48]                     // ................................................................................................................................................*...........................................
        // trn1 v20.2D, v4.2D, v6.2D              // ........................................................................................................*...................................................................................
        // str q12, [x0, #112]                    // ........................................................................................................................................................................................*...
        // str q20, [x0], #(16*8)                 // ............................................................................................................................................*...............................................
        // ldr q4, [x0, #112]                     // ................................*...........................................................................................................................................................
        // ldr q26, [x1], #(4*16)                 // ............................*...............................................................................................................................................................
        // ldr q21, [x0, #96]                     // ........................................................*...................................................................................................................................
        // mul v13.4S, v4.4S, v26.S[0]            // ....................................................*.......................................................................................................................................
        // sqrdmulh v31.4S, v4.4S, v26.S[1]       // ...........................................*................................................................................................................................................
        // mul v2.4S, v21.4S, v26.S[0]            // .............................................................*..............................................................................................................................
        // sqrdmulh v24.4S, v21.4S, v26.S[1]      // ..............................................................*.............................................................................................................................
        // ldr q1, [x0, #48]                      // .................................................................*..........................................................................................................................
        // mls v13.4S, v31.4S, v7.S[0]            // ..........................................................*.................................................................................................................................
        // mls v2.4S, v24.4S, v7.S[0]             // ...................................................................*........................................................................................................................
        // ldr q12, [x0, #32]                     // ...............................................................*............................................................................................................................
        // ldr q21, [x0, #80]                     // ...............................................................................................*............................................................................................
        // ldr q23, [x0, #64]                     // .................................................................................................*..........................................................................................
        // add v15.4S, v1.4S, v13.4S              // .........................................................................*..................................................................................................................
        // add v5.4S, v12.4S, v2.4S               // ..........................................................................*.................................................................................................................
        // sqrdmulh v28.4S, v23.4S, v26.S[1]      // .....................................................................................................*......................................................................................
        // mul v16.4S, v15.4S, v26.S[2]           // .................................................................................*..........................................................................................................
        // sqrdmulh v6.4S, v5.4S, v26.S[3]        // ..............................................................................................*.............................................................................................
        // mul v3.4S, v5.4S, v26.S[2]             // .............................................................................................*..............................................................................................
        // sqrdmulh v31.4S, v15.4S, v26.S[3]      // ...................................................................................*........................................................................................................
        // mul v29.4S, v21.4S, v26.S[0]           // ...................................................................................................*........................................................................................
        // sqrdmulh v14.4S, v21.4S, v26.S[1]      // ....................................................................................................*.......................................................................................
        // mul v23.4S, v23.4S, v26.S[0]           // ......................................................................................................*.....................................................................................
        // sub v24.4S, v1.4S, v13.4S              // ........................................................................*...................................................................................................................
        // sub v13.4S, v12.4S, v2.4S              // ...........................................................................*................................................................................................................
        // mls v29.4S, v14.4S, v7.S[0]            // ........................................................................................................................*...................................................................
        // ldr q9, [x0, #16]                      // .........................................................................................................................*..................................................................
        // ldr q18, [x1, #-48]                    // ..............................................................................................................*.............................................................................
        // mls v23.4S, v28.4S, v7.S[0]            // ...........................................................................................................................*................................................................
        // ldr q15, [x0, #0]                      // ............................................................................................................................*...............................................................
        // mls v16.4S, v31.4S, v7.S[0]            // ................................................................................................................*...........................................................................
        // ldr q31, [x1, #-32]                    // ...............................................................................................................................*............................................................
        // add v11.4S, v9.4S, v29.4S              // ..............................................................................................................................*.............................................................
        // sqrdmulh v22.4S, v24.4S, v18.S[1]      // ..................................................................................................................*.........................................................................
        // mul v4.4S, v24.4S, v18.S[0]            // ...................................................................................................................*........................................................................
        // add v1.4S, v11.4S, v16.4S              // .................................................................................................................................*..........................................................
        // sub v2.4S, v11.4S, v16.4S              // ...................................................................................................................................*........................................................
        // mls v3.4S, v6.4S, v7.S[0]              // .......................................................................................................................*....................................................................
        // mls v4.4S, v22.4S, v7.S[0]             // ..................................................................................................................................*.........................................................
        // sub v17.4S, v9.4S, v29.4S              // ....................................................................................................................................*.......................................................
        // mul v20.4S, v1.4S, v18.S[2]            // .......................................................................................................................................*....................................................
        // sqrdmulh v6.4S, v1.4S, v18.S[3]        // .....................................................................................................................................*......................................................
        // mul v22.4S, v2.4S, v31.S[0]            // .........................................................................................................................................*..................................................
        // sqrdmulh v30.4S, v2.4S, v31.S[1]       // ........................................................................................................................................*...................................................
        // add v0.4S, v15.4S, v23.4S              // ......................................................................................................................................*.....................................................
        // mul v16.4S, v13.4S, v18.S[0]           // ....................................................................................................................*.......................................................................
        // sqrdmulh v13.4S, v13.4S, v18.S[1]      // .....................................................................................................................*......................................................................
        // ldr q24, [x1, #-16]                    // ..........................................................................................................................................*.................................................
        // sub v10.4S, v17.4S, v4.4S              // .............................................................................................................................................*..............................................
        // add v18.4S, v17.4S, v4.4S              // ...............................................................................................................................................*............................................
        // mls v22.4S, v30.4S, v7.S[0]            // ....................................................................................................................................................*.......................................
        // mls v20.4S, v6.4S, v7.S[0]             // .................................................................................................................................................*..........................................
        // sub v30.4S, v0.4S, v3.4S               // .....................................................................................................................................................*......................................
        // add v26.4S, v0.4S, v3.4S               // .......................................................................................................................................................*....................................
        // mls v16.4S, v13.4S, v7.S[0]            // ........................................................................................................................................................*...................................
        // add v12.4S, v30.4S, v22.4S             // ..................................................................................................................................................................*.........................
        // sub v5.4S, v30.4S, v22.4S              // ...................................................................................................................................................................*........................
        // mul v8.4S, v18.4S, v31.S[2]            // .............................................................................................................................................................*..............................
        // sqrdmulh v22.4S, v18.4S, v31.S[3]      // ............................................................................................................................................................*...............................
        // sqrdmulh v28.4S, v10.4S, v24.S[1]      // .........................................................................................................................................................*..................................
        // mul v24.4S, v10.4S, v24.S[0]           // ..........................................................................................................................................................*.................................
        // sub v31.4S, v15.4S, v23.4S             // ...........................................................................................................................................................*................................
        // add v29.4S, v26.4S, v20.4S             // ................................................................................................................................................................*...........................
        // sub v4.4S, v26.4S, v20.4S              // .................................................................................................................................................................*..........................
        // add v23.4S, v31.4S, v16.4S             // .......................................................................................................................................................................*....................
        // sub v15.4S, v31.4S, v16.4S             // ......................................................................................................................................................................*.....................
        // trn1 v13.4S, v12.4S, v5.4S             // ..........................................................................................................................................................................*.................
        // trn2 v1.4S, v12.4S, v5.4S              // ............................................................................................................................................................................*...............
        // mls v8.4S, v22.4S, v7.S[0]             // .....................................................................................................................................................................*......................
        // mls v24.4S, v28.4S, v7.S[0]            // ....................................................................................................................................................................*.......................
        // trn1 v5.4S, v29.4S, v4.4S              // ...........................................................................................................................................................................*................
        // trn2 v6.4S, v29.4S, v4.4S              // .............................................................................................................................................................................*..............
        // add v25.4S, v23.4S, v8.4S              // ................................................................................................................................................................................*...........
        // sub v19.4S, v23.4S, v8.4S              // ...............................................................................................................................................................................*............
        // add v20.4S, v15.4S, v24.4S             // ..............................................................................................................................................................................*.............
        // sub v4.4S, v15.4S, v24.4S              // .................................................................................................................................................................................*..........
        // trn2 v10.4S, v25.4S, v19.4S            // ...................................................................................................................................................................................*........
        // trn1 v29.2D, v5.2D, v13.2D             // .........................................................................................................................................................................................*..
        // trn2 v22.2D, v5.2D, v13.2D             // ..................................................................................................................................................................................*.........
        // trn1 v17.2D, v6.2D, v1.2D              // ...........................................................................................................................................................................................*
        // trn2 v23.2D, v6.2D, v1.2D              // .....................................................................................................................................................................................*......
        // trn2 v24.4S, v20.4S, v4.4S             // .......................................................................................................................................................................................*....

        subs count, count, 1
        cbnz count, ntt_layer45678_start
        ldr q3, [x2, #96]                        // ..............................................................................................*..............................................................................................
        ldr q13, [x2, #16]                       // ................................................................................................*............................................................................................
        ldr q8, [x2], #(12*16)                   // ..................................................................................................*..........................................................................................
        ldr q27, [x2, #-80]                      // ....................................................................................................*........................................................................................
        trn1 v26.4S, v25.4S, v19.4S              // ......................................................................................................*......................................................................................
        trn2 v16.2D, v10.2D, v24.2D              // .......................................................................................................*.....................................................................................
        mul v15.4S, v23.4S, v8.4S                // ........................................................................................................*....................................................................................
        trn1 v9.4S, v20.4S, v4.4S                // .........................................................................................................*...................................................................................
        mul v11.4S, v16.4S, v3.4S                // ..........................................................................................................*..................................................................................
        sqrdmulh v31.4S, v23.4S, v13.4S          // ...........................................................................................................*.................................................................................
        sqrdmulh v21.4S, v16.4S, v27.4S          // ............................................................................................................*................................................................................
        trn1 v28.2D, v10.2D, v24.2D              // .............................................................................................................*...............................................................................
        trn2 v4.2D, v26.2D, v9.2D                // ..............................................................................................................*..............................................................................
        mul v20.4S, v22.4S, v8.4S                // ...............................................................................................................*.............................................................................
        sqrdmulh v13.4S, v22.4S, v13.4S          // ................................................................................................................*............................................................................
        mls v15.4S, v31.4S, v7.S[0]              // .................................................................................................................*...........................................................................
        mls v11.4S, v21.4S, v7.S[0]              // ..................................................................................................................*..........................................................................
        sqrdmulh v24.4S, v4.4S, v27.4S           // ...................................................................................................................*.........................................................................
        mls v20.4S, v13.4S, v7.S[0]              // ....................................................................................................................*........................................................................
        add v1.4S, v17.4S, v15.4S                // .....................................................................................................................*.......................................................................
        sub v21.4S, v17.4S, v15.4S               // ......................................................................................................................*......................................................................
        mul v10.4S, v4.4S, v3.4S                 // .......................................................................................................................*.....................................................................
        add v6.4S, v29.4S, v20.4S                // ........................................................................................................................*....................................................................
        sub v19.4S, v29.4S, v20.4S               // .........................................................................................................................*...................................................................
        add v0.4S, v28.4S, v11.4S                // ..........................................................................................................................*..................................................................
        sub v8.4S, v28.4S, v11.4S                // ...........................................................................................................................*.................................................................
        ldr q4, [x2, #-160]                      // ............................................................................................................................*................................................................
        ldr q16, [x2, #-16]                      // ..............................................................................................................................*..............................................................
        ldr q12, [x2, #-64]                      // ................................................................................................................................*............................................................
        ldr q3, [x2, #-144]                      // ..................................................................................................................................*..........................................................
        ldr q11, [x2, #-128]                     // ....................................................................................................................................*........................................................
        ldr q28, [x2, #-112]                     // ......................................................................................................................................*......................................................
        ldr q25, [x2, #-48]                      // ........................................................................................................................................*....................................................
        trn1 v20.2D, v26.2D, v9.2D               // ..........................................................................................................................................*..................................................
        ldr q18, [x2, #-32]                      // ...........................................................................................................................................*.................................................
        mls v10.4S, v24.4S, v7.S[0]              // .............................................................................................................................................*...............................................
        mul v26.4S, v0.4S, v12.4S                // ..............................................................................................................................................*..............................................
        sqrdmulh v30.4S, v0.4S, v25.4S           // ...............................................................................................................................................*.............................................
        sqrdmulh v14.4S, v1.4S, v3.4S            // ................................................................................................................................................*............................................
        mul v17.4S, v21.4S, v11.4S               // .................................................................................................................................................*...........................................
        sqrdmulh v3.4S, v21.4S, v28.4S           // ..................................................................................................................................................*..........................................
        mul v31.4S, v1.4S, v4.4S                 // ...................................................................................................................................................*.........................................
        mul v22.4S, v8.4S, v18.4S                // ....................................................................................................................................................*........................................
        sqrdmulh v24.4S, v8.4S, v16.4S           // .....................................................................................................................................................*.......................................
        mls v26.4S, v30.4S, v7.S[0]              // ......................................................................................................................................................*......................................
        mls v31.4S, v14.4S, v7.S[0]              // .......................................................................................................................................................*.....................................
        mls v17.4S, v3.4S, v7.S[0]               // ........................................................................................................................................................*....................................
        mls v22.4S, v24.4S, v7.S[0]              // .........................................................................................................................................................*...................................
        sub v14.4S, v20.4S, v10.4S               // ..........................................................................................................................................................*..................................
        add v23.4S, v20.4S, v10.4S               // ...........................................................................................................................................................*.................................
        add v18.4S, v6.4S, v31.4S                // ............................................................................................................................................................*................................
        sub v0.4S, v19.4S, v17.4S                // .............................................................................................................................................................*...............................
        add v29.4S, v19.4S, v17.4S               // ..............................................................................................................................................................*..............................
        add v5.4S, v14.4S, v22.4S                // ...............................................................................................................................................................*.............................
        sub v15.4S, v23.4S, v26.4S               // ................................................................................................................................................................*............................
        sub v27.4S, v6.4S, v31.4S                // .................................................................................................................................................................*...........................
        add v12.4S, v23.4S, v26.4S               // ..................................................................................................................................................................*..........................
        sub v1.4S, v14.4S, v22.4S                // ...................................................................................................................................................................*.........................
        trn1 v4.4S, v18.4S, v27.4S               // ....................................................................................................................................................................*........................
        trn1 v24.4S, v12.4S, v15.4S              // .....................................................................................................................................................................*.......................
        trn2 v8.4S, v12.4S, v15.4S               // ......................................................................................................................................................................*......................
        trn2 v28.4S, v5.4S, v1.4S                // .......................................................................................................................................................................*.....................
        trn1 v25.4S, v5.4S, v1.4S                // ........................................................................................................................................................................*....................
        trn2 v13.4S, v29.4S, v0.4S               // .........................................................................................................................................................................*...................
        trn2 v2.4S, v18.4S, v27.4S               // ..........................................................................................................................................................................*..................
        trn1 v15.2D, v8.2D, v28.2D               // ...........................................................................................................................................................................*.................
        trn1 v26.2D, v24.2D, v25.2D              // ............................................................................................................................................................................*................
        str q15, [x0, #80]                       // .............................................................................................................................................................................*...............
        trn1 v10.2D, v2.2D, v13.2D               // ..............................................................................................................................................................................*..............
        trn1 v6.4S, v29.4S, v0.4S                // ...............................................................................................................................................................................*.............
        str q10, [x0, #16]                       // ................................................................................................................................................................................*............
        trn2 v27.2D, v24.2D, v25.2D              // .................................................................................................................................................................................*...........
        str q26, [x0, #64]                       // ..................................................................................................................................................................................*..........
        trn2 v3.2D, v4.2D, v6.2D                 // ...................................................................................................................................................................................*.........
        str q27, [x0, #96]                       // ....................................................................................................................................................................................*........
        trn2 v30.2D, v2.2D, v13.2D               // .....................................................................................................................................................................................*.......
        str q3, [x0, #32]                        // ......................................................................................................................................................................................*......
        trn2 v12.2D, v8.2D, v28.2D               // .......................................................................................................................................................................................*.....
        str q30, [x0, #48]                       // ........................................................................................................................................................................................*....
        trn1 v20.2D, v4.2D, v6.2D                // .........................................................................................................................................................................................*...
        str q12, [x0, #112]                      // ..........................................................................................................................................................................................*..
        str q20, [x0], #(16*8)                   // ............................................................................................................................................................................................*

        pop_stack
        ret

/* ***************** REGISTER DEALLOCATIONS ****************** */
    .unreq in
    .unreq r012345_ptr
    .unreq r67_ptr
    .unreq inp
    .unreq count
    .unreq wtmp
    .unreq data0
    .unreq data1
    .unreq data2
    .unreq data3
    .unreq data4
    .unreq data5
    .unreq data6
    .unreq data7
    .unreq q_data0
    .unreq q_data1
    .unreq q_data2
    .unreq q_data3
    .unreq q_data4
    .unreq q_data5
    .unreq q_data6
    .unreq q_data7
    .unreq root0
    .unreq root1
    .unreq root2
    .unreq root3
    .unreq root0_tw
    .unreq root1_tw
    .unreq root2_tw
    .unreq q_root0
    .unreq q_root1
    .unreq q_root2
    .unreq q_root3
    .unreq q_root0_tw
    .unreq q_root1_tw
    .unreq q_root2_tw
    .unreq consts
    .unreq tmp
    .unreq t0
    .unreq t1
    .unreq t2
    .unreq t3

/* simpasm: footer-start */
#endif /* MLD_ARITH_BACKEND_AARCH64 && !MLD_CONFIG_MULTILEVEL_NO_SHARED */
