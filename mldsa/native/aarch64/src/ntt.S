/* Copyright (c) 2022 Arm Limited
 * Copyright (c) 2022 Hanno Becker
 * Copyright (c) 2023 Amin Abdulrahman, Matthias Kannwischer
 * Copyright (c) The mldsa-native project authors
 * SPDX-License-Identifier: MIT
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

#include "../../../common.h"
#if defined(MLD_ARITH_BACKEND_AARCH64)

.macro mulmodq dst, src, const, idx0, idx1
        sqrdmulh t2.4s,      \src\().4s, \const\().s[\idx1\()]
        mul      \dst\().4s, \src\().4s, \const\().s[\idx0\()]
        mls      \dst\().4s, t2.4s,      consts.s[0]
.endm

.macro mulmod dst, src, const, const_twisted
        sqrdmulh t2.4s,   \src\().4s, \const_twisted\().4s
        mul      \dst\().4s, \src\().4s, \const\().4s
        mls      \dst\().4s, t2.4s,   consts.s[0]
.endm

.macro ct_butterfly a, b, root, idx0, idx1
        mulmodq  tmp, \b, \root, \idx0, \idx1
        sub     \b\().4s,    \a\().4s, tmp.4s
        add     \a\().4s,    \a\().4s, tmp.4s
.endm

.macro ct_butterfly_v a, b, root, root_twisted
        mulmod  tmp, \b, \root, \root_twisted
        sub    \b\().4s,    \a\().4s, tmp.4s
        add    \a\().4s,    \a\().4s, tmp.4s
.endm

.macro load_roots_123
        ldr q_root0, [r012345_ptr], #64
        ldr q_root1, [r012345_ptr, #(-64 + 16)]
        ldr q_root2, [r012345_ptr, #(-64 + 32)]
        ldr q_root3, [r012345_ptr, #(-64 + 48)]
.endm

.macro load_roots_456
        ldr q_root0, [r012345_ptr], #64
        ldr q_root1, [r012345_ptr, #(-64 + 16)]
        ldr q_root2, [r012345_ptr, #(-64 + 32)]
        ldr q_root3, [r012345_ptr, #(-64 + 48)]
.endm

.macro load_roots_78_part1
        ldr q_root0,    [r67_ptr], #(12*16)
        ldr q_root0_tw, [r67_ptr, #(-12*16 + 1*16)]
        ldr q_root1,    [r67_ptr, #(-12*16 + 2*16)]
        ldr q_root1_tw, [r67_ptr, #(-12*16 + 3*16)]
        ldr q_root2,    [r67_ptr, #(-12*16 + 4*16)]
        ldr q_root2_tw, [r67_ptr, #(-12*16 + 5*16)]
.endm

.macro load_roots_78_part2
        ldr q_root0,    [r67_ptr, #(-12*16 +  6*16)]
        ldr q_root0_tw, [r67_ptr, #(-12*16 +  7*16)]
        ldr q_root1,    [r67_ptr, #(-12*16 +  8*16)]
        ldr q_root1_tw, [r67_ptr, #(-12*16 +  9*16)]
        ldr q_root2,    [r67_ptr, #(-12*16 + 10*16)]
        ldr q_root2_tw, [r67_ptr, #(-12*16 + 11*16)]
.endm

.macro transpose4 data0, data1, data2, data3
        trn1 t0.4s, \data0\().4s, \data1\().4s
        trn2 t1.4s, \data0\().4s, \data1\().4s
        trn1 t2.4s, \data2\().4s, \data3\().4s
        trn2 t3.4s, \data2\().4s, \data3\().4s

        trn2 \data2\().2d, t0.2d, t2.2d
        trn2 \data3\().2d, t1.2d, t3.2d
        trn1 \data0\().2d, t0.2d, t2.2d
        trn1 \data1\().2d, t1.2d, t3.2d
.endm

.macro save_vregs
        sub sp, sp, #(16*4)
        stp  d8,  d9, [sp, #16*0]
        stp d10, d11, [sp, #16*1]
        stp d12, d13, [sp, #16*2]
        stp d14, d15, [sp, #16*3]
.endm

.macro restore_vregs
        ldp  d8,  d9, [sp, #16*0]
        ldp d10, d11, [sp, #16*1]
        ldp d12, d13, [sp, #16*2]
        ldp d14, d15, [sp, #16*3]
        add sp, sp, #(16*4)
.endm

.macro push_stack
        save_vregs
.endm

.macro pop_stack
        restore_vregs
.endm

        // Inputs
        in           .req x0 // Input/output buffer
        r012345_ptr  .req x1 // twiddles for layer 0,1,2,3,4,5
        r67_ptr      .req x2 // twiddles for layer 6,7

        count   .req x3
        inp     .req x4
        inpp    .req x5
        xtmp    .req x6
        wtmp    .req w6

        data0  .req v9
        data1  .req v10
        data2  .req v11
        data3  .req v12
        data4  .req v13
        data5  .req v14
        data6  .req v15
        data7  .req v16

        q_data0  .req q9
        q_data1  .req q10
        q_data2  .req q11
        q_data3  .req q12
        q_data4  .req q13
        q_data5  .req q14
        q_data6  .req q15
        q_data7  .req q16

        root0 .req v0
        root1 .req v1
        root2 .req v2
        root3 .req v3

        q_root0 .req q0
        q_root1 .req q1
        q_root2 .req q2
        q_root3 .req q3

        root0_tw .req v4
        root1_tw .req v5
        root2_tw .req v6
        root3_tw .req v7

        q_root0_tw .req q4
        q_root1_tw .req q5
        q_root2_tw .req q6
        q_root3_tw .req q7

        tmp .req v24
        t0  .req v25
        t1  .req v26
        t2  .req v27
        t3  .req v28
        consts .req v8
        q_consts .req q8

.text
.global MLD_ASM_NAMESPACE(ntt_asm)
.balign 4
MLD_ASM_FN_SYMBOL(ntt_asm)
        push_stack

        // load q = 8380417
        movz wtmp, #57345
        movk wtmp, #127, lsl #16
        dup consts.4s, wtmp

        mov inp, in
        mov count, #8

        load_roots_123

        .p2align 2
                                                // Instructions:    133
                                                // Expected cycles: 149
                                                // Expected IPC:    0.89
                                                //
                                                // Cycle bound:     149.0
                                                // IPC bound:       0.89
                                                //
                                                // Wall time:     1.34s
                                                // User time:     1.34s
                                                //
                                                // ----------------------------------------------------------------- cycle (expected) ----------------------------------------------------------------->
                                                // 0                        25                       50                       75                       100                      125
                                                // |------------------------|------------------------|------------------------|------------------------|------------------------|-----------------------
        ldr q21, [x0, #896]                     // *....................................................................................................................................................
        ldr q9, [x0, #640]                      // ..*..................................................................................................................................................
        mul v18.4S, v21.4S, v0.S[0]             // ....*................................................................................................................................................
        sqrdmulh v24.4S, v21.4S, v0.S[1]        // .....*...............................................................................................................................................
        sqrdmulh v6.4S, v9.4S, v0.S[1]          // ......*..............................................................................................................................................
        mul v20.4S, v9.4S, v0.S[0]              // .......*.............................................................................................................................................
        ldr q28, [x0, #768]                     // ........*............................................................................................................................................
        ldr q17, [x0, #384]                     // ..........*..........................................................................................................................................
        mls v20.4S, v6.4S, v8.S[0]              // ............*........................................................................................................................................
        mls v18.4S, v24.4S, v8.S[0]             // .............*.......................................................................................................................................
        ldr q6, [x0, #912]                      // ..............*......................................................................................................................................
        sqrdmulh v25.4S, v28.4S, v0.S[1]        // ................*....................................................................................................................................
        mul v26.4S, v28.4S, v0.S[0]             // .................*...................................................................................................................................
        sub v5.4S, v17.4S, v18.4S               // ..................*..................................................................................................................................
        add v12.4S, v17.4S, v18.4S              // ...................*.................................................................................................................................
        mul v13.4S, v6.4S, v0.S[0]              // ....................*................................................................................................................................
        ldr q22, [x0, #128]                     // .....................*...............................................................................................................................
        sqrdmulh v10.4S, v6.4S, v0.S[1]         // .......................*.............................................................................................................................
        mls v26.4S, v25.4S, v8.S[0]             // ........................*............................................................................................................................
        add v6.4S, v22.4S, v20.4S               // .........................*...........................................................................................................................
        sub v15.4S, v22.4S, v20.4S              // ..........................*..........................................................................................................................
        mls v13.4S, v10.4S, v8.S[0]             // ...........................*.........................................................................................................................
        ldr q28, [x0, #512]                     // ............................*........................................................................................................................
        ldr q25, [x0, #256]                     // ..............................*......................................................................................................................
        ldr q4, [x0, #656]                      // ................................*....................................................................................................................
        ldr q27, [x0, #784]                     // ..................................*..................................................................................................................
        mul v31.4S, v4.4S, v0.S[0]              // ....................................*................................................................................................................
        sqrdmulh v11.4S, v5.4S, v1.S[1]         // .....................................*...............................................................................................................
        mul v23.4S, v5.4S, v1.S[0]              // ......................................*..............................................................................................................
        sqrdmulh v20.4S, v12.4S, v0.S[3]        // .......................................*.............................................................................................................
        mul v29.4S, v12.4S, v0.S[2]             // ........................................*............................................................................................................
        ldr q14, [x0, #400]                     // .........................................*...........................................................................................................
        mul v16.4S, v28.4S, v0.S[0]             // ...........................................*.........................................................................................................
        sqrdmulh v10.4S, v28.4S, v0.S[1]        // ............................................*........................................................................................................
        sqrdmulh v28.4S, v4.4S, v0.S[1]         // .............................................*.......................................................................................................
        add v18.4S, v14.4S, v13.4S              // ..............................................*......................................................................................................
        sqrdmulh v9.4S, v27.4S, v0.S[1]         // ...............................................*.....................................................................................................
        mul v5.4S, v27.4S, v0.S[0]              // ................................................*....................................................................................................
        mls v31.4S, v28.4S, v8.S[0]             // .................................................*...................................................................................................
        mls v29.4S, v20.4S, v8.S[0]             // ..................................................*..................................................................................................
        sub v20.4S, v14.4S, v13.4S              // ...................................................*.................................................................................................
        mls v23.4S, v11.4S, v8.S[0]             // ....................................................*................................................................................................
        mls v16.4S, v10.4S, v8.S[0]             // .....................................................*...............................................................................................
        sub v19.4S, v6.4S, v29.4S               // ......................................................*..............................................................................................
        add v14.4S, v6.4S, v29.4S               // .......................................................*.............................................................................................
        sub v6.4S, v15.4S, v23.4S               // ........................................................*............................................................................................
        add v10.4S, v15.4S, v23.4S              // .........................................................*...........................................................................................
        sub v4.4S, v25.4S, v26.4S               // ..........................................................*..........................................................................................
        add v11.4S, v25.4S, v26.4S              // ...........................................................*.........................................................................................
        ldr q30, [x0, #0]                       // ............................................................*........................................................................................
        sqrdmulh v24.4S, v10.4S, v2.S[3]        // ..............................................................*......................................................................................
        mul v15.4S, v18.4S, v0.S[2]             // ...............................................................*.....................................................................................
        sqrdmulh v23.4S, v18.4S, v0.S[3]        // ................................................................*....................................................................................
        ldr q13, [x0, #144]                     // .................................................................*...................................................................................
        ldr q27, [x0, #528]                     // ...................................................................*.................................................................................
        mls v5.4S, v9.4S, v8.S[0]               // .....................................................................*...............................................................................
        ldr q12, [x0, #272]                     // ......................................................................*..............................................................................
        sqrdmulh v18.4S, v20.4S, v1.S[1]        // ........................................................................*............................................................................
        mul v7.4S, v20.4S, v1.S[0]              // .........................................................................*...........................................................................
        mls v15.4S, v23.4S, v8.S[0]             // ..........................................................................*..........................................................................
        mul v20.4S, v27.4S, v0.S[0]             // ...........................................................................*.........................................................................
        sqrdmulh v29.4S, v27.4S, v0.S[1]        // ............................................................................*........................................................................
        mul v22.4S, v11.4S, v0.S[2]             // .............................................................................*.......................................................................
        add v26.4S, v12.4S, v5.4S               // ..............................................................................*......................................................................
        sqrdmulh v11.4S, v11.4S, v0.S[3]        // ...............................................................................*.....................................................................
        add v28.4S, v13.4S, v31.4S              // ................................................................................*....................................................................
        mls v7.4S, v18.4S, v8.S[0]              // .................................................................................*...................................................................
        mul v18.4S, v4.4S, v1.S[0]              // ..................................................................................*..................................................................
        sub v12.4S, v12.4S, v5.4S               // ...................................................................................*.................................................................
        sub v9.4S, v13.4S, v31.4S               // ....................................................................................*................................................................
        sqrdmulh v5.4S, v4.4S, v1.S[1]          // .....................................................................................*...............................................................
        add v4.4S, v28.4S, v15.4S               // ......................................................................................*..............................................................
        mls v20.4S, v29.4S, v8.S[0]             // .......................................................................................*.............................................................
        sqrdmulh v17.4S, v26.4S, v0.S[3]        // ........................................................................................*............................................................
        sqrdmulh v21.4S, v14.4S, v1.S[3]        // .........................................................................................*...........................................................
        mul v31.4S, v14.4S, v1.S[2]             // ..........................................................................................*..........................................................
        mls v22.4S, v11.4S, v8.S[0]             // ...........................................................................................*.........................................................
        mul v13.4S, v26.4S, v0.S[2]             // ............................................................................................*........................................................
        ldr q27, [x0, #16]                      // .............................................................................................*.......................................................
        add v11.4S, v9.4S, v7.4S                // ...............................................................................................*.....................................................
        add v14.4S, v30.4S, v16.4S              // ................................................................................................*....................................................
        mls v18.4S, v5.4S, v8.S[0]              // .................................................................................................*...................................................
        mul v5.4S, v19.4S, v2.S[0]              // ..................................................................................................*..................................................
        sqrdmulh v26.4S, v12.4S, v1.S[1]        // ...................................................................................................*.................................................
        mul v10.4S, v10.4S, v2.S[2]             // ....................................................................................................*................................................
        mul v23.4S, v12.4S, v1.S[0]             // .....................................................................................................*...............................................
        sub v12.4S, v30.4S, v16.4S              // ......................................................................................................*..............................................
        sqrdmulh v30.4S, v4.4S, v1.S[3]         // .......................................................................................................*.............................................
        sqrdmulh v19.4S, v19.4S, v2.S[1]        // ........................................................................................................*............................................
        sqrdmulh v16.4S, v6.4S, v3.S[1]         // .........................................................................................................*...........................................
        mul v29.4S, v6.4S, v3.S[0]              // ..........................................................................................................*..........................................
        sqrdmulh v25.4S, v11.4S, v2.S[3]        // ...........................................................................................................*.........................................
        mul v4.4S, v4.4S, v1.S[2]               // ............................................................................................................*........................................
        mls v31.4S, v21.4S, v8.S[0]             // .............................................................................................................*.......................................
        mls v13.4S, v17.4S, v8.S[0]             // ..............................................................................................................*......................................
        mls v29.4S, v16.4S, v8.S[0]             // ...............................................................................................................*.....................................
        add v6.4S, v27.4S, v20.4S               // ................................................................................................................*....................................
        mul v11.4S, v11.4S, v2.S[2]             // .................................................................................................................*...................................
        add v17.4S, v14.4S, v22.4S              // ..................................................................................................................*..................................
        mls v10.4S, v24.4S, v8.S[0]             // ...................................................................................................................*.................................
        mls v23.4S, v26.4S, v8.S[0]             // ....................................................................................................................*................................
        add v26.4S, v12.4S, v18.4S              // .....................................................................................................................*...............................
        sub v24.4S, v27.4S, v20.4S              // ......................................................................................................................*..............................
        mls v5.4S, v19.4S, v8.S[0]              // .......................................................................................................................*.............................
        mls v4.4S, v30.4S, v8.S[0]              // ........................................................................................................................*............................
        add v21.4S, v26.4S, v10.4S              // .........................................................................................................................*...........................
        sub v16.4S, v12.4S, v18.4S              // ..........................................................................................................................*..........................
        sub v27.4S, v14.4S, v22.4S              // ...........................................................................................................................*.........................
        add v30.4S, v6.4S, v13.4S               // ............................................................................................................................*........................
        mls v11.4S, v25.4S, v8.S[0]             // .............................................................................................................................*.......................
        add v20.4S, v17.4S, v31.4S              // ..............................................................................................................................*......................
        add v25.4S, v24.4S, v23.4S              // ...............................................................................................................................*.....................
        add v19.4S, v30.4S, v4.4S               // ................................................................................................................................*....................
        sub v18.4S, v26.4S, v10.4S              // .................................................................................................................................*...................
        sub v14.4S, v28.4S, v15.4S              // ..................................................................................................................................*..................
        sub v22.4S, v9.4S, v7.4S                // ...................................................................................................................................*.................
        str q20, [x0], #16                      // ....................................................................................................................................*................
        sub v9.4S, v16.4S, v29.4S               // .....................................................................................................................................*...............
        sub v20.4S, v6.4S, v13.4S               // ......................................................................................................................................*..............
        sub v26.4S, v17.4S, v31.4S              // .......................................................................................................................................*.............
        sqrdmulh v6.4S, v14.4S, v2.S[1]         // ........................................................................................................................................*............
        sub v13.4S, v25.4S, v11.4S              // .........................................................................................................................................*...........
        str q21, [x0, #496]                     // ..........................................................................................................................................*..........
        sqrdmulh v10.4S, v22.4S, v3.S[1]        // ...........................................................................................................................................*.........
        str q18, [x0, #624]                     // ............................................................................................................................................*........
        sub v7.4S, v27.4S, v5.4S                // .............................................................................................................................................*.......
        str q9, [x0, #880]                      // ..............................................................................................................................................*......
        add v12.4S, v27.4S, v5.4S               // ...............................................................................................................................................*.....
        str q26, [x0, #112]                     // ................................................................................................................................................*....
        add v5.4S, v25.4S, v11.4S               // .................................................................................................................................................*...
        str q12, [x0, #240]                     // ..................................................................................................................................................*..
        sub v15.4S, v30.4S, v4.4S               // ...................................................................................................................................................*.
        str q19, [x0], #16                      // ....................................................................................................................................................*

                                                 // ----------------------------------------------------------------- cycle (expected) ----------------------------------------------------------------->
                                                 // 0                        25                       50                       75                       100                      125
                                                 // |------------------------|------------------------|------------------------|------------------------|------------------------|-----------------------
        // ldr q11, [x0, #256]                   // ..............................*......................................................................................................................
        // ldr q24, [x0, #768]                   // ........*............................................................................................................................................
        // ldr q7, [x0, #512]                    // ............................*........................................................................................................................
        // sqrdmulh v26.4S, v24.4S, v0.S[1]      // ................*....................................................................................................................................
        // mul v23.4S, v24.4S, v0.S[0]           // .................*...................................................................................................................................
        // mul v18.4S, v7.4S, v0.S[0]            // ...........................................*.........................................................................................................
        // sqrdmulh v19.4S, v7.4S, v0.S[1]       // ............................................*........................................................................................................
        // mls v23.4S, v26.4S, v8.S[0]           // ........................*............................................................................................................................
        // ldr q7, [x0, #896]                    // *....................................................................................................................................................
        // mls v18.4S, v19.4S, v8.S[0]           // .....................................................*...............................................................................................
        // add v28.4S, v11.4S, v23.4S            // ...........................................................*.........................................................................................
        // sub v12.4S, v11.4S, v23.4S            // ..........................................................*..........................................................................................
        // sqrdmulh v30.4S, v7.4S, v0.S[1]       // .....*...............................................................................................................................................
        // mul v26.4S, v7.4S, v0.S[0]            // ....*................................................................................................................................................
        // ldr q17, [x0, #640]                   // ..*..................................................................................................................................................
        // ldr q31, [x0, #384]                   // ..........*..........................................................................................................................................
        // mls v26.4S, v30.4S, v8.S[0]           // .............*.......................................................................................................................................
        // mul v11.4S, v17.4S, v0.S[0]           // .......*.............................................................................................................................................
        // sqrdmulh v25.4S, v17.4S, v0.S[1]      // ......*..............................................................................................................................................
        // ldr q19, [x0, #128]                   // .....................*...............................................................................................................................
        // sub v27.4S, v31.4S, v26.4S            // ..................*..................................................................................................................................
        // mls v11.4S, v25.4S, v8.S[0]           // ............*........................................................................................................................................
        // ldr q22, [x0, #0]                     // ............................................................*........................................................................................
        // sqrdmulh v10.4S, v28.4S, v0.S[3]      // ...............................................................................*.....................................................................
        // mul v17.4S, v28.4S, v0.S[2]           // .............................................................................*.......................................................................
        // add v9.4S, v22.4S, v18.4S             // ................................................................................................*....................................................
        // sub v24.4S, v22.4S, v18.4S            // ......................................................................................................*..............................................
        // sqrdmulh v4.4S, v12.4S, v1.S[1]       // .....................................................................................*...............................................................
        // mul v23.4S, v12.4S, v1.S[0]           // ..................................................................................*..................................................................
        // sqrdmulh v7.4S, v27.4S, v1.S[1]       // .....................................*...............................................................................................................
        // add v22.4S, v31.4S, v26.4S            // ...................*.................................................................................................................................
        // mul v26.4S, v27.4S, v1.S[0]           // ......................................*..............................................................................................................
        // sub v12.4S, v19.4S, v11.4S            // ..........................*..........................................................................................................................
        // mls v23.4S, v4.4S, v8.S[0]            // .................................................................................................*...................................................
        // sqrdmulh v14.4S, v22.4S, v0.S[3]      // .......................................*.............................................................................................................
        // mul v4.4S, v22.4S, v0.S[2]            // ........................................*............................................................................................................
        // mls v26.4S, v7.4S, v8.S[0]            // ....................................................*................................................................................................
        // add v27.4S, v19.4S, v11.4S            // .........................*...........................................................................................................................
        // mls v4.4S, v14.4S, v8.S[0]            // ..................................................*..................................................................................................
        // mls v17.4S, v10.4S, v8.S[0]           // ...........................................................................................*.........................................................
        // sub v22.4S, v12.4S, v26.4S            // ........................................................*............................................................................................
        // sub v14.4S, v27.4S, v4.4S             // ......................................................*..............................................................................................
        // sqrdmulh v10.4S, v22.4S, v3.S[1]      // .........................................................................................................*...........................................
        // sqrdmulh v6.4S, v14.4S, v2.S[1]       // ........................................................................................................*............................................
        // add v18.4S, v24.4S, v23.4S            // .....................................................................................................................*...............................
        // add v28.4S, v12.4S, v26.4S            // .........................................................*...........................................................................................
        // sub v20.4S, v9.4S, v17.4S             // ...........................................................................................................................*.........................
        // add v25.4S, v27.4S, v4.4S             // .......................................................*.............................................................................................
        // add v15.4S, v9.4S, v17.4S             // ..................................................................................................................*..................................
        // mul v4.4S, v28.4S, v2.S[2]            // ....................................................................................................*................................................
        // mul v11.4S, v25.4S, v1.S[2]           // ..........................................................................................*..........................................................
        // sqrdmulh v31.4S, v25.4S, v1.S[3]      // .........................................................................................*...........................................................
        // sqrdmulh v26.4S, v28.4S, v2.S[3]      // ..............................................................*......................................................................................
        // mls v11.4S, v31.4S, v8.S[0]           // .............................................................................................................*.......................................
        // mls v4.4S, v26.4S, v8.S[0]            // ...................................................................................................................*.................................
        // add v5.4S, v15.4S, v11.4S             // ..............................................................................................................................*......................
        // sub v15.4S, v15.4S, v11.4S            // .......................................................................................................................................*.............
        // sub v13.4S, v18.4S, v4.4S             // .................................................................................................................................*...................
        // str q5, [x0], #16                     // ....................................................................................................................................*................
        // add v5.4S, v18.4S, v4.4S              // .........................................................................................................................*...........................
        // sub v16.4S, v24.4S, v23.4S            // ..........................................................................................................................*..........................
        // ldr q11, [x0, #256]                   // ......................................................................*..............................................................................
        // ldr q24, [x0, #768]                   // ..................................*..................................................................................................................
        // ldr q7, [x0, #512]                    // ...................................................................*.................................................................................
        // sqrdmulh v26.4S, v24.4S, v0.S[1]      // ...............................................*.....................................................................................................
        // mul v23.4S, v24.4S, v0.S[0]           // ................................................*....................................................................................................
        // mul v18.4S, v7.4S, v0.S[0]            // ...........................................................................*.........................................................................
        // sqrdmulh v19.4S, v7.4S, v0.S[1]       // ............................................................................*........................................................................
        // mul v29.4S, v22.4S, v3.S[0]           // ..........................................................................................................*..........................................
        // mls v23.4S, v26.4S, v8.S[0]           // .....................................................................*...............................................................................
        // ldr q7, [x0, #896]                    // ..............*......................................................................................................................................
        // mls v18.4S, v19.4S, v8.S[0]           // .......................................................................................*.............................................................
        // add v28.4S, v11.4S, v23.4S            // ..............................................................................*......................................................................
        // sub v12.4S, v11.4S, v23.4S            // ...................................................................................*.................................................................
        // sqrdmulh v30.4S, v7.4S, v0.S[1]       // .......................*.............................................................................................................................
        // mul v26.4S, v7.4S, v0.S[0]            // ....................*................................................................................................................................
        // ldr q17, [x0, #640]                   // ................................*....................................................................................................................
        // ldr q31, [x0, #384]                   // .........................................*...........................................................................................................
        // mls v29.4S, v10.4S, v8.S[0]           // ...............................................................................................................*.....................................
        // mls v26.4S, v30.4S, v8.S[0]           // ...........................*.........................................................................................................................
        // mul v11.4S, v17.4S, v0.S[0]           // ....................................*................................................................................................................
        // sqrdmulh v25.4S, v17.4S, v0.S[1]      // .............................................*.......................................................................................................
        // ldr q19, [x0, #128]                   // .................................................................*...................................................................................
        // sub v27.4S, v31.4S, v26.4S            // ...................................................*.................................................................................................
        // mls v11.4S, v25.4S, v8.S[0]           // .................................................*...................................................................................................
        // ldr q22, [x0, #0]                     // .............................................................................................*.......................................................
        // sqrdmulh v10.4S, v28.4S, v0.S[3]      // ........................................................................................*............................................................
        // mul v17.4S, v28.4S, v0.S[2]           // ............................................................................................*........................................................
        // add v9.4S, v22.4S, v18.4S             // ................................................................................................................*....................................
        // sub v24.4S, v22.4S, v18.4S            // ......................................................................................................................*..............................
        // sqrdmulh v4.4S, v12.4S, v1.S[1]       // ...................................................................................................*.................................................
        // mul v23.4S, v12.4S, v1.S[0]           // .....................................................................................................*...............................................
        // sqrdmulh v7.4S, v27.4S, v1.S[1]       // ........................................................................*............................................................................
        // add v22.4S, v31.4S, v26.4S            // ..............................................*......................................................................................................
        // mul v26.4S, v27.4S, v1.S[0]           // .........................................................................*...........................................................................
        // sub v12.4S, v19.4S, v11.4S            // ....................................................................................*................................................................
        // mls v23.4S, v4.4S, v8.S[0]            // ....................................................................................................................*................................
        // mul v18.4S, v14.4S, v2.S[0]           // ..................................................................................................*..................................................
        // sqrdmulh v14.4S, v22.4S, v0.S[3]      // ................................................................*....................................................................................
        // mul v4.4S, v22.4S, v0.S[2]            // ...............................................................*.....................................................................................
        // mls v26.4S, v7.4S, v8.S[0]            // .................................................................................*...................................................................
        // mls v18.4S, v6.4S, v8.S[0]            // .......................................................................................................................*.............................
        // add v27.4S, v19.4S, v11.4S            // ................................................................................*....................................................................
        // mls v4.4S, v14.4S, v8.S[0]            // ..........................................................................*..........................................................................
        // mls v17.4S, v10.4S, v8.S[0]           // ..............................................................................................................*......................................
        // sub v7.4S, v20.4S, v18.4S             // .............................................................................................................................................*.......
        // sub v22.4S, v12.4S, v26.4S            // ...................................................................................................................................*.................
        // sub v14.4S, v27.4S, v4.4S             // ..................................................................................................................................*..................
        // sub v30.4S, v16.4S, v29.4S            // .....................................................................................................................................*...............
        // sqrdmulh v10.4S, v22.4S, v3.S[1]      // ...........................................................................................................................................*.........
        // add v19.4S, v20.4S, v18.4S            // ...............................................................................................................................................*.....
        // sqrdmulh v6.4S, v14.4S, v2.S[1]       // ........................................................................................................................................*............
        // add v18.4S, v24.4S, v23.4S            // ...............................................................................................................................*.....................
        // add v28.4S, v12.4S, v26.4S            // ...............................................................................................*.....................................................
        // sub v20.4S, v9.4S, v17.4S             // ......................................................................................................................................*..............
        // str q15, [x0, #112]                   // ................................................................................................................................................*....
        // add v25.4S, v27.4S, v4.4S             // ......................................................................................*..............................................................
        // add v15.4S, v9.4S, v17.4S             // ............................................................................................................................*........................
        // mul v4.4S, v28.4S, v2.S[2]            // .................................................................................................................*...................................
        // mul v11.4S, v25.4S, v1.S[2]           // ............................................................................................................*........................................
        // sqrdmulh v31.4S, v25.4S, v1.S[3]      // .......................................................................................................*.............................................
        // str q5, [x0, #496]                    // ..........................................................................................................................................*..........
        // sqrdmulh v26.4S, v28.4S, v2.S[3]      // ...........................................................................................................*.........................................
        // str q19, [x0, #240]                   // ..................................................................................................................................................*..
        // mls v11.4S, v31.4S, v8.S[0]           // ........................................................................................................................*............................
        // str q13, [x0, #624]                   // ............................................................................................................................................*........
        // mls v4.4S, v26.4S, v8.S[0]            // .............................................................................................................................*.......................
        // str q30, [x0, #880]                   // ..............................................................................................................................................*......
        // add v5.4S, v15.4S, v11.4S             // ................................................................................................................................*....................
        // sub v15.4S, v15.4S, v11.4S            // ...................................................................................................................................................*.
        // sub v13.4S, v18.4S, v4.4S             // .........................................................................................................................................*...........
        // str q5, [x0], #16                     // ....................................................................................................................................................*
        // add v5.4S, v18.4S, v4.4S              // .................................................................................................................................................*...

        sub count, count, #2
layer123_start:
                                                // Instructions:    76
                                                // Expected cycles: 84
                                                // Expected IPC:    0.90
                                                //
                                                // Cycle bound:     84.0
                                                // IPC bound:       0.90
                                                //
                                                // Wall time:     3.54s
                                                // User time:     3.54s
                                                //
                                                // -------------------------------- cycle (expected) --------------------------------->
                                                // 0                        25                       50                       75
                                                // |------------------------|------------------------|------------------------|--------
        str q7, [x0, #352]                      // l...................................................................................
        add v21.4S, v16.4S, v29.4S              // .l..................................................................................
        sub v16.4S, v24.4S, v23.4S              // ..*.................................................................................
        ldr q11, [x0, #256]                     // ...e................................................................................
        ldr q24, [x0, #768]                     // .....e..............................................................................
        ldr q7, [x0, #512]                      // .......e............................................................................
        sqrdmulh v26.4S, v24.4S, v0.S[1]        // .........e..........................................................................
        mul v23.4S, v24.4S, v0.S[0]             // ..........e.........................................................................
        mul v18.4S, v7.4S, v0.S[0]              // ...........e........................................................................
        sqrdmulh v19.4S, v7.4S, v0.S[1]         // ............e.......................................................................
        mul v29.4S, v22.4S, v3.S[0]             // .............*......................................................................
        mls v23.4S, v26.4S, v8.S[0]             // ..............e.....................................................................
        ldr q7, [x0, #896]                      // ...............e....................................................................
        mls v18.4S, v19.4S, v8.S[0]             // .................e..................................................................
        add v28.4S, v11.4S, v23.4S              // ..................e.................................................................
        sub v12.4S, v11.4S, v23.4S              // ...................e................................................................
        sqrdmulh v30.4S, v7.4S, v0.S[1]         // ....................e...............................................................
        mul v26.4S, v7.4S, v0.S[0]              // .....................e..............................................................
        ldr q17, [x0, #640]                     // ......................e.............................................................
        ldr q31, [x0, #384]                     // ........................e...........................................................
        mls v29.4S, v10.4S, v8.S[0]             // ..........................*.........................................................
        mls v26.4S, v30.4S, v8.S[0]             // ...........................e........................................................
        mul v11.4S, v17.4S, v0.S[0]             // ............................e.......................................................
        sqrdmulh v25.4S, v17.4S, v0.S[1]        // .............................e......................................................
        ldr q19, [x0, #128]                     // ..............................e.....................................................
        sub v27.4S, v31.4S, v26.4S              // ................................e...................................................
        mls v11.4S, v25.4S, v8.S[0]             // .................................e..................................................
        ldr q22, [x0, #0]                       // ..................................e.................................................
        sqrdmulh v10.4S, v28.4S, v0.S[3]        // ....................................e...............................................
        mul v17.4S, v28.4S, v0.S[2]             // .....................................e..............................................
        add v9.4S, v22.4S, v18.4S               // ......................................e.............................................
        sub v24.4S, v22.4S, v18.4S              // .......................................e............................................
        sqrdmulh v4.4S, v12.4S, v1.S[1]         // ........................................e...........................................
        mul v23.4S, v12.4S, v1.S[0]             // .........................................e..........................................
        sqrdmulh v7.4S, v27.4S, v1.S[1]         // ..........................................e.........................................
        add v22.4S, v31.4S, v26.4S              // ...........................................e........................................
        mul v26.4S, v27.4S, v1.S[0]             // ............................................e.......................................
        sub v12.4S, v19.4S, v11.4S              // .............................................e......................................
        mls v23.4S, v4.4S, v8.S[0]              // ..............................................e.....................................
        str q21, [x0, #736]                     // ...............................................l....................................
        mul v18.4S, v14.4S, v2.S[0]             // ................................................*...................................
        sqrdmulh v14.4S, v22.4S, v0.S[3]        // .................................................e..................................
        mul v4.4S, v22.4S, v0.S[2]              // ..................................................e.................................
        mls v26.4S, v7.4S, v8.S[0]              // ...................................................e................................
        mls v18.4S, v6.4S, v8.S[0]              // ....................................................*...............................
        add v27.4S, v19.4S, v11.4S              // .....................................................e..............................
        mls v4.4S, v14.4S, v8.S[0]              // ......................................................e.............................
        mls v17.4S, v10.4S, v8.S[0]             // .......................................................e............................
        sub v7.4S, v20.4S, v18.4S               // ........................................................*...........................
        sub v22.4S, v12.4S, v26.4S              // .........................................................e..........................
        sub v14.4S, v27.4S, v4.4S               // ..........................................................e.........................
        sub v30.4S, v16.4S, v29.4S              // ...........................................................*........................
        sqrdmulh v10.4S, v22.4S, v3.S[1]        // ............................................................e.......................
        add v19.4S, v20.4S, v18.4S              // .............................................................*......................
        sqrdmulh v6.4S, v14.4S, v2.S[1]         // ..............................................................e.....................
        add v18.4S, v24.4S, v23.4S              // ...............................................................e....................
        add v28.4S, v12.4S, v26.4S              // ................................................................e...................
        sub v20.4S, v9.4S, v17.4S               // .................................................................e..................
        str q15, [x0, #112]                     // ..................................................................*.................
        add v25.4S, v27.4S, v4.4S               // ...................................................................e................
        add v15.4S, v9.4S, v17.4S               // ....................................................................e...............
        mul v4.4S, v28.4S, v2.S[2]              // .....................................................................e..............
        mul v11.4S, v25.4S, v1.S[2]             // ......................................................................e.............
        sqrdmulh v31.4S, v25.4S, v1.S[3]        // .......................................................................e............
        str q5, [x0, #496]                      // ........................................................................*...........
        sqrdmulh v26.4S, v28.4S, v2.S[3]        // .........................................................................e..........
        str q19, [x0, #240]                     // ..........................................................................*.........
        mls v11.4S, v31.4S, v8.S[0]             // ...........................................................................e........
        str q13, [x0, #624]                     // ............................................................................*.......
        mls v4.4S, v26.4S, v8.S[0]              // .............................................................................e......
        str q30, [x0, #880]                     // ..............................................................................*.....
        add v5.4S, v15.4S, v11.4S               // ...............................................................................e....
        sub v15.4S, v15.4S, v11.4S              // ................................................................................e...
        sub v13.4S, v18.4S, v4.4S               // .................................................................................e..
        str q5, [x0], #16                       // ..................................................................................e.
        add v5.4S, v18.4S, v4.4S                // ...................................................................................e

                                                      // ------------------------------------------------------------------------------------------------- cycle (expected) ------------------------------------------------------------------------------------------------->
                                                      // 0                        25                       50                       75                       100                      125                      150                      175                      200
                                                      // |------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|------------
        // ldr q9, [x0, #(0*(1024/8))]                // ...............................e.................................................'.................................~.................................................'.................................~.............
        // ldr q10, [x0, #(1*(1024/8))]               // ...........................e.....................................................'.............................~.....................................................'.............................~.................
        // ldr q11, [x0, #(2*(1024/8))]               // e................................................................................'..~................................................................................'..~............................................
        // ldr q12, [x0, #(3*(1024/8))]               // .....................e...........................................................'.......................~...........................................................'.......................~.......................
        // ldr q13, [x0, #(4*(1024/8))]               // ....e............................................................................'......~............................................................................'......~........................................
        // ldr q14, [x0, #(5*(1024/8))]               // ...................e.............................................................'.....................~.............................................................'.....................~.........................
        // ldr q15, [x0, #(6*(1024/8))]               // ..e..............................................................................'....~..............................................................................'....~..........................................
        // ldr q16, [x0, #(7*(1024/8))]               // ............e....................................................................'..............~....................................................................'..............~................................
        // sqrdmulh v27.4s,      v13.4s, v0.s[1]      // .........e.......................................................................'...........~.......................................................................'...........~...................................
        // mul      v24.4s, v13.4s, v0.s[0]           // ........e........................................................................'..........~........................................................................'..........~....................................
        // mls      v24.4s, v27.4s,      v8.s[0]      // ..............e..................................................................'................~..................................................................'................~..............................
        // sub     v13.4s,    v9.4s, v24.4s           // ....................................e............................................'......................................~............................................'......................................~........
        // add     v9.4s,    v9.4s, v24.4s            // ...................................e.............................................'.....................................~.............................................'.....................................~.........
        // sqrdmulh v27.4s,      v14.4s, v0.s[1]      // ..........................e......................................................'............................~......................................................'............................~..................
        // mul      v24.4s, v14.4s, v0.s[0]           // .........................e.......................................................'...........................~.......................................................'...........................~...................
        // mls      v24.4s, v27.4s,      v8.s[0]      // ..............................e..................................................'................................~..................................................'................................~..............
        // sub     v14.4s,    v10.4s, v24.4s          // ..........................................e......................................'............................................~......................................'............................................~..
        // add     v10.4s,    v10.4s, v24.4s          // ..................................................e..............................'....................................................~..............................'...............................................
        // sqrdmulh v27.4s,      v15.4s, v0.s[1]      // ......e..........................................................................'........~..........................................................................'........~......................................
        // mul      v24.4s, v15.4s, v0.s[0]           // .......e.........................................................................'.........~.........................................................................'.........~.....................................
        // mls      v24.4s, v27.4s,      v8.s[0]      // ...........e.....................................................................'.............~.....................................................................'.............~.................................
        // sub     v15.4s,    v11.4s, v24.4s          // ................e................................................................'..................~................................................................'..................~............................
        // add     v11.4s,    v11.4s, v24.4s          // ...............e.................................................................'.................~.................................................................'.................~.............................
        // sqrdmulh v27.4s,      v16.4s, v0.s[1]      // .................e...............................................................'...................~...............................................................'...................~...........................
        // mul      v24.4s, v16.4s, v0.s[0]           // ..................e..............................................................'....................~..............................................................'....................~..........................
        // mls      v24.4s, v27.4s,      v8.s[0]      // ........................e........................................................'..........................~........................................................'..........................~....................
        // sub     v16.4s,    v12.4s, v24.4s          // .............................e...................................................'...............................~...................................................'...............................~...............
        // add     v12.4s,    v12.4s, v24.4s          // ........................................e........................................'..........................................~........................................'..........................................~....
        // sqrdmulh v27.4s,      v11.4s, v0.s[3]      // .................................e...............................................'...................................~...............................................'...................................~...........
        // mul      v24.4s, v11.4s, v0.s[2]           // ..................................e..............................................'....................................~..............................................'....................................~..........
        // mls      v24.4s, v27.4s,      v8.s[0]      // ....................................................e............................'......................................................~............................'...............................................
        // sub     v11.4s,    v9.4s, v24.4s           // ..............................................................e..................'................................................................~..................'...............................................
        // add     v9.4s,    v9.4s, v24.4s            // .................................................................e...............'...................................................................~...............'...............................................
        // sqrdmulh v27.4s,      v12.4s, v0.s[3]      // ..............................................e..................................'................................................~..................................'...............................................
        // mul      v24.4s, v12.4s, v0.s[2]           // ...............................................e.................................'.................................................~.................................'...............................................
        // mls      v24.4s, v27.4s,      v8.s[0]      // ...................................................e.............................'.....................................................~.............................'...............................................
        // sub     v12.4s,    v10.4s, v24.4s          // .......................................................e.........................'.........................................................~.........................'...............................................
        // add     v10.4s,    v10.4s, v24.4s          // ................................................................e................'..................................................................~................'...............................................
        // sqrdmulh v27.4s,      v15.4s, v1.s[1]      // .....................................e...........................................'.......................................~...........................................'.......................................~.......
        // mul      v24.4s, v15.4s, v1.s[0]           // ......................................e..........................................'........................................~..........................................'........................................~......
        // mls      v24.4s, v27.4s,      v8.s[0]      // ...........................................e.....................................'.............................................~.....................................'.............................................~.
        // sub     v15.4s,    v13.4s, v24.4s          // .................................................................................'.*.................................................................................'.~.............................................
        // add     v13.4s,    v13.4s, v24.4s          // ............................................................e....................'..............................................................~....................'...............................................
        // sqrdmulh v27.4s,      v16.4s, v1.s[1]      // .......................................e.........................................'.........................................~.........................................'.........................................~.....
        // mul      v24.4s, v16.4s, v1.s[0]           // .........................................e.......................................'...........................................~.......................................'...........................................~...
        // mls      v24.4s, v27.4s,      v8.s[0]      // ................................................e................................'..................................................~................................'...............................................
        // sub     v16.4s,    v14.4s, v24.4s          // ......................................................e..........................'........................................................~..........................'...............................................
        // add     v14.4s,    v14.4s, v24.4s          // .............................................................e...................'...............................................................~...................'...............................................
        // sqrdmulh v27.4s,      v10.4s, v1.s[3]      // ....................................................................e............'......................................................................~............'...............................................
        // mul      v24.4s, v10.4s, v1.s[2]           // ...................................................................e.............'.....................................................................~.............'...............................................
        // mls      v24.4s, v27.4s,      v8.s[0]      // ........................................................................e........'..........................................................................~........'...............................................
        // sub     v10.4s,    v9.4s, v24.4s           // .............................................................................e...'...............................................................................~...'...............................................
        // add     v9.4s,    v9.4s, v24.4s            // ............................................................................e....'..............................................................................~....'...............................................
        // sqrdmulh v27.4s,      v12.4s, v2.s[1]      // ...........................................................e.....................'.............................................................~.....................'...............................................
        // mul      v24.4s, v12.4s, v2.s[0]           // .............................................~...................................'...............................................*...................................'...............................................
        // mls      v24.4s, v27.4s,      v8.s[0]      // .................................................~...............................'...................................................*...............................'...............................................
        // sub     v12.4s,    v11.4s, v24.4s          // .....................................................~...........................'.......................................................*...........................'...............................................
        // add     v11.4s,    v11.4s, v24.4s          // ..........................................................~......................'............................................................*......................'...............................................
        // sqrdmulh v27.4s,      v14.4s, v2.s[3]      // ......................................................................e..........'........................................................................~..........'...............................................
        // mul      v24.4s, v14.4s, v2.s[2]           // ..................................................................e..............'....................................................................~..............'...............................................
        // mls      v24.4s, v27.4s,      v8.s[0]      // ..........................................................................e......'............................................................................~......'...............................................
        // sub     v14.4s,    v13.4s, v24.4s          // ..............................................................................e..'................................................................................~..'...............................................
        // add     v13.4s,    v13.4s, v24.4s          // ................................................................................e'..................................................................................~'...............................................
        // sqrdmulh v27.4s,      v16.4s, v3.s[1]      // .........................................................e.......................'...........................................................~.......................'...............................................
        // mul      v24.4s, v16.4s, v3.s[0]           // ..........~......................................................................'............*......................................................................'............~..................................
        // mls      v24.4s, v27.4s,      v8.s[0]      // .......................~.........................................................'.........................*.........................................................'.........................~.....................
        // sub     v16.4s,    v15.4s, v24.4s          // ........................................................~........................'..........................................................*........................'...............................................
        // add     v15.4s,    v15.4s, v24.4s          // .................................................................................'~..................................................................................'l..............................................
        // str q9, [x0], #16                          // ...............................................................................e.'.................................................................................~.'...............................................
        // str q10, [x0, #(-16 + 1*(1024/8))]         // ...............................................................~.................'.................................................................*.................'...............................................
        // str q11, [x0, #(-16 + 2*(1024/8))]         // .......................................................................~.........'.........................................................................*.........'...............................................
        // str q12, [x0, #(-16 + 3*(1024/8))]         // .................................................................................~...................................................................................l...............................................
        // str q13, [x0, #(-16 + 4*(1024/8))]         // .....................................................................~...........'.......................................................................*...........'...............................................
        // str q14, [x0, #(-16 + 5*(1024/8))]         // .........................................................................~.......'...........................................................................*.......'...............................................
        // str q15, [x0, #(-16 + 6*(1024/8))]         // ............................................~....................................'..............................................~....................................'..............................................l
        // str q16, [x0, #(-16 + 7*(1024/8))]         // ...........................................................................~.....'.............................................................................*.....'...............................................

        sub count, count, 1
        cbnz count, layer123_start
                                           // Instructions:    19
                                           // Expected cycles: 20
                                           // Expected IPC:    0.95
                                           //
                                           // Cycle bound:     20.0
                                           // IPC bound:       0.95
                                           //
                                           // Wall time:     0.07s
                                           // User time:     0.07s
                                           //
                                           // ----- cycle (expected) ------>
                                           // 0                        25
                                           // |------------------------|----
        mul v26.4S, v14.4S, v2.S[0]        // *.............................
        str q13, [x0, #624]                // .*............................
        mul v13.4S, v22.4S, v3.S[0]        // ..*...........................
        str q15, [x0, #112]                // ...*..........................
        mls v26.4S, v6.4S, v8.S[0]         // ....*.........................
        str q7, [x0, #352]                 // .....*........................
        mls v13.4S, v10.4S, v8.S[0]        // ......*.......................
        sub v11.4S, v24.4S, v23.4S         // .......*......................
        add v14.4S, v16.4S, v29.4S         // ........*.....................
        str q5, [x0, #496]                 // .........*....................
        add v19.4S, v11.4S, v13.4S         // ..........*...................
        str q14, [x0, #736]                // ...........*..................
        sub v5.4S, v11.4S, v13.4S          // ............*.................
        str q19, [x0, #752]                // .............*................
        sub v10.4S, v20.4S, v26.4S         // ..............*...............
        str q5, [x0, #880]                 // ...............*..............
        add v22.4S, v20.4S, v26.4S         // ................*.............
        str q10, [x0, #368]                // .................*............
        str q22, [x0, #240]                // ...................*..........

                                            // ------ cycle (expected) ------>
                                            // 0                        25
                                            // |------------------------|-----
        // str q7, [x0, #352]               // .....*.........................
        // add v21.4S, v16.4S, v29.4S       // ........*......................
        // sub v16.4S, v24.4S, v23.4S       // .......*.......................
        // mul v29.4S, v22.4S, v3.S[0]      // ..*............................
        // mls v29.4S, v10.4S, v8.S[0]      // ......*........................
        // str q21, [x0, #736]              // ...........*...................
        // mul v18.4S, v14.4S, v2.S[0]      // *..............................
        // mls v18.4S, v6.4S, v8.S[0]       // ....*..........................
        // sub v7.4S, v20.4S, v18.4S        // ..............*................
        // sub v30.4S, v16.4S, v29.4S       // ............*..................
        // add v19.4S, v20.4S, v18.4S       // ................*..............
        // str q15, [x0, #112]              // ...*...........................
        // str q5, [x0, #496]               // .........*.....................
        // str q19, [x0, #240]              // ...................*...........
        // str q13, [x0, #624]              // .*.............................
        // str q30, [x0, #880]              // ...............*...............
        // str q7, [x0, #368]               // .................*.............
        // add v21.4S, v16.4S, v29.4S       // ..........*....................
        // str q21, [x0, #752]              // .............*.................


        mov in, inp
        add inpp, in, #64
        mov count, #8

        // Use two data pointers and carefully arrange
        // increments to facilitate reordering of loads
        // and stores by SLOTHY.

        // TODO: Think of alternatives here -- the start with `in`
        // pointing to 64 byte below the actual data, which in theory
        // could underflow. It's unclear how the CPU would behave in this case.
        sub in, in, #64
        sub inpp, inpp, #64

        .p2align 2
                                                               // Instructions:    143
                                                               // Expected cycles: 165
                                                               // Expected IPC:    0.87
                                                               //
                                                               // Cycle bound:     165.0
                                                               // IPC bound:       0.87
                                                               //
                                                               // Wall time:     2.05s
                                                               // User time:     2.05s
                                                               //
                                                               // ------------------------------------------------------------------------- cycle (expected) ------------------------------------------------------------------------->
                                                               // 0                        25                       50                       75                       100                      125                      150
                                                               // |------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|--------------
        ldr q4, [x0, #112]                                     // *....................................................................................................................................................................
        ldr q23, [x0, #80]                                     // ..*..................................................................................................................................................................
        ldr q20, [x0, #64]                                     // ....*................................................................................................................................................................
        ldr q6, [x0, #96]                                      // ......*..............................................................................................................................................................
        add x0, x0, #64                                        // ......*..............................................................................................................................................................
        ldr q3, [x5, #64]                                      // ........*............................................................................................................................................................
        ldr q29, [x5, #96]                                     // ..........*..........................................................................................................................................................
        ldr q10, [x5, #80]                                     // ............*........................................................................................................................................................
        ldr q15, [x5, #112]                                    // ..............*......................................................................................................................................................
        add x5, x5, #64                                        // ..............*......................................................................................................................................................
        ldr q5, [x1], #64                                      // ................*....................................................................................................................................................
        ldr q18, [x1, #-48]                                    // ..................*..................................................................................................................................................
        mul v19.4S, v15.4S, v5.S[0]                            // ....................*................................................................................................................................................
        sqrdmulh v12.4S, v15.4S, v5.S[1]                       // .....................*...............................................................................................................................................
        sqrdmulh v26.4S, v10.4S, v5.S[1]                       // ......................*..............................................................................................................................................
        mul v0.4S, v10.4S, v5.S[0]                             // .......................*.............................................................................................................................................
        mul v21.4S, v3.4S, v5.S[0]                             // ........................*............................................................................................................................................
        mls v19.4S, v12.4S, v8.S[0]                            // .........................*...........................................................................................................................................
        sqrdmulh v3.4S, v3.4S, v5.S[1]                         // ..........................*..........................................................................................................................................
        mls v0.4S, v26.4S, v8.S[0]                             // ...........................*.........................................................................................................................................
        mul v9.4S, v29.4S, v5.S[0]                             // ............................*........................................................................................................................................
        add v11.4S, v4.4S, v19.4S                              // .............................*.......................................................................................................................................
        sub v25.4S, v4.4S, v19.4S                              // ..............................*......................................................................................................................................
        add v13.4S, v23.4S, v0.4S                              // ...............................*.....................................................................................................................................
        sub v17.4S, v23.4S, v0.4S                              // ................................*....................................................................................................................................
        mls v21.4S, v3.4S, v8.S[0]                             // .................................*...................................................................................................................................
        sqrdmulh v27.4S, v29.4S, v5.S[1]                       // ..................................*..................................................................................................................................
        sqrdmulh v14.4S, v11.4S, v5.S[3]                       // ...................................*.................................................................................................................................
        mul v0.4S, v11.4S, v5.S[2]                             // ....................................*................................................................................................................................
        sub v10.4S, v20.4S, v21.4S                             // .....................................*...............................................................................................................................
        add v29.4S, v20.4S, v21.4S                             // ......................................*..............................................................................................................................
        mls v9.4S, v27.4S, v8.S[0]                             // .......................................*.............................................................................................................................
        mls v0.4S, v14.4S, v8.S[0]                             // ........................................*............................................................................................................................
        mul v28.4S, v25.4S, v18.S[0]                           // .........................................*...........................................................................................................................
        sqrdmulh v7.4S, v25.4S, v18.S[1]                       // ..........................................*..........................................................................................................................
        add v1.4S, v6.4S, v9.4S                                // ...........................................*.........................................................................................................................
        sub v21.4S, v6.4S, v9.4S                               // ............................................*........................................................................................................................
        add v20.4S, v13.4S, v0.4S                              // .............................................*.......................................................................................................................
        mul v23.4S, v1.4S, v5.S[2]                             // ..............................................*......................................................................................................................
        sqrdmulh v24.4S, v1.4S, v5.S[3]                        // ...............................................*.....................................................................................................................
        sqrdmulh v12.4S, v21.4S, v18.S[1]                      // ................................................*....................................................................................................................
        mul v15.4S, v21.4S, v18.S[0]                           // .................................................*...................................................................................................................
        sqrdmulh v26.4S, v20.4S, v18.S[3]                      // ..................................................*..................................................................................................................
        mul v2.4S, v20.4S, v18.S[2]                            // ...................................................*.................................................................................................................
        ldr q20, [x1, #-32]                                    // ....................................................*................................................................................................................
        mls v28.4S, v7.4S, v8.S[0]                             // ......................................................*..............................................................................................................
        sub v9.4S, v13.4S, v0.4S                               // .......................................................*.............................................................................................................
        ldr q31, [x1, #-16]                                    // ........................................................*............................................................................................................
        add v30.4S, v17.4S, v28.4S                             // ..........................................................*..........................................................................................................
        sub v28.4S, v17.4S, v28.4S                             // ...........................................................*.........................................................................................................
        mls v23.4S, v24.4S, v8.S[0]                            // ............................................................*........................................................................................................
        sqrdmulh v25.4S, v9.4S, v20.S[1]                       // .............................................................*.......................................................................................................
        mul v1.4S, v9.4S, v20.S[0]                             // ..............................................................*......................................................................................................
        mls v15.4S, v12.4S, v8.S[0]                            // ...............................................................*.....................................................................................................
        sqrdmulh v5.4S, v28.4S, v31.S[1]                       // ................................................................*....................................................................................................
        mul v3.4S, v30.4S, v20.S[2]                            // .................................................................*...................................................................................................
        mul v14.4S, v28.4S, v31.S[0]                           // ..................................................................*..................................................................................................
        sqrdmulh v20.4S, v30.4S, v20.S[3]                      // ...................................................................*.................................................................................................
        mls v2.4S, v26.4S, v8.S[0]                             // ....................................................................*................................................................................................
        mls v1.4S, v25.4S, v8.S[0]                             // .....................................................................*...............................................................................................
        sub v9.4S, v29.4S, v23.4S                              // ......................................................................*..............................................................................................
        add v12.4S, v29.4S, v23.4S                             // .......................................................................*.............................................................................................
        mls v14.4S, v5.4S, v8.S[0]                             // ........................................................................*............................................................................................
        mls v3.4S, v20.4S, v8.S[0]                             // .........................................................................*...........................................................................................
        add v17.4S, v10.4S, v15.4S                             // ..........................................................................*..........................................................................................
        sub v23.4S, v10.4S, v15.4S                             // ...........................................................................*.........................................................................................
        add v31.4S, v12.4S, v2.4S                              // ............................................................................*........................................................................................
        sub v12.4S, v12.4S, v2.4S                              // .............................................................................*.......................................................................................
        add v6.4S, v9.4S, v1.4S                                // ..............................................................................*......................................................................................
        sub v27.4S, v9.4S, v1.4S                               // ...............................................................................*.....................................................................................
        sub v2.4S, v17.4S, v3.4S                               // ................................................................................*....................................................................................
        sub v15.4S, v23.4S, v14.4S                             // .................................................................................*...................................................................................
        add v7.4S, v17.4S, v3.4S                               // ..................................................................................*..................................................................................
        add v0.4S, v23.4S, v14.4S                              // ...................................................................................*.................................................................................
        trn2 v23.4S, v6.4S, v27.4S                             // ....................................................................................*................................................................................
        trn2 v3.4S, v31.4S, v12.4S                             // .....................................................................................*...............................................................................
        trn2 v30.4S, v7.4S, v2.4S                              // ......................................................................................*..............................................................................
        trn2 v11.4S, v0.4S, v15.4S                             // .......................................................................................*.............................................................................
        ldr q13, [x2], #(12*16)                                // ........................................................................................*............................................................................
        ldr q19, [x2, #-176]                                   // ..........................................................................................*..........................................................................
        trn2 v22.2D, v3.2D, v23.2D                             // ............................................................................................*........................................................................
        ldr q18, [x2, #-80]                                    // .............................................................................................*.......................................................................
        ldr q25, [x2, #-96]                                    // ...............................................................................................*.....................................................................
        trn2 v1.2D, v30.2D, v11.2D                             // .................................................................................................*...................................................................
        sqrdmulh v5.4S, v22.4S, v19.4S                         // ..................................................................................................*..................................................................
        mul v17.4S, v22.4S, v13.4S                             // ...................................................................................................*.................................................................
        mul v10.4S, v1.4S, v25.4S                              // ....................................................................................................*................................................................
        sqrdmulh v16.4S, v1.4S, v18.4S                         // .....................................................................................................*...............................................................
        trn1 v20.4S, v6.4S, v27.4S                             // ......................................................................................................*..............................................................
        trn1 v12.4S, v31.4S, v12.4S                            // .......................................................................................................*.............................................................
        mls v17.4S, v5.4S, v8.S[0]                             // ........................................................................................................*............................................................
        trn1 v31.4S, v7.4S, v2.4S                              // .........................................................................................................*...........................................................
        trn1 v0.4S, v0.4S, v15.4S                              // ..........................................................................................................*..........................................................
        trn2 v29.2D, v12.2D, v20.2D                            // ...........................................................................................................*.........................................................
        mls v10.4S, v16.4S, v8.S[0]                            // ............................................................................................................*........................................................
        trn1 v15.2D, v3.2D, v23.2D                             // .............................................................................................................*.......................................................
        trn2 v22.2D, v31.2D, v0.2D                             // ..............................................................................................................*......................................................
        trn1 v4.2D, v30.2D, v11.2D                             // ...............................................................................................................*.....................................................
        mul v16.4S, v29.4S, v13.4S                             // ................................................................................................................*....................................................
        sqrdmulh v9.4S, v29.4S, v19.4S                         // .................................................................................................................*...................................................
        add v2.4S, v15.4S, v17.4S                              // ..................................................................................................................*..................................................
        sub v21.4S, v15.4S, v17.4S                             // ...................................................................................................................*.................................................
        ldr q5, [x2, #-160]                                    // ....................................................................................................................*................................................
        ldr q13, [x2, #-112]                                   // ......................................................................................................................*..............................................
        ldr q7, [x2, #-144]                                    // ........................................................................................................................*............................................
        ldr q26, [x2, #-128]                                   // ..........................................................................................................................*..........................................
        sqrdmulh v19.4S, v22.4S, v18.4S                        // ............................................................................................................................*........................................
        mul v18.4S, v22.4S, v25.4S                             // .............................................................................................................................*.......................................
        add v3.4S, v4.4S, v10.4S                               // ..............................................................................................................................*......................................
        sub v11.4S, v4.4S, v10.4S                              // ...............................................................................................................................*.....................................
        ldr q30, [x2, #-32]                                    // ................................................................................................................................*....................................
        ldr q28, [x2, #-64]                                    // ..................................................................................................................................*..................................
        ldr q1, [x2, #-16]                                     // ....................................................................................................................................*................................
        ldr q10, [x2, #-48]                                    // ......................................................................................................................................*..............................
        mls v16.4S, v9.4S, v8.S[0]                             // ........................................................................................................................................*............................
        sqrdmulh v22.4S, v2.4S, v7.4S                          // .........................................................................................................................................*...........................
        sqrdmulh v7.4S, v21.4S, v13.4S                         // ..........................................................................................................................................*..........................
        mul v24.4S, v21.4S, v26.4S                             // ...........................................................................................................................................*.........................
        mul v5.4S, v2.4S, v5.4S                                // ............................................................................................................................................*........................
        trn1 v2.2D, v12.2D, v20.2D                             // .............................................................................................................................................*.......................
        mls v18.4S, v19.4S, v8.S[0]                            // ..............................................................................................................................................*......................
        mul v4.4S, v11.4S, v30.4S                              // ...............................................................................................................................................*.....................
        sqrdmulh v15.4S, v11.4S, v1.4S                         // ................................................................................................................................................*....................
        mul v6.4S, v3.4S, v28.4S                               // .................................................................................................................................................*...................
        sqrdmulh v13.4S, v3.4S, v10.4S                         // ..................................................................................................................................................*..................
        trn1 v0.2D, v31.2D, v0.2D                              // ...................................................................................................................................................*.................
        mls v5.4S, v22.4S, v8.S[0]                             // ....................................................................................................................................................*................
        mls v24.4S, v7.4S, v8.S[0]                             // .....................................................................................................................................................*...............
        sub v26.4S, v2.4S, v16.4S                              // ......................................................................................................................................................*..............
        add v2.4S, v2.4S, v16.4S                               // .......................................................................................................................................................*.............
        mls v4.4S, v15.4S, v8.S[0]                             // ........................................................................................................................................................*............
        mls v6.4S, v13.4S, v8.S[0]                             // .........................................................................................................................................................*...........
        sub v20.4S, v0.4S, v18.4S                              // ..........................................................................................................................................................*..........
        add v30.4S, v0.4S, v18.4S                              // ...........................................................................................................................................................*.........
        add v17.4S, v26.4S, v24.4S                             // ............................................................................................................................................................*........
        sub v18.4S, v26.4S, v24.4S                             // .............................................................................................................................................................*.......
        add v15.4S, v2.4S, v5.4S                               // ..............................................................................................................................................................*......
        sub v16.4S, v2.4S, v5.4S                               // ...............................................................................................................................................................*.....
        sub v26.4S, v20.4S, v4.4S                              // ................................................................................................................................................................*....
        add v23.4S, v30.4S, v6.4S                              // .................................................................................................................................................................*...
        add v25.4S, v20.4S, v4.4S                              // ..................................................................................................................................................................*..
        sub v24.4S, v30.4S, v6.4S                              // ...................................................................................................................................................................*.
        st4 {v15.4S, v16.4S, v17.4S, v18.4S}, [x0], #64        // ....................................................................................................................................................................*

                                                            // ------------------------------------------------------------------------- cycle (expected) ------------------------------------------------------------------------->
                                                            // 0                        25                       50                       75                       100                      125                      150
                                                            // |------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|--------------
        // ldr q22, [x0, #112]                              // *....................................................................................................................................................................
        // ldr q28, [x0, #64]                               // ....*................................................................................................................................................................
        // ldr q13, [x5, #64]                               // ........*............................................................................................................................................................
        // ldr q3, [x0, #80]                                // ..*..................................................................................................................................................................
        // ldr q14, [x0, #96]                               // ......*..............................................................................................................................................................
        // add x0, x0, #64                                  // ......*..............................................................................................................................................................
        // ldr q17, [x1], #64                               // ................*....................................................................................................................................................
        // ldr q26, [x5, #112]                              // ..............*......................................................................................................................................................
        // sqrdmulh v1.4S, v13.4S, v17.S[1]                 // ..........................*..........................................................................................................................................
        // mul v25.4S, v13.4S, v17.S[0]                     // ........................*............................................................................................................................................
        // sqrdmulh v19.4S, v26.4S, v17.S[1]                // .....................*...............................................................................................................................................
        // mul v10.4S, v26.4S, v17.S[0]                     // ....................*................................................................................................................................................
        // ldr q24, [x5, #80]                               // ............*........................................................................................................................................................
        // mls v25.4S, v1.4S, v8.S[0]                       // .................................*...................................................................................................................................
        // mls v10.4S, v19.4S, v8.S[0]                      // .........................*...........................................................................................................................................
        // mul v9.4S, v24.4S, v17.S[0]                      // .......................*.............................................................................................................................................
        // sqrdmulh v16.4S, v24.4S, v17.S[1]                // ......................*..............................................................................................................................................
        // sub v21.4S, v28.4S, v25.4S                       // .....................................*...............................................................................................................................
        // sub v0.4S, v22.4S, v10.4S                        // ..............................*......................................................................................................................................
        // add v13.4S, v22.4S, v10.4S                       // .............................*.......................................................................................................................................
        // add v25.4S, v28.4S, v25.4S                       // ......................................*..............................................................................................................................
        // mls v9.4S, v16.4S, v8.S[0]                       // ...........................*.........................................................................................................................................
        // ldr q29, [x5, #96]                               // ..........*..........................................................................................................................................................
        // add x5, x5, #64                                  // ..............*......................................................................................................................................................
        // mul v18.4S, v13.4S, v17.S[2]                     // ....................................*................................................................................................................................
        // add v24.4S, v3.4S, v9.4S                         // ...............................*.....................................................................................................................................
        // sub v28.4S, v3.4S, v9.4S                         // ................................*....................................................................................................................................
        // sqrdmulh v22.4S, v29.4S, v17.S[1]                // ..................................*..................................................................................................................................
        // mul v29.4S, v29.4S, v17.S[0]                     // ............................*........................................................................................................................................
        // ldr q2, [x1, #-16]                               // ........................................................*............................................................................................................
        // sqrdmulh v23.4S, v13.4S, v17.S[3]                // ...................................*.................................................................................................................................
        // mls v29.4S, v22.4S, v8.S[0]                      // .......................................*.............................................................................................................................
        // ldr q20, [x1, #-48]                              // ..................*..................................................................................................................................................
        // mls v18.4S, v23.4S, v8.S[0]                      // ........................................*............................................................................................................................
        // add v5.4S, v14.4S, v29.4S                        // ...........................................*.........................................................................................................................
        // sub v29.4S, v14.4S, v29.4S                       // ............................................*........................................................................................................................
        // mul v12.4S, v0.4S, v20.S[0]                      // .........................................*...........................................................................................................................
        // mul v30.4S, v5.4S, v17.S[2]                      // ..............................................*......................................................................................................................
        // sqrdmulh v14.4S, v5.4S, v17.S[3]                 // ...............................................*.....................................................................................................................
        // sqrdmulh v19.4S, v0.4S, v20.S[1]                 // ..........................................*..........................................................................................................................
        // add v31.4S, v24.4S, v18.4S                       // .............................................*.......................................................................................................................
        // mul v7.4S, v29.4S, v20.S[0]                      // .................................................*...................................................................................................................
        // mls v30.4S, v14.4S, v8.S[0]                      // ............................................................*........................................................................................................
        // sub v15.4S, v24.4S, v18.4S                       // .......................................................*.............................................................................................................
        // ldr q24, [x1, #-32]                              // ....................................................*................................................................................................................
        // sqrdmulh v5.4S, v29.4S, v20.S[1]                 // ................................................*....................................................................................................................
        // mul v1.4S, v31.4S, v20.S[2]                      // ...................................................*.................................................................................................................
        // mls v12.4S, v19.4S, v8.S[0]                      // ......................................................*..............................................................................................................
        // sqrdmulh v18.4S, v15.4S, v24.S[1]                // .............................................................*.......................................................................................................
        // mls v7.4S, v5.4S, v8.S[0]                        // ...............................................................*.....................................................................................................
        // sqrdmulh v0.4S, v31.4S, v20.S[3]                 // ..................................................*..................................................................................................................
        // sub v10.4S, v28.4S, v12.4S                       // ...........................................................*.........................................................................................................
        // sub v27.4S, v25.4S, v30.4S                       // ......................................................................*..............................................................................................
        // sub v31.4S, v21.4S, v7.4S                        // ...........................................................................*.........................................................................................
        // add v23.4S, v21.4S, v7.4S                        // ..........................................................................*..........................................................................................
        // add v7.4S, v25.4S, v30.4S                        // .......................................................................*.............................................................................................
        // mls v1.4S, v0.4S, v8.S[0]                        // ....................................................................*................................................................................................
        // mul v6.4S, v10.4S, v2.S[0]                       // ..................................................................*..................................................................................................
        // ldr q17, [x2, #16]                               // ..........................................................................................*..........................................................................
        // add v29.4S, v7.4S, v1.4S                         // ............................................................................*........................................................................................
        // add v21.4S, v28.4S, v12.4S                       // ..........................................................*..........................................................................................................
        // ldr q12, [x2, #112]                              // .............................................................................................*.......................................................................
        // mul v9.4S, v21.4S, v24.S[2]                      // .................................................................*...................................................................................................
        // ldr q5, [x2], #(12*16)                           // ........................................................................................*............................................................................
        // sqrdmulh v20.4S, v10.4S, v2.S[1]                 // ................................................................*....................................................................................................
        // sub v13.4S, v7.4S, v1.4S                         // .............................................................................*.......................................................................................
        // sqrdmulh v2.4S, v21.4S, v24.S[3]                 // ...................................................................*.................................................................................................
        // ldr q14, [x2, #-96]                              // ...............................................................................................*.....................................................................
        // mul v19.4S, v15.4S, v24.S[0]                     // ..............................................................*......................................................................................................
        // trn2 v30.4S, v29.4S, v13.4S                      // .....................................................................................*...............................................................................
        // ldr q28, [x2, #-144]                             // ........................................................................................................................*............................................
        // mls v9.4S, v2.4S, v8.S[0]                        // .........................................................................*...........................................................................................
        // mls v6.4S, v20.4S, v8.S[0]                       // ........................................................................*............................................................................................
        // mls v19.4S, v18.4S, v8.S[0]                      // .....................................................................*...............................................................................................
        // trn1 v22.4S, v29.4S, v13.4S                      // .......................................................................................................*.............................................................
        // sub v1.4S, v23.4S, v9.4S                         // ................................................................................*....................................................................................
        // ldr q15, [x2, #-160]                             // ....................................................................................................................*................................................
        // sub v0.4S, v27.4S, v19.4S                        // ...............................................................................*.....................................................................................
        // sub v3.4S, v31.4S, v6.4S                         // .................................................................................*...................................................................................
        // add v29.4S, v31.4S, v6.4S                        // ...................................................................................*.................................................................................
        // ldr q7, [x2, #-112]                              // ......................................................................................................................*..............................................
        // trn1 v20.4S, v29.4S, v3.4S                       // ..........................................................................................................*..........................................................
        // add v26.4S, v27.4S, v19.4S                       // ..............................................................................*......................................................................................
        // add v21.4S, v23.4S, v9.4S                        // ..................................................................................*..................................................................................
        // ldr q31, [x2, #-32]                              // ................................................................................................................................*....................................
        // trn2 v10.4S, v26.4S, v0.4S                       // ....................................................................................*................................................................................
        // trn1 v24.4S, v26.4S, v0.4S                       // ......................................................................................................*..............................................................
        // trn1 v6.4S, v21.4S, v1.4S                        // .........................................................................................................*...........................................................
        // ldr q4, [x2, #-128]                              // ..........................................................................................................................*..........................................
        // trn2 v25.2D, v22.2D, v24.2D                      // ...........................................................................................................*.........................................................
        // trn1 v19.2D, v30.2D, v10.2D                      // .............................................................................................................*.......................................................
        // trn2 v13.2D, v30.2D, v10.2D                      // ............................................................................................*........................................................................
        // mul v9.4S, v25.4S, v5.4S                         // ................................................................................................................*....................................................
        // trn2 v10.4S, v21.4S, v1.4S                       // ......................................................................................*..............................................................................
        // trn2 v23.4S, v29.4S, v3.4S                       // .......................................................................................*.............................................................................
        // mul v16.4S, v13.4S, v5.4S                        // ...................................................................................................*.................................................................
        // trn2 v0.2D, v6.2D, v20.2D                        // ..............................................................................................................*......................................................
        // trn2 v1.2D, v10.2D, v23.2D                       // .................................................................................................*...................................................................
        // sqrdmulh v29.4S, v13.4S, v17.4S                  // ..................................................................................................*..................................................................
        // trn1 v11.2D, v10.2D, v23.2D                      // ...............................................................................................................*.....................................................
        // mul v30.4S, v1.4S, v14.4S                        // ....................................................................................................*................................................................
        // sqrdmulh v21.4S, v1.4S, v12.4S                   // .....................................................................................................*...............................................................
        // mul v1.4S, v0.4S, v14.4S                         // .............................................................................................................................*.......................................
        // ldr q10, [x2, #-16]                              // ....................................................................................................................................*................................
        // mls v16.4S, v29.4S, v8.S[0]                      // ........................................................................................................*............................................................
        // ldr q3, [x2, #-48]                               // ......................................................................................................................................*..............................
        // sqrdmulh v29.4S, v0.4S, v12.4S                   // ............................................................................................................................*........................................
        // sub v12.4S, v19.4S, v16.4S                       // ...................................................................................................................*.................................................
        // sqrdmulh v26.4S, v25.4S, v17.4S                  // .................................................................................................................*...................................................
        // trn1 v5.2D, v6.2D, v20.2D                        // ...................................................................................................................................................*.................
        // mls v30.4S, v21.4S, v8.S[0]                      // ............................................................................................................*........................................................
        // sqrdmulh v0.4S, v12.4S, v7.4S                    // ..........................................................................................................................................*..........................
        // add v16.4S, v19.4S, v16.4S                       // ..................................................................................................................*..................................................
        // mul v17.4S, v12.4S, v4.4S                        // ...........................................................................................................................................*.........................
        // trn1 v12.2D, v22.2D, v24.2D                      // .............................................................................................................................................*.......................
        // mul v23.4S, v16.4S, v15.4S                       // ............................................................................................................................................*........................
        // sub v21.4S, v11.4S, v30.4S                       // ...............................................................................................................................*.....................................
        // mls v9.4S, v26.4S, v8.S[0]                       // ........................................................................................................................................*............................
        // add v18.4S, v11.4S, v30.4S                       // ..............................................................................................................................*......................................
        // mul v20.4S, v21.4S, v31.4S                       // ...............................................................................................................................................*.....................
        // sqrdmulh v27.4S, v16.4S, v28.4S                  // .........................................................................................................................................*...........................
        // mls v1.4S, v29.4S, v8.S[0]                       // ..............................................................................................................................................*......................
        // ldr q15, [x2, #-64]                              // ..................................................................................................................................*..................................
        // sqrdmulh v30.4S, v21.4S, v10.4S                  // ................................................................................................................................................*....................
        // mls v17.4S, v0.4S, v8.S[0]                       // .....................................................................................................................................................*...............
        // add v22.4S, v12.4S, v9.4S                        // .......................................................................................................................................................*.............
        // sub v12.4S, v12.4S, v9.4S                        // ......................................................................................................................................................*..............
        // sub v9.4S, v5.4S, v1.4S                          // ..........................................................................................................................................................*..........
        // mls v20.4S, v30.4S, v8.S[0]                      // ........................................................................................................................................................*............
        // add v7.4S, v5.4S, v1.4S                          // ...........................................................................................................................................................*.........
        // sqrdmulh v4.4S, v18.4S, v3.4S                    // ..................................................................................................................................................*..................
        // sub v6.4S, v12.4S, v17.4S                        // .............................................................................................................................................................*.......
        // mul v14.4S, v18.4S, v15.4S                       // .................................................................................................................................................*...................
        // sub v26.4S, v9.4S, v20.4S                        // ................................................................................................................................................................*....
        // mls v23.4S, v27.4S, v8.S[0]                      // ....................................................................................................................................................*................
        // add v5.4S, v12.4S, v17.4S                        // ............................................................................................................................................................*........
        // mls v14.4S, v4.4S, v8.S[0]                       // .........................................................................................................................................................*...........
        // add v25.4S, v9.4S, v20.4S                        // ..................................................................................................................................................................*..
        // add v3.4S, v22.4S, v23.4S                        // ..............................................................................................................................................................*......
        // sub v4.4S, v22.4S, v23.4S                        // ...............................................................................................................................................................*.....
        // add v23.4S, v7.4S, v14.4S                        // .................................................................................................................................................................*...
        // sub v24.4S, v7.4S, v14.4S                        // ...................................................................................................................................................................*.
        // st4 {v3.4S, v4.4S, v5.4S, v6.4S}, [x0], #64      // ....................................................................................................................................................................*

        sub count, count, #1
layer45678_start:
                                                               // Instructions:    144
                                                               // Expected cycles: 174
                                                               // Expected IPC:    0.83
                                                               //
                                                               // Cycle bound:     172.0
                                                               // IPC bound:       0.84
                                                               //
                                                               // Wall time:     120.25s
                                                               // User time:     120.25s
                                                               //
                                                               // ----------------------------------------------------------------------------- cycle (expected) ------------------------------------------------------------------------------>
                                                               // 0                        25                       50                       75                       100                      125                      150
                                                               // |------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|-----------------------
        st4 {v23.4S, v24.4S, v25.4S, v26.4S}, [x5], #64        // *.............................................................................................................................................................................
        ldr q22, [x0, #112]                                    // .....e........................................................................................................................................................................
        ldr q28, [x0, #64]                                     // .......e......................................................................................................................................................................
        ldr q13, [x5, #64]                                     // .........e....................................................................................................................................................................
        ldr q3, [x0, #80]                                      // ...........e..................................................................................................................................................................
        ldr q14, [x0, #96]                                     // .............e................................................................................................................................................................
        add x0, x0, #64                                        // .............e................................................................................................................................................................
        ldr q17, [x1], #64                                     // ...............e..............................................................................................................................................................
        ldr q26, [x5, #112]                                    // .................e............................................................................................................................................................
        sqrdmulh v1.4S, v13.4S, v17.S[1]                       // ...................e..........................................................................................................................................................
        mul v25.4S, v13.4S, v17.S[0]                           // ....................e.........................................................................................................................................................
        sqrdmulh v19.4S, v26.4S, v17.S[1]                      // .....................e........................................................................................................................................................
        mul v10.4S, v26.4S, v17.S[0]                           // ......................e.......................................................................................................................................................
        ldr q24, [x5, #80]                                     // .......................e......................................................................................................................................................
        mls v25.4S, v1.4S, v8.S[0]                             // .........................e....................................................................................................................................................
        mls v10.4S, v19.4S, v8.S[0]                            // ..........................e...................................................................................................................................................
        mul v9.4S, v24.4S, v17.S[0]                            // ...........................e..................................................................................................................................................
        sqrdmulh v16.4S, v24.4S, v17.S[1]                      // ............................e.................................................................................................................................................
        sub v21.4S, v28.4S, v25.4S                             // .............................e................................................................................................................................................
        sub v0.4S, v22.4S, v10.4S                              // ..............................e...............................................................................................................................................
        add v13.4S, v22.4S, v10.4S                             // ...............................e..............................................................................................................................................
        add v25.4S, v28.4S, v25.4S                             // ................................e.............................................................................................................................................
        mls v9.4S, v16.4S, v8.S[0]                             // .................................e............................................................................................................................................
        ldr q29, [x5, #96]                                     // ..................................e...........................................................................................................................................
        add x5, x5, #64                                        // ..................................e...........................................................................................................................................
        mul v18.4S, v13.4S, v17.S[2]                           // ....................................e.........................................................................................................................................
        add v24.4S, v3.4S, v9.4S                               // .....................................e........................................................................................................................................
        sub v28.4S, v3.4S, v9.4S                               // ......................................e.......................................................................................................................................
        sqrdmulh v22.4S, v29.4S, v17.S[1]                      // .......................................e......................................................................................................................................
        mul v29.4S, v29.4S, v17.S[0]                           // ........................................e.....................................................................................................................................
        ldr q2, [x1, #-16]                                     // .........................................e....................................................................................................................................
        sqrdmulh v23.4S, v13.4S, v17.S[3]                      // ...........................................e..................................................................................................................................
        mls v29.4S, v22.4S, v8.S[0]                            // ............................................e.................................................................................................................................
        ldr q20, [x1, #-48]                                    // .............................................e................................................................................................................................
        mls v18.4S, v23.4S, v8.S[0]                            // ...............................................e..............................................................................................................................
        add v5.4S, v14.4S, v29.4S                              // ................................................e.............................................................................................................................
        sub v29.4S, v14.4S, v29.4S                             // .................................................e............................................................................................................................
        mul v12.4S, v0.4S, v20.S[0]                            // ..................................................e...........................................................................................................................
        mul v30.4S, v5.4S, v17.S[2]                            // ...................................................e..........................................................................................................................
        sqrdmulh v14.4S, v5.4S, v17.S[3]                       // ....................................................e.........................................................................................................................
        sqrdmulh v19.4S, v0.4S, v20.S[1]                       // .....................................................e........................................................................................................................
        add v31.4S, v24.4S, v18.4S                             // ......................................................e.......................................................................................................................
        mul v7.4S, v29.4S, v20.S[0]                            // .......................................................e......................................................................................................................
        mls v30.4S, v14.4S, v8.S[0]                            // ........................................................e.....................................................................................................................
        sub v15.4S, v24.4S, v18.4S                             // .........................................................e....................................................................................................................
        ldr q24, [x1, #-32]                                    // ..........................................................e...................................................................................................................
        sqrdmulh v5.4S, v29.4S, v20.S[1]                       // ............................................................e.................................................................................................................
        mul v1.4S, v31.4S, v20.S[2]                            // .............................................................e................................................................................................................
        mls v12.4S, v19.4S, v8.S[0]                            // ..............................................................e...............................................................................................................
        sqrdmulh v18.4S, v15.4S, v24.S[1]                      // ...............................................................e..............................................................................................................
        mls v7.4S, v5.4S, v8.S[0]                              // ................................................................e.............................................................................................................
        sqrdmulh v0.4S, v31.4S, v20.S[3]                       // .................................................................e............................................................................................................
        sub v10.4S, v28.4S, v12.4S                             // ..................................................................e...........................................................................................................
        sub v27.4S, v25.4S, v30.4S                             // ...................................................................e..........................................................................................................
        sub v31.4S, v21.4S, v7.4S                              // ....................................................................e.........................................................................................................
        add v23.4S, v21.4S, v7.4S                              // .....................................................................e........................................................................................................
        add v7.4S, v25.4S, v30.4S                              // ......................................................................e.......................................................................................................
        mls v1.4S, v0.4S, v8.S[0]                              // .......................................................................e......................................................................................................
        mul v6.4S, v10.4S, v2.S[0]                             // ........................................................................e.....................................................................................................
        ldr q17, [x2, #16]                                     // .........................................................................e....................................................................................................
        add v29.4S, v7.4S, v1.4S                               // ...........................................................................e..................................................................................................
        add v21.4S, v28.4S, v12.4S                             // ............................................................................e.................................................................................................
        ldr q12, [x2, #112]                                    // .............................................................................e................................................................................................
        mul v9.4S, v21.4S, v24.S[2]                            // ...............................................................................e..............................................................................................
        ldr q5, [x2], #(12*16)                                 // ................................................................................e.............................................................................................
        sqrdmulh v20.4S, v10.4S, v2.S[1]                       // ..................................................................................e...........................................................................................
        sub v13.4S, v7.4S, v1.4S                               // ...................................................................................e..........................................................................................
        sqrdmulh v2.4S, v21.4S, v24.S[3]                       // ....................................................................................e.........................................................................................
        ldr q14, [x2, #-96]                                    // .....................................................................................e........................................................................................
        mul v19.4S, v15.4S, v24.S[0]                           // .......................................................................................e......................................................................................
        trn2 v30.4S, v29.4S, v13.4S                            // ........................................................................................e.....................................................................................
        ldr q28, [x2, #-144]                                   // .........................................................................................e....................................................................................
        mls v9.4S, v2.4S, v8.S[0]                              // ...........................................................................................e..................................................................................
        mls v6.4S, v20.4S, v8.S[0]                             // ............................................................................................e.................................................................................
        mls v19.4S, v18.4S, v8.S[0]                            // .............................................................................................e................................................................................
        trn1 v22.4S, v29.4S, v13.4S                            // ..............................................................................................e...............................................................................
        sub v1.4S, v23.4S, v9.4S                               // ...............................................................................................e..............................................................................
        ldr q15, [x2, #-160]                                   // ................................................................................................e.............................................................................
        sub v0.4S, v27.4S, v19.4S                              // ..................................................................................................e...........................................................................
        sub v3.4S, v31.4S, v6.4S                               // ...................................................................................................e..........................................................................
        add v29.4S, v31.4S, v6.4S                              // ....................................................................................................e.........................................................................
        ldr q7, [x2, #-112]                                    // .....................................................................................................e........................................................................
        trn1 v20.4S, v29.4S, v3.4S                             // .......................................................................................................e......................................................................
        add v26.4S, v27.4S, v19.4S                             // ........................................................................................................e.....................................................................
        add v21.4S, v23.4S, v9.4S                              // .........................................................................................................e....................................................................
        ldr q31, [x2, #-32]                                    // ..........................................................................................................e...................................................................
        trn2 v10.4S, v26.4S, v0.4S                             // ............................................................................................................e.................................................................
        trn1 v24.4S, v26.4S, v0.4S                             // .............................................................................................................e................................................................
        trn1 v6.4S, v21.4S, v1.4S                              // ..............................................................................................................e...............................................................
        ldr q4, [x2, #-128]                                    // ...............................................................................................................e..............................................................
        trn2 v25.2D, v22.2D, v24.2D                            // .................................................................................................................e............................................................
        trn1 v19.2D, v30.2D, v10.2D                            // ..................................................................................................................e...........................................................
        trn2 v13.2D, v30.2D, v10.2D                            // ...................................................................................................................e..........................................................
        mul v9.4S, v25.4S, v5.4S                               // ....................................................................................................................e.........................................................
        trn2 v10.4S, v21.4S, v1.4S                             // .....................................................................................................................e........................................................
        trn2 v23.4S, v29.4S, v3.4S                             // ......................................................................................................................e.......................................................
        mul v16.4S, v13.4S, v5.4S                              // .......................................................................................................................e......................................................
        trn2 v0.2D, v6.2D, v20.2D                              // ........................................................................................................................e.....................................................
        trn2 v1.2D, v10.2D, v23.2D                             // .........................................................................................................................e....................................................
        sqrdmulh v29.4S, v13.4S, v17.4S                        // ..........................................................................................................................e...................................................
        trn1 v11.2D, v10.2D, v23.2D                            // ...........................................................................................................................e..................................................
        mul v30.4S, v1.4S, v14.4S                              // ............................................................................................................................e.................................................
        sqrdmulh v21.4S, v1.4S, v12.4S                         // .............................................................................................................................e................................................
        mul v1.4S, v0.4S, v14.4S                               // ..............................................................................................................................e...............................................
        ldr q10, [x2, #-16]                                    // ...............................................................................................................................e..............................................
        mls v16.4S, v29.4S, v8.S[0]                            // .................................................................................................................................e............................................
        ldr q3, [x2, #-48]                                     // ..................................................................................................................................e...........................................
        sqrdmulh v29.4S, v0.4S, v12.4S                         // ....................................................................................................................................e.........................................
        sub v12.4S, v19.4S, v16.4S                             // .....................................................................................................................................e........................................
        sqrdmulh v26.4S, v25.4S, v17.4S                        // ......................................................................................................................................e.......................................
        trn1 v5.2D, v6.2D, v20.2D                              // .......................................................................................................................................e......................................
        mls v30.4S, v21.4S, v8.S[0]                            // ........................................................................................................................................e.....................................
        sqrdmulh v0.4S, v12.4S, v7.4S                          // .........................................................................................................................................e....................................
        add v16.4S, v19.4S, v16.4S                             // ..........................................................................................................................................e...................................
        mul v17.4S, v12.4S, v4.4S                              // ...........................................................................................................................................e..................................
        trn1 v12.2D, v22.2D, v24.2D                            // ............................................................................................................................................e.................................
        mul v23.4S, v16.4S, v15.4S                             // .............................................................................................................................................e................................
        sub v21.4S, v11.4S, v30.4S                             // ..............................................................................................................................................e...............................
        mls v9.4S, v26.4S, v8.S[0]                             // ...............................................................................................................................................e..............................
        add v18.4S, v11.4S, v30.4S                             // ................................................................................................................................................e.............................
        mul v20.4S, v21.4S, v31.4S                             // .................................................................................................................................................e............................
        sqrdmulh v27.4S, v16.4S, v28.4S                        // ..................................................................................................................................................e...........................
        mls v1.4S, v29.4S, v8.S[0]                             // ...................................................................................................................................................e..........................
        ldr q15, [x2, #-64]                                    // ....................................................................................................................................................e.........................
        sqrdmulh v30.4S, v21.4S, v10.4S                        // ......................................................................................................................................................e.......................
        mls v17.4S, v0.4S, v8.S[0]                             // .......................................................................................................................................................e......................
        add v22.4S, v12.4S, v9.4S                              // ........................................................................................................................................................e.....................
        sub v12.4S, v12.4S, v9.4S                              // .........................................................................................................................................................e....................
        sub v9.4S, v5.4S, v1.4S                                // ..........................................................................................................................................................e...................
        mls v20.4S, v30.4S, v8.S[0]                            // ...........................................................................................................................................................e..................
        add v7.4S, v5.4S, v1.4S                                // ............................................................................................................................................................e.................
        sqrdmulh v4.4S, v18.4S, v3.4S                          // .............................................................................................................................................................e................
        sub v6.4S, v12.4S, v17.4S                              // ..............................................................................................................................................................e...............
        mul v14.4S, v18.4S, v15.4S                             // ...............................................................................................................................................................e..............
        sub v26.4S, v9.4S, v20.4S                              // ................................................................................................................................................................e.............
        mls v23.4S, v27.4S, v8.S[0]                            // .................................................................................................................................................................e............
        add v5.4S, v12.4S, v17.4S                              // ..................................................................................................................................................................e...........
        mls v14.4S, v4.4S, v8.S[0]                             // ...................................................................................................................................................................e..........
        add v25.4S, v9.4S, v20.4S                              // ....................................................................................................................................................................e.........
        add v3.4S, v22.4S, v23.4S                              // .....................................................................................................................................................................e........
        sub v4.4S, v22.4S, v23.4S                              // ......................................................................................................................................................................e.......
        add v23.4S, v7.4S, v14.4S                              // .......................................................................................................................................................................e......
        sub v24.4S, v7.4S, v14.4S                              // ........................................................................................................................................................................e.....
        st4 {v3.4S, v4.4S, v5.4S, v6.4S}, [x0], #64            // .........................................................................................................................................................................e....

                                                                // --------------------------------------------------------------------------- cycle (expected) ---------------------------------------------------------------------------->
                                                                // 0                        25                       50                       75                       100                      125                      150
                                                                // |------------------------|------------------------|------------------------|------------------------|------------------------|------------------------|-------------------
        // ldr q9, [x0, #(64 + 16*0)]                           // ..e......................................................................................................................................................................'
        // ldr q10, [x0, #(64 + 16*1)]                          // ......e..................................................................................................................................................................'
        // ldr q11, [x0, #(64 + 16*2)]                          // ........e................................................................................................................................................................'
        // ldr q12, [x0, #(64 + 16*3)]                          // e........................................................................................................................................................................'
        // ldr q13, [x5, #(64 + 16*0)]                          // ....e....................................................................................................................................................................'
        // ldr q14, [x5, #(64 + 16*1)]                          // ..................e......................................................................................................................................................'
        // ldr q15, [x5, #(64 + 16*2)]                          // .............................e...........................................................................................................................................'
        // ldr q16, [x5, #(64 + 16*3)]                          // ............e............................................................................................................................................................'
        // add x0, x0, #64                                      // ........e................................................................................................................................................................'
        // add x5, x5, #64                                      // .............................e...........................................................................................................................................'
        // ldr q0, [x1], #64                                    // ..........e..............................................................................................................................................................'
        // ldr q1, [x1, #(-64 + 16)]                            // ........................................e................................................................................................................................'
        // ldr q2, [x1, #(-64 + 32)]                            // .....................................................e...................................................................................................................'
        // ldr q3, [x1, #(-64 + 48)]                            // ....................................e....................................................................................................................................'
        // sqrdmulh v27.4s,      v13.4s, v0.s[1]                // ..............e..........................................................................................................................................................'
        // mul      v24.4s, v13.4s, v0.s[0]                     // ...............e.........................................................................................................................................................'
        // mls      v24.4s, v27.4s,      v8.s[0]                // ....................e....................................................................................................................................................'
        // sub     v13.4s,    v9.4s, v24.4s                     // ........................e................................................................................................................................................'
        // add     v9.4s,    v9.4s, v24.4s                      // ...........................e.............................................................................................................................................'
        // sqrdmulh v27.4s,      v14.4s, v0.s[1]                // .......................e.................................................................................................................................................'
        // mul      v24.4s, v14.4s, v0.s[0]                     // ......................e..................................................................................................................................................'
        // mls      v24.4s, v27.4s,      v8.s[0]                // ............................e............................................................................................................................................'
        // sub     v14.4s,    v10.4s, v24.4s                    // .................................e.......................................................................................................................................'
        // add     v10.4s,    v10.4s, v24.4s                    // ................................e........................................................................................................................................'
        // sqrdmulh v27.4s,      v15.4s, v0.s[1]                // ..................................e......................................................................................................................................'
        // mul      v24.4s, v15.4s, v0.s[0]                     // ...................................e.....................................................................................................................................'
        // mls      v24.4s, v27.4s,      v8.s[0]                // .......................................e.................................................................................................................................'
        // sub     v15.4s,    v11.4s, v24.4s                    // ............................................e............................................................................................................................'
        // add     v11.4s,    v11.4s, v24.4s                    // ...........................................e.............................................................................................................................'
        // sqrdmulh v27.4s,      v16.4s, v0.s[1]                // ................e........................................................................................................................................................'
        // mul      v24.4s, v16.4s, v0.s[0]                     // .................e.......................................................................................................................................................'
        // mls      v24.4s, v27.4s,      v8.s[0]                // .....................e...................................................................................................................................................'
        // sub     v16.4s,    v12.4s, v24.4s                    // .........................e...............................................................................................................................................'
        // add     v12.4s,    v12.4s, v24.4s                    // ..........................e..............................................................................................................................................'
        // sqrdmulh v27.4s,      v11.4s, v0.s[3]                // ...............................................e.........................................................................................................................'
        // mul      v24.4s, v11.4s, v0.s[2]                     // ..............................................e..........................................................................................................................'
        // mls      v24.4s, v27.4s,      v8.s[0]                // ...................................................e.....................................................................................................................'
        // sub     v11.4s,    v9.4s, v24.4s                     // ..............................................................e..........................................................................................................'
        // add     v9.4s,    v9.4s, v24.4s                      // .................................................................e.......................................................................................................'
        // sqrdmulh v27.4s,      v12.4s, v0.s[3]                // ......................................e..................................................................................................................................'
        // mul      v24.4s, v12.4s, v0.s[2]                     // ...............................e.........................................................................................................................................'
        // mls      v24.4s, v27.4s,      v8.s[0]                // ..........................................e..............................................................................................................................'
        // sub     v12.4s,    v10.4s, v24.4s                    // ....................................................e....................................................................................................................'
        // add     v10.4s,    v10.4s, v24.4s                    // .................................................e.......................................................................................................................'
        // sqrdmulh v27.4s,      v15.4s, v1.s[1]                // .......................................................e.................................................................................................................'
        // mul      v24.4s, v15.4s, v1.s[0]                     // ..................................................e......................................................................................................................'
        // mls      v24.4s, v27.4s,      v8.s[0]                // ...........................................................e.............................................................................................................'
        // sub     v15.4s,    v13.4s, v24.4s                    // ...............................................................e.........................................................................................................'
        // add     v13.4s,    v13.4s, v24.4s                    // ................................................................e........................................................................................................'
        // sqrdmulh v27.4s,      v16.4s, v1.s[1]                // ................................................e........................................................................................................................'
        // mul      v24.4s, v16.4s, v1.s[0]                     // .............................................e...........................................................................................................................'
        // mls      v24.4s, v27.4s,      v8.s[0]                // .........................................................e...............................................................................................................'
        // sub     v16.4s,    v14.4s, v24.4s                    // .............................................................e...........................................................................................................'
        // add     v14.4s,    v14.4s, v24.4s                    // .......................................................................e.................................................................................................'
        // sqrdmulh v27.4s,      v10.4s, v1.s[3]                // ............................................................e............................................................................................................'
        // mul      v24.4s, v10.4s, v1.s[2]                     // ........................................................e................................................................................................................'
        // mls      v24.4s, v27.4s,      v8.s[0]                // ..................................................................e......................................................................................................'
        // sub     v10.4s,    v9.4s, v24.4s                     // ..............................................................................e..........................................................................................'
        // add     v9.4s,    v9.4s, v24.4s                      // ......................................................................e..................................................................................................'
        // sqrdmulh v27.4s,      v12.4s, v2.s[1]                // ..........................................................e..............................................................................................................'
        // mul      v24.4s, v12.4s, v2.s[0]                     // ..................................................................................e......................................................................................'
        // mls      v24.4s, v27.4s,      v8.s[0]                // ........................................................................................e................................................................................'
        // sub     v12.4s,    v11.4s, v24.4s                    // .............................................................................................e...........................................................................'
        // add     v11.4s,    v11.4s, v24.4s                    // ...................................................................................................e.....................................................................'
        // sqrdmulh v27.4s,      v14.4s, v2.s[3]                // ...............................................................................e.........................................................................................'
        // mul      v24.4s, v14.4s, v2.s[2]                     // ..........................................................................e..............................................................................................'
        // mls      v24.4s, v27.4s,      v8.s[0]                // ......................................................................................e..................................................................................'
        // sub     v14.4s,    v13.4s, v24.4s                    // ..........................................................................................e..............................................................................'
        // add     v13.4s,    v13.4s, v24.4s                    // ....................................................................................................e....................................................................'
        // sqrdmulh v27.4s,      v16.4s, v3.s[1]                // .............................................................................e...........................................................................................'
        // mul      v24.4s, v16.4s, v3.s[0]                     // ...................................................................e.....................................................................................................'
        // mls      v24.4s, v27.4s,      v8.s[0]                // .......................................................................................e.................................................................................'
        // sub     v16.4s,    v15.4s, v24.4s                    // ..............................................................................................e..........................................................................'
        // add     v15.4s,    v15.4s, v24.4s                    // ...............................................................................................e.........................................................................'
        // trn1 v25.4s, v9.4s, v10.4s                           // .........................................................................................e...............................................................................'
        // trn2 v26.4s, v9.4s, v10.4s                           // ...................................................................................e.....................................................................................'
        // trn1 v27.4s, v11.4s, v12.4s                          // ........................................................................................................e................................................................'
        // trn2 v28.4s, v11.4s, v12.4s                          // .......................................................................................................e.................................................................'
        // trn2 v11.2d, v25.2d, v27.2d                          // ............................................................................................................e............................................................'
        // trn2 v12.2d, v26.2d, v28.2d                          // ..............................................................................................................e..........................................................'
        // trn1 v9.2d, v25.2d, v27.2d                           // .......................................................................................................................................e.................................'
        // trn1 v10.2d, v26.2d, v28.2d                          // .............................................................................................................e...........................................................'
        // trn1 v25.4s, v13.4s, v14.4s                          // .........................................................................................................e...............................................................'
        // trn2 v26.4s, v13.4s, v14.4s                          // ................................................................................................................e........................................................'
        // trn1 v27.4s, v15.4s, v16.4s                          // ..................................................................................................e......................................................................'
        // trn2 v28.4s, v15.4s, v16.4s                          // .................................................................................................................e.......................................................'
        // trn2 v15.2d, v25.2d, v27.2d                          // ...................................................................................................................e.....................................................'
        // trn2 v16.2d, v26.2d, v28.2d                          // ....................................................................................................................e....................................................'
        // trn1 v13.2d, v25.2d, v27.2d                          // ..................................................................................................................................e......................................'
        // trn1 v14.2d, v26.2d, v28.2d                          // ......................................................................................................................e..................................................'
        // ldr q0,    [x2], #(12*16)                            // ...........................................................................e.............................................................................................'
        // ldr q4, [x2, #(-12*16 + 1*16)]                       // ....................................................................e....................................................................................................'
        // ldr q1,    [x2, #(-12*16 + 2*16)]                    // ...........................................................................................e.............................................................................'
        // ldr q5, [x2, #(-12*16 + 3*16)]                       // ....................................................................................e....................................................................................'
        // ldr q2,    [x2, #(-12*16 + 4*16)]                    // ..........................................................................................................e..............................................................'
        // ldr q6, [x2, #(-12*16 + 5*16)]                       // ................................................................................................e........................................................................'
        // sqrdmulh v27.4s,   v11.4s, v4.4s                     // .................................................................................................................................e.......................................'
        // mul      v24.4s, v11.4s, v0.4s                       // ...............................................................................................................e.........................................................'
        // mls      v24.4s, v27.4s,   v8.s[0]                   // ..........................................................................................................................................e..............................'
        // sub    v11.4s,    v9.4s, v24.4s                      // ....................................................................................................................................................e....................'
        // add    v9.4s,    v9.4s, v24.4s                       // ...................................................................................................................................................e.....................'
        // sqrdmulh v27.4s,   v12.4s, v4.4s                     // .....................................................................................................................e...................................................'
        // mul      v24.4s, v12.4s, v0.4s                       // ..................................................................................................................e......................................................'
        // mls      v24.4s, v27.4s,   v8.s[0]                   // ............................................................................................................................e............................................'
        // sub    v12.4s,    v10.4s, v24.4s                     // ................................................................................................................................e........................................'
        // add    v10.4s,    v10.4s, v24.4s                     // .....................................................................................................................................e...................................'
        // sqrdmulh v27.4s,   v10.4s, v5.4s                     // .............................................................................................................................................e...........................'
        // mul      v24.4s, v10.4s, v1.4s                       // ........................................................................................................................................e................................'
        // mls      v24.4s, v27.4s,   v8.s[0]                   // ............................................................................................................................................................e............'
        // sub    v10.4s,    v9.4s, v24.4s                      // .................................................................................................................................................................e.......'
        // add    v9.4s,    v9.4s, v24.4s                       // ................................................................................................................................................................e........'
        // sqrdmulh v27.4s,   v12.4s, v6.4s                     // ....................................................................................................................................e....................................'
        // mul      v24.4s, v12.4s, v2.4s                       // ......................................................................................................................................e..................................'
        // mls      v24.4s, v27.4s,   v8.s[0]                   // ..................................................................................................................................................e......................'
        // sub    v12.4s,    v11.4s, v24.4s                     // .........................................................................................................................................................e...............'
        // add    v11.4s,    v11.4s, v24.4s                     // .............................................................................................................................................................e...........'
        // ldr q0,    [x2, #(-12*16 +  6*16)]                   // ................................................................................e........................................................................................'
        // ldr q4, [x2, #(-12*16 +  7*16)]                      // ........................................................................e................................................................................................'
        // ldr q1,    [x2, #(-12*16 +  8*16)]                   // ...............................................................................................................................................e.........................'
        // ldr q5, [x2, #(-12*16 +  9*16)]                      // .............................................................................................................................e...........................................'
        // ldr q2,    [x2, #(-12*16 + 10*16)]                   // .....................................................................................................e...................................................................'
        // ldr q6, [x2, #(-12*16 + 11*16)]                      // ..........................................................................................................................e..............................................'
        // sqrdmulh v27.4s,   v15.4s, v4.4s                     // ...............................................................................................................................e.........................................'
        // mul      v24.4s, v15.4s, v0.4s                       // .........................................................................................................................e...............................................'
        // mls      v24.4s, v27.4s,   v8.s[0]                   // ..............................................................................................................................................e..........................'
        // sub    v15.4s,    v13.4s, v24.4s                     // .....................................................................................................................................................e...................'
        // add    v13.4s,    v13.4s, v24.4s                     // .......................................................................................................................................................e.................'
        // sqrdmulh v27.4s,   v16.4s, v4.4s                     // ........................................................................................................................e................................................'
        // mul      v24.4s, v16.4s, v0.4s                       // .......................................................................................................................e.................................................'
        // mls      v24.4s, v27.4s,   v8.s[0]                   // ...................................................................................................................................e.....................................'
        // sub    v16.4s,    v14.4s, v24.4s                     // .........................................................................................................................................e...............................'
        // add    v14.4s,    v14.4s, v24.4s                     // ...........................................................................................................................................e.............................'
        // sqrdmulh v27.4s,   v14.4s, v5.4s                     // ........................................................................................................................................................e................'
        // mul      v24.4s, v14.4s, v1.4s                       // ..........................................................................................................................................................e..............'
        // mls      v24.4s, v27.4s,   v8.s[0]                   // ..............................................................................................................................................................e..........'
        // sub    v14.4s,    v13.4s, v24.4s                     // ...................................................................................................................................................................e.....'
        // add    v13.4s,    v13.4s, v24.4s                     // ..................................................................................................................................................................e......'
        // sqrdmulh v27.4s,   v16.4s, v6.4s                     // .................................................................................................................................................e.......................'
        // mul      v24.4s, v16.4s, v2.4s                       // ............................................................................................................................................e............................'
        // mls      v24.4s, v27.4s,   v8.s[0]                   // ......................................................................................................................................................e..................'
        // sub    v16.4s,    v15.4s, v24.4s                     // ...........................................................................................................................................................e.............'
        // add    v15.4s,    v15.4s, v24.4s                     // ...............................................................................................................................................................e.........'
        // st4 {v9.4S, v10.4S, v11.4S, v12.4S}, [x0], #64       // ....................................................................................................................................................................e....'
        // st4 {v13.4S, v14.4S, v15.4S, v16.4S}, [x5], #64      // .........................................................................................................................................................................*

        sub count, count, 1
        cbnz count, layer45678_start
                                                               // Instructions:    1
                                                               // Expected cycles: 1
                                                               // Expected IPC:    1.00
                                                               //
                                                               // Cycle bound:     1.0
                                                               // IPC bound:       1.00
                                                               //
                                                               // Wall time:     0.00s
                                                               // User time:     0.00s
                                                               //
                                                               // ----- cycle (expected) ------>
                                                               // 0                        25
                                                               // |------------------------|----
        st4 {v23.4S, v24.4S, v25.4S, v26.4S}, [x5], #64        // *.............................

                                                                // ------ cycle (expected) ------>
                                                                // 0                        25
                                                                // |------------------------|-----
        // st4 {v23.4S, v24.4S, v25.4S, v26.4S}, [x5], #64      // *..............................


       pop_stack
       ret

#endif /* MLD_ARITH_BACKEND_AARCH64 */
